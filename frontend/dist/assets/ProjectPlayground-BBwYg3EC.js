import{g as Hl,r as _d,G as at,a as O,R as ee,Q as bd,b as yd,j as te,F as jl,c as Sd,d as Cd,e as us,f as ja,h as wd,i as ia,u as zl,k as Ed}from"./index-BY9MQxqz.js";function xd(e,t){for(var r=0;r<t.length;r++){const i=t[r];if(typeof i!="string"&&!Array.isArray(i)){for(const n in i)if(n!=="default"&&!(n in e)){const h=Object.getOwnPropertyDescriptor(i,n);h&&Object.defineProperty(e,n,h.get?h:{enumerable:!0,get:()=>i[n]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}var Nl=_d();const eo=Hl(Nl),Rd=xd({__proto__:null,default:eo},[Nl]),Vt=Object.create(null);Vt.open="0";Vt.close="1";Vt.ping="2";Vt.pong="3";Vt.message="4";Vt.upgrade="5";Vt.noop="6";const fn=Object.create(null);Object.keys(Vt).forEach(e=>{fn[Vt[e]]=e});const to={type:"error",data:"parser error"},Vl=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",Wl=typeof ArrayBuffer=="function",Ul=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,na=({type:e,data:t},r,i)=>Vl&&t instanceof Blob?r?i(t):za(t,i):Wl&&(t instanceof ArrayBuffer||Ul(t))?r?i(t):za(new Blob([t]),i):i(Vt[e]+(t||"")),za=(e,t)=>{const r=new FileReader;return r.onload=function(){const i=r.result.split(",")[1];t("b"+(i||""))},r.readAsDataURL(e)};function Na(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}let hs;function Od(e,t){if(Vl&&e.data instanceof Blob)return e.data.arrayBuffer().then(Na).then(t);if(Wl&&(e.data instanceof ArrayBuffer||Ul(e.data)))return t(Na(e.data));na(e,!1,r=>{hs||(hs=new TextEncoder),t(hs.encode(r))})}const Va="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",li=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let e=0;e<Va.length;e++)li[Va.charCodeAt(e)]=e;const Ad=e=>{let t=e.length*.75,r=e.length,i,n=0,h,f,s,o;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);const a=new ArrayBuffer(t),d=new Uint8Array(a);for(i=0;i<r;i+=4)h=li[e.charCodeAt(i)],f=li[e.charCodeAt(i+1)],s=li[e.charCodeAt(i+2)],o=li[e.charCodeAt(i+3)],d[n++]=h<<2|f>>4,d[n++]=(f&15)<<4|s>>2,d[n++]=(s&3)<<6|o&63;return a},Td=typeof ArrayBuffer=="function",sa=(e,t)=>{if(typeof e!="string")return{type:"message",data:ql(e,t)};const r=e.charAt(0);return r==="b"?{type:"message",data:Ld(e.substring(1),t)}:fn[r]?e.length>1?{type:fn[r],data:e.substring(1)}:{type:fn[r]}:to},Ld=(e,t)=>{if(Td){const r=Ad(e);return ql(r,t)}else return{base64:!0,data:e}},ql=(e,t)=>{switch(t){case"blob":return e instanceof Blob?e:new Blob([e]);case"arraybuffer":default:return e instanceof ArrayBuffer?e:e.buffer}},Gl="",Md=(e,t)=>{const r=e.length,i=new Array(r);let n=0;e.forEach((h,f)=>{na(h,!1,s=>{i[f]=s,++n===r&&t(i.join(Gl))})})},Id=(e,t)=>{const r=e.split(Gl),i=[];for(let n=0;n<r.length;n++){const h=sa(r[n],t);if(i.push(h),h.type==="error")break}return i};function Pd(){return new TransformStream({transform(e,t){Od(e,r=>{const i=r.length;let n;if(i<126)n=new Uint8Array(1),new DataView(n.buffer).setUint8(0,i);else if(i<65536){n=new Uint8Array(3);const h=new DataView(n.buffer);h.setUint8(0,126),h.setUint16(1,i)}else{n=new Uint8Array(9);const h=new DataView(n.buffer);h.setUint8(0,127),h.setBigUint64(1,BigInt(i))}e.data&&typeof e.data!="string"&&(n[0]|=128),t.enqueue(n),t.enqueue(r)})}})}let ds;function Zi(e){return e.reduce((t,r)=>t+r.length,0)}function Qi(e,t){if(e[0].length===t)return e.shift();const r=new Uint8Array(t);let i=0;for(let n=0;n<t;n++)r[n]=e[0][i++],i===e[0].length&&(e.shift(),i=0);return e.length&&i<e[0].length&&(e[0]=e[0].slice(i)),r}function kd(e,t){ds||(ds=new TextDecoder);const r=[];let i=0,n=-1,h=!1;return new TransformStream({transform(f,s){for(r.push(f);;){if(i===0){if(Zi(r)<1)break;const o=Qi(r,1);h=(o[0]&128)===128,n=o[0]&127,n<126?i=3:n===126?i=1:i=2}else if(i===1){if(Zi(r)<2)break;const o=Qi(r,2);n=new DataView(o.buffer,o.byteOffset,o.length).getUint16(0),i=3}else if(i===2){if(Zi(r)<8)break;const o=Qi(r,8),a=new DataView(o.buffer,o.byteOffset,o.length),d=a.getUint32(0);if(d>Math.pow(2,21)-1){s.enqueue(to);break}n=d*Math.pow(2,32)+a.getUint32(4),i=3}else{if(Zi(r)<n)break;const o=Qi(r,n);s.enqueue(sa(h?o:ds.decode(o),t)),i=0}if(n===0||n>e){s.enqueue(to);break}}}})}const Kl=4;function qe(e){if(e)return Bd(e)}function Bd(e){for(var t in qe.prototype)e[t]=qe.prototype[t];return e}qe.prototype.on=qe.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this};qe.prototype.once=function(e,t){function r(){this.off(e,r),t.apply(this,arguments)}return r.fn=t,this.on(e,r),this};qe.prototype.off=qe.prototype.removeListener=qe.prototype.removeAllListeners=qe.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var r=this._callbacks["$"+e];if(!r)return this;if(arguments.length==1)return delete this._callbacks["$"+e],this;for(var i,n=0;n<r.length;n++)if(i=r[n],i===t||i.fn===t){r.splice(n,1);break}return r.length===0&&delete this._callbacks["$"+e],this};qe.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),r=this._callbacks["$"+e],i=1;i<arguments.length;i++)t[i-1]=arguments[i];if(r){r=r.slice(0);for(var i=0,n=r.length;i<n;++i)r[i].apply(this,t)}return this};qe.prototype.emitReserved=qe.prototype.emit;qe.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]};qe.prototype.hasListeners=function(e){return!!this.listeners(e).length};const Fn=typeof Promise=="function"&&typeof Promise.resolve=="function"?t=>Promise.resolve().then(t):(t,r)=>r(t,0),At=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),Dd="arraybuffer";function Xl(e,...t){return t.reduce((r,i)=>(e.hasOwnProperty(i)&&(r[i]=e[i]),r),{})}const $d=At.setTimeout,Fd=At.clearTimeout;function Hn(e,t){t.useNativeTimers?(e.setTimeoutFn=$d.bind(At),e.clearTimeoutFn=Fd.bind(At)):(e.setTimeoutFn=At.setTimeout.bind(At),e.clearTimeoutFn=At.clearTimeout.bind(At))}const Hd=1.33;function jd(e){return typeof e=="string"?zd(e):Math.ceil((e.byteLength||e.size)*Hd)}function zd(e){let t=0,r=0;for(let i=0,n=e.length;i<n;i++)t=e.charCodeAt(i),t<128?r+=1:t<2048?r+=2:t<55296||t>=57344?r+=3:(i++,r+=4);return r}function Yl(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function Nd(e){let t="";for(let r in e)e.hasOwnProperty(r)&&(t.length&&(t+="&"),t+=encodeURIComponent(r)+"="+encodeURIComponent(e[r]));return t}function Vd(e){let t={},r=e.split("&");for(let i=0,n=r.length;i<n;i++){let h=r[i].split("=");t[decodeURIComponent(h[0])]=decodeURIComponent(h[1])}return t}class Wd extends Error{constructor(t,r,i){super(t),this.description=r,this.context=i,this.type="TransportError"}}class oa extends qe{constructor(t){super(),this.writable=!1,Hn(this,t),this.opts=t,this.query=t.query,this.socket=t.socket,this.supportsBinary=!t.forceBase64}onError(t,r,i){return super.emitReserved("error",new Wd(t,r,i)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(t){this.readyState==="open"&&this.write(t)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(t){const r=sa(t,this.socket.binaryType);this.onPacket(r)}onPacket(t){super.emitReserved("packet",t)}onClose(t){this.readyState="closed",super.emitReserved("close",t)}pause(t){}createUri(t,r={}){return t+"://"+this._hostname()+this._port()+this.opts.path+this._query(r)}_hostname(){const t=this.opts.hostname;return t.indexOf(":")===-1?t:"["+t+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(t){const r=Nd(t);return r.length?"?"+r:""}}class Ud extends oa{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(t){this.readyState="pausing";const r=()=>{this.readyState="paused",t()};if(this._polling||!this.writable){let i=0;this._polling&&(i++,this.once("pollComplete",function(){--i||r()})),this.writable||(i++,this.once("drain",function(){--i||r()}))}else r()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(t){const r=i=>{if(this.readyState==="opening"&&i.type==="open"&&this.onOpen(),i.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(i)};Id(t,this.socket.binaryType).forEach(r),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const t=()=>{this.write([{type:"close"}])};this.readyState==="open"?t():this.once("open",t)}write(t){this.writable=!1,Md(t,r=>{this.doWrite(r,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const t=this.opts.secure?"https":"http",r=this.query||{};return this.opts.timestampRequests!==!1&&(r[this.opts.timestampParam]=Yl()),!this.supportsBinary&&!r.sid&&(r.b64=1),this.createUri(t,r)}}let Jl=!1;try{Jl=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const qd=Jl;function Gd(){}class Kd extends Ud{constructor(t){if(super(t),typeof location<"u"){const r=location.protocol==="https:";let i=location.port;i||(i=r?"443":"80"),this.xd=typeof location<"u"&&t.hostname!==location.hostname||i!==t.port}}doWrite(t,r){const i=this.request({method:"POST",data:t});i.on("success",r),i.on("error",(n,h)=>{this.onError("xhr post error",n,h)})}doPoll(){const t=this.request();t.on("data",this.onData.bind(this)),t.on("error",(r,i)=>{this.onError("xhr poll error",r,i)}),this.pollXhr=t}}class Nt extends qe{constructor(t,r,i){super(),this.createRequest=t,Hn(this,i),this._opts=i,this._method=i.method||"GET",this._uri=r,this._data=i.data!==void 0?i.data:null,this._create()}_create(){var t;const r=Xl(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");r.xdomain=!!this._opts.xd;const i=this._xhr=this.createRequest(r);try{i.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){i.setDisableHeaderCheck&&i.setDisableHeaderCheck(!0);for(let n in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(n)&&i.setRequestHeader(n,this._opts.extraHeaders[n])}}catch{}if(this._method==="POST")try{i.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{i.setRequestHeader("Accept","*/*")}catch{}(t=this._opts.cookieJar)===null||t===void 0||t.addCookies(i),"withCredentials"in i&&(i.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(i.timeout=this._opts.requestTimeout),i.onreadystatechange=()=>{var n;i.readyState===3&&((n=this._opts.cookieJar)===null||n===void 0||n.parseCookies(i.getResponseHeader("set-cookie"))),i.readyState===4&&(i.status===200||i.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof i.status=="number"?i.status:0)},0))},i.send(this._data)}catch(n){this.setTimeoutFn(()=>{this._onError(n)},0);return}typeof document<"u"&&(this._index=Nt.requestsCount++,Nt.requests[this._index]=this)}_onError(t){this.emitReserved("error",t,this._xhr),this._cleanup(!0)}_cleanup(t){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=Gd,t)try{this._xhr.abort()}catch{}typeof document<"u"&&delete Nt.requests[this._index],this._xhr=null}}_onLoad(){const t=this._xhr.responseText;t!==null&&(this.emitReserved("data",t),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}Nt.requestsCount=0;Nt.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",Wa);else if(typeof addEventListener=="function"){const e="onpagehide"in At?"pagehide":"unload";addEventListener(e,Wa,!1)}}function Wa(){for(let e in Nt.requests)Nt.requests.hasOwnProperty(e)&&Nt.requests[e].abort()}const Xd=function(){const e=Zl({xdomain:!1});return e&&e.responseType!==null}();class Yd extends Kd{constructor(t){super(t);const r=t&&t.forceBase64;this.supportsBinary=Xd&&!r}request(t={}){return Object.assign(t,{xd:this.xd},this.opts),new Nt(Zl,this.uri(),t)}}function Zl(e){const t=e.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!t||qd))return new XMLHttpRequest}catch{}if(!t)try{return new At[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const Ql=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class Jd extends oa{get name(){return"websocket"}doOpen(){const t=this.uri(),r=this.opts.protocols,i=Ql?{}:Xl(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(i.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(t,r,i)}catch(n){return this.emitReserved("error",n)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=t=>this.onClose({description:"websocket connection closed",context:t}),this.ws.onmessage=t=>this.onData(t.data),this.ws.onerror=t=>this.onError("websocket error",t)}write(t){this.writable=!1;for(let r=0;r<t.length;r++){const i=t[r],n=r===t.length-1;na(i,this.supportsBinary,h=>{try{this.doWrite(i,h)}catch{}n&&Fn(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const t=this.opts.secure?"wss":"ws",r=this.query||{};return this.opts.timestampRequests&&(r[this.opts.timestampParam]=Yl()),this.supportsBinary||(r.b64=1),this.createUri(t,r)}}const fs=At.WebSocket||At.MozWebSocket;class Zd extends Jd{createSocket(t,r,i){return Ql?new fs(t,r,i):r?new fs(t,r):new fs(t)}doWrite(t,r){this.ws.send(r)}}class Qd extends oa{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(t){return this.emitReserved("error",t)}this._transport.closed.then(()=>{this.onClose()}).catch(t=>{this.onError("webtransport error",t)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(t=>{const r=kd(Number.MAX_SAFE_INTEGER,this.socket.binaryType),i=t.readable.pipeThrough(r).getReader(),n=Pd();n.readable.pipeTo(t.writable),this._writer=n.writable.getWriter();const h=()=>{i.read().then(({done:s,value:o})=>{s||(this.onPacket(o),h())}).catch(s=>{})};h();const f={type:"open"};this.query.sid&&(f.data=`{"sid":"${this.query.sid}"}`),this._writer.write(f).then(()=>this.onOpen())})})}write(t){this.writable=!1;for(let r=0;r<t.length;r++){const i=t[r],n=r===t.length-1;this._writer.write(i).then(()=>{n&&Fn(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var t;(t=this._transport)===null||t===void 0||t.close()}}const ef={websocket:Zd,webtransport:Qd,polling:Yd},tf=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,rf=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function ro(e){if(e.length>8e3)throw"URI too long";const t=e,r=e.indexOf("["),i=e.indexOf("]");r!=-1&&i!=-1&&(e=e.substring(0,r)+e.substring(r,i).replace(/:/g,";")+e.substring(i,e.length));let n=tf.exec(e||""),h={},f=14;for(;f--;)h[rf[f]]=n[f]||"";return r!=-1&&i!=-1&&(h.source=t,h.host=h.host.substring(1,h.host.length-1).replace(/;/g,":"),h.authority=h.authority.replace("[","").replace("]","").replace(/;/g,":"),h.ipv6uri=!0),h.pathNames=nf(h,h.path),h.queryKey=sf(h,h.query),h}function nf(e,t){const r=/\/{2,9}/g,i=t.replace(r,"/").split("/");return(t.slice(0,1)=="/"||t.length===0)&&i.splice(0,1),t.slice(-1)=="/"&&i.splice(i.length-1,1),i}function sf(e,t){const r={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(i,n,h){n&&(r[n]=h)}),r}const io=typeof addEventListener=="function"&&typeof removeEventListener=="function",pn=[];io&&addEventListener("offline",()=>{pn.forEach(e=>e())},!1);class sr extends qe{constructor(t,r){if(super(),this.binaryType=Dd,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,t&&typeof t=="object"&&(r=t,t=null),t){const i=ro(t);r.hostname=i.host,r.secure=i.protocol==="https"||i.protocol==="wss",r.port=i.port,i.query&&(r.query=i.query)}else r.host&&(r.hostname=ro(r.host).host);Hn(this,r),this.secure=r.secure!=null?r.secure:typeof location<"u"&&location.protocol==="https:",r.hostname&&!r.port&&(r.port=this.secure?"443":"80"),this.hostname=r.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=r.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},r.transports.forEach(i=>{const n=i.prototype.name;this.transports.push(n),this._transportsByName[n]=i}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},r),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=Vd(this.opts.query)),io&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},pn.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(t){const r=Object.assign({},this.opts.query);r.EIO=Kl,r.transport=t,this.id&&(r.sid=this.id);const i=Object.assign({},this.opts,{query:r,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[t]);return new this._transportsByName[t](i)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const t=this.opts.rememberUpgrade&&sr.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const r=this.createTransport(t);r.open(),this.setTransport(r)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",r=>this._onClose("transport close",r))}onOpen(){this.readyState="open",sr.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const r=new Error("server error");r.code=t.data,this._onError(r);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data);break}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this._pingInterval=t.pingInterval,this._pingTimeout=t.pingTimeout,this._maxPayload=t.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const t=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+t,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},t),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const t=this._getWritablePackets();this.transport.send(t),this._prevBufferLen=t.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let r=1;for(let i=0;i<this.writeBuffer.length;i++){const n=this.writeBuffer[i].data;if(n&&(r+=jd(n)),i>0&&r>this._maxPayload)return this.writeBuffer.slice(0,i);r+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const t=Date.now()>this._pingTimeoutTime;return t&&(this._pingTimeoutTime=0,Fn(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),t}write(t,r,i){return this._sendPacket("message",t,r,i),this}send(t,r,i){return this._sendPacket("message",t,r,i),this}_sendPacket(t,r,i,n){if(typeof r=="function"&&(n=r,r=void 0),typeof i=="function"&&(n=i,i=null),this.readyState==="closing"||this.readyState==="closed")return;i=i||{},i.compress=i.compress!==!1;const h={type:t,data:r,options:i};this.emitReserved("packetCreate",h),this.writeBuffer.push(h),n&&this.once("flush",n),this.flush()}close(){const t=()=>{this._onClose("forced close"),this.transport.close()},r=()=>{this.off("upgrade",r),this.off("upgradeError",r),t()},i=()=>{this.once("upgrade",r),this.once("upgradeError",r)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?i():t()}):this.upgrading?i():t()),this}_onError(t){if(sr.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",t),this._onClose("transport error",t)}_onClose(t,r){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),io&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const i=pn.indexOf(this._offlineEventListener);i!==-1&&pn.splice(i,1)}this.readyState="closed",this.id=null,this.emitReserved("close",t,r),this.writeBuffer=[],this._prevBufferLen=0}}}sr.protocol=Kl;class of extends sr{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let t=0;t<this._upgrades.length;t++)this._probe(this._upgrades[t])}_probe(t){let r=this.createTransport(t),i=!1;sr.priorWebsocketSuccess=!1;const n=()=>{i||(r.send([{type:"ping",data:"probe"}]),r.once("packet",u=>{if(!i)if(u.type==="pong"&&u.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",r),!r)return;sr.priorWebsocketSuccess=r.name==="websocket",this.transport.pause(()=>{i||this.readyState!=="closed"&&(d(),this.setTransport(r),r.send([{type:"upgrade"}]),this.emitReserved("upgrade",r),r=null,this.upgrading=!1,this.flush())})}else{const g=new Error("probe error");g.transport=r.name,this.emitReserved("upgradeError",g)}}))};function h(){i||(i=!0,d(),r.close(),r=null)}const f=u=>{const g=new Error("probe error: "+u);g.transport=r.name,h(),this.emitReserved("upgradeError",g)};function s(){f("transport closed")}function o(){f("socket closed")}function a(u){r&&u.name!==r.name&&h()}const d=()=>{r.removeListener("open",n),r.removeListener("error",f),r.removeListener("close",s),this.off("close",o),this.off("upgrading",a)};r.once("open",n),r.once("error",f),r.once("close",s),this.once("close",o),this.once("upgrading",a),this._upgrades.indexOf("webtransport")!==-1&&t!=="webtransport"?this.setTimeoutFn(()=>{i||r.open()},200):r.open()}onHandshake(t){this._upgrades=this._filterUpgrades(t.upgrades),super.onHandshake(t)}_filterUpgrades(t){const r=[];for(let i=0;i<t.length;i++)~this.transports.indexOf(t[i])&&r.push(t[i]);return r}}let af=class extends of{constructor(t,r={}){const i=typeof t=="object"?t:r;(!i.transports||i.transports&&typeof i.transports[0]=="string")&&(i.transports=(i.transports||["polling","websocket","webtransport"]).map(n=>ef[n]).filter(n=>!!n)),super(t,i)}};function cf(e,t="",r){let i=e;r=r||typeof location<"u"&&location,e==null&&(e=r.protocol+"//"+r.host),typeof e=="string"&&(e.charAt(0)==="/"&&(e.charAt(1)==="/"?e=r.protocol+e:e=r.host+e),/^(https?|wss?):\/\//.test(e)||(typeof r<"u"?e=r.protocol+"//"+e:e="https://"+e),i=ro(e)),i.port||(/^(http|ws)$/.test(i.protocol)?i.port="80":/^(http|ws)s$/.test(i.protocol)&&(i.port="443")),i.path=i.path||"/";const h=i.host.indexOf(":")!==-1?"["+i.host+"]":i.host;return i.id=i.protocol+"://"+h+":"+i.port+t,i.href=i.protocol+"://"+h+(r&&r.port===i.port?"":":"+i.port),i}const lf=typeof ArrayBuffer=="function",uf=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer,eu=Object.prototype.toString,hf=typeof Blob=="function"||typeof Blob<"u"&&eu.call(Blob)==="[object BlobConstructor]",df=typeof File=="function"||typeof File<"u"&&eu.call(File)==="[object FileConstructor]";function aa(e){return lf&&(e instanceof ArrayBuffer||uf(e))||hf&&e instanceof Blob||df&&e instanceof File}function vn(e,t){if(!e||typeof e!="object")return!1;if(Array.isArray(e)){for(let r=0,i=e.length;r<i;r++)if(vn(e[r]))return!0;return!1}if(aa(e))return!0;if(e.toJSON&&typeof e.toJSON=="function"&&arguments.length===1)return vn(e.toJSON(),!0);for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&vn(e[r]))return!0;return!1}function ff(e){const t=[],r=e.data,i=e;return i.data=no(r,t),i.attachments=t.length,{packet:i,buffers:t}}function no(e,t){if(!e)return e;if(aa(e)){const r={_placeholder:!0,num:t.length};return t.push(e),r}else if(Array.isArray(e)){const r=new Array(e.length);for(let i=0;i<e.length;i++)r[i]=no(e[i],t);return r}else if(typeof e=="object"&&!(e instanceof Date)){const r={};for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=no(e[i],t));return r}return e}function pf(e,t){return e.data=so(e.data,t),delete e.attachments,e}function so(e,t){if(!e)return e;if(e&&e._placeholder===!0){if(typeof e.num=="number"&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}else if(Array.isArray(e))for(let r=0;r<e.length;r++)e[r]=so(e[r],t);else if(typeof e=="object")for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(e[r]=so(e[r],t));return e}const vf=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],gf=5;var Ce;(function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"})(Ce||(Ce={}));class mf{constructor(t){this.replacer=t}encode(t){return(t.type===Ce.EVENT||t.type===Ce.ACK)&&vn(t)?this.encodeAsBinary({type:t.type===Ce.EVENT?Ce.BINARY_EVENT:Ce.BINARY_ACK,nsp:t.nsp,data:t.data,id:t.id}):[this.encodeAsString(t)]}encodeAsString(t){let r=""+t.type;return(t.type===Ce.BINARY_EVENT||t.type===Ce.BINARY_ACK)&&(r+=t.attachments+"-"),t.nsp&&t.nsp!=="/"&&(r+=t.nsp+","),t.id!=null&&(r+=t.id),t.data!=null&&(r+=JSON.stringify(t.data,this.replacer)),r}encodeAsBinary(t){const r=ff(t),i=this.encodeAsString(r.packet),n=r.buffers;return n.unshift(i),n}}function Ua(e){return Object.prototype.toString.call(e)==="[object Object]"}class ca extends qe{constructor(t){super(),this.reviver=t}add(t){let r;if(typeof t=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");r=this.decodeString(t);const i=r.type===Ce.BINARY_EVENT;i||r.type===Ce.BINARY_ACK?(r.type=i?Ce.EVENT:Ce.ACK,this.reconstructor=new _f(r),r.attachments===0&&super.emitReserved("decoded",r)):super.emitReserved("decoded",r)}else if(aa(t)||t.base64)if(this.reconstructor)r=this.reconstructor.takeBinaryData(t),r&&(this.reconstructor=null,super.emitReserved("decoded",r));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+t)}decodeString(t){let r=0;const i={type:Number(t.charAt(0))};if(Ce[i.type]===void 0)throw new Error("unknown packet type "+i.type);if(i.type===Ce.BINARY_EVENT||i.type===Ce.BINARY_ACK){const h=r+1;for(;t.charAt(++r)!=="-"&&r!=t.length;);const f=t.substring(h,r);if(f!=Number(f)||t.charAt(r)!=="-")throw new Error("Illegal attachments");i.attachments=Number(f)}if(t.charAt(r+1)==="/"){const h=r+1;for(;++r&&!(t.charAt(r)===","||r===t.length););i.nsp=t.substring(h,r)}else i.nsp="/";const n=t.charAt(r+1);if(n!==""&&Number(n)==n){const h=r+1;for(;++r;){const f=t.charAt(r);if(f==null||Number(f)!=f){--r;break}if(r===t.length)break}i.id=Number(t.substring(h,r+1))}if(t.charAt(++r)){const h=this.tryParse(t.substr(r));if(ca.isPayloadValid(i.type,h))i.data=h;else throw new Error("invalid payload")}return i}tryParse(t){try{return JSON.parse(t,this.reviver)}catch{return!1}}static isPayloadValid(t,r){switch(t){case Ce.CONNECT:return Ua(r);case Ce.DISCONNECT:return r===void 0;case Ce.CONNECT_ERROR:return typeof r=="string"||Ua(r);case Ce.EVENT:case Ce.BINARY_EVENT:return Array.isArray(r)&&(typeof r[0]=="number"||typeof r[0]=="string"&&vf.indexOf(r[0])===-1);case Ce.ACK:case Ce.BINARY_ACK:return Array.isArray(r)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class _f{constructor(t){this.packet=t,this.buffers=[],this.reconPack=t}takeBinaryData(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){const r=pf(this.reconPack,this.buffers);return this.finishedReconstruction(),r}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const bf=Object.freeze(Object.defineProperty({__proto__:null,Decoder:ca,Encoder:mf,get PacketType(){return Ce},protocol:gf},Symbol.toStringTag,{value:"Module"}));function kt(e,t,r){return e.on(t,r),function(){e.off(t,r)}}const yf=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class tu extends qe{constructor(t,r,i){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=t,this.nsp=r,i&&i.auth&&(this.auth=i.auth),this._opts=Object.assign({},i),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const t=this.io;this.subs=[kt(t,"open",this.onopen.bind(this)),kt(t,"packet",this.onpacket.bind(this)),kt(t,"error",this.onerror.bind(this)),kt(t,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...t){return t.unshift("message"),this.emit.apply(this,t),this}emit(t,...r){var i,n,h;if(yf.hasOwnProperty(t))throw new Error('"'+t.toString()+'" is a reserved event name');if(r.unshift(t),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(r),this;const f={type:Ce.EVENT,data:r};if(f.options={},f.options.compress=this.flags.compress!==!1,typeof r[r.length-1]=="function"){const d=this.ids++,u=r.pop();this._registerAckCallback(d,u),f.id=d}const s=(n=(i=this.io.engine)===null||i===void 0?void 0:i.transport)===null||n===void 0?void 0:n.writable,o=this.connected&&!(!((h=this.io.engine)===null||h===void 0)&&h._hasPingExpired());return this.flags.volatile&&!s||(o?(this.notifyOutgoingListeners(f),this.packet(f)):this.sendBuffer.push(f)),this.flags={},this}_registerAckCallback(t,r){var i;const n=(i=this.flags.timeout)!==null&&i!==void 0?i:this._opts.ackTimeout;if(n===void 0){this.acks[t]=r;return}const h=this.io.setTimeoutFn(()=>{delete this.acks[t];for(let s=0;s<this.sendBuffer.length;s++)this.sendBuffer[s].id===t&&this.sendBuffer.splice(s,1);r.call(this,new Error("operation has timed out"))},n),f=(...s)=>{this.io.clearTimeoutFn(h),r.apply(this,s)};f.withError=!0,this.acks[t]=f}emitWithAck(t,...r){return new Promise((i,n)=>{const h=(f,s)=>f?n(f):i(s);h.withError=!0,r.push(h),this.emit(t,...r)})}_addToQueue(t){let r;typeof t[t.length-1]=="function"&&(r=t.pop());const i={id:this._queueSeq++,tryCount:0,pending:!1,args:t,flags:Object.assign({fromQueue:!0},this.flags)};t.push((n,...h)=>i!==this._queue[0]?void 0:(n!==null?i.tryCount>this._opts.retries&&(this._queue.shift(),r&&r(n)):(this._queue.shift(),r&&r(null,...h)),i.pending=!1,this._drainQueue())),this._queue.push(i),this._drainQueue()}_drainQueue(t=!1){if(!this.connected||this._queue.length===0)return;const r=this._queue[0];r.pending&&!t||(r.pending=!0,r.tryCount++,this.flags=r.flags,this.emit.apply(this,r.args))}packet(t){t.nsp=this.nsp,this.io._packet(t)}onopen(){typeof this.auth=="function"?this.auth(t=>{this._sendConnectPacket(t)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(t){this.packet({type:Ce.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},t):t})}onerror(t){this.connected||this.emitReserved("connect_error",t)}onclose(t,r){this.connected=!1,delete this.id,this.emitReserved("disconnect",t,r),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(t=>{if(!this.sendBuffer.some(i=>String(i.id)===t)){const i=this.acks[t];delete this.acks[t],i.withError&&i.call(this,new Error("socket has been disconnected"))}})}onpacket(t){if(t.nsp===this.nsp)switch(t.type){case Ce.CONNECT:t.data&&t.data.sid?this.onconnect(t.data.sid,t.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case Ce.EVENT:case Ce.BINARY_EVENT:this.onevent(t);break;case Ce.ACK:case Ce.BINARY_ACK:this.onack(t);break;case Ce.DISCONNECT:this.ondisconnect();break;case Ce.CONNECT_ERROR:this.destroy();const i=new Error(t.data.message);i.data=t.data.data,this.emitReserved("connect_error",i);break}}onevent(t){const r=t.data||[];t.id!=null&&r.push(this.ack(t.id)),this.connected?this.emitEvent(r):this.receiveBuffer.push(Object.freeze(r))}emitEvent(t){if(this._anyListeners&&this._anyListeners.length){const r=this._anyListeners.slice();for(const i of r)i.apply(this,t)}super.emit.apply(this,t),this._pid&&t.length&&typeof t[t.length-1]=="string"&&(this._lastOffset=t[t.length-1])}ack(t){const r=this;let i=!1;return function(...n){i||(i=!0,r.packet({type:Ce.ACK,id:t,data:n}))}}onack(t){const r=this.acks[t.id];typeof r=="function"&&(delete this.acks[t.id],r.withError&&t.data.unshift(null),r.apply(this,t.data))}onconnect(t,r){this.id=t,this.recovered=r&&this._pid===r,this._pid=r,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(t=>this.emitEvent(t)),this.receiveBuffer=[],this.sendBuffer.forEach(t=>{this.notifyOutgoingListeners(t),this.packet(t)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(t=>t()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:Ce.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(t){return this.flags.compress=t,this}get volatile(){return this.flags.volatile=!0,this}timeout(t){return this.flags.timeout=t,this}onAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}prependAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}offAny(t){if(!this._anyListeners)return this;if(t){const r=this._anyListeners;for(let i=0;i<r.length;i++)if(t===r[i])return r.splice(i,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(t),this}prependAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(t),this}offAnyOutgoing(t){if(!this._anyOutgoingListeners)return this;if(t){const r=this._anyOutgoingListeners;for(let i=0;i<r.length;i++)if(t===r[i])return r.splice(i,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(t){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const r=this._anyOutgoingListeners.slice();for(const i of r)i.apply(this,t.data)}}}function Xr(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}Xr.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),r=Math.floor(t*this.jitter*e);e=(Math.floor(t*10)&1)==0?e-r:e+r}return Math.min(e,this.max)|0};Xr.prototype.reset=function(){this.attempts=0};Xr.prototype.setMin=function(e){this.ms=e};Xr.prototype.setMax=function(e){this.max=e};Xr.prototype.setJitter=function(e){this.jitter=e};class oo extends qe{constructor(t,r){var i;super(),this.nsps={},this.subs=[],t&&typeof t=="object"&&(r=t,t=void 0),r=r||{},r.path=r.path||"/socket.io",this.opts=r,Hn(this,r),this.reconnection(r.reconnection!==!1),this.reconnectionAttempts(r.reconnectionAttempts||1/0),this.reconnectionDelay(r.reconnectionDelay||1e3),this.reconnectionDelayMax(r.reconnectionDelayMax||5e3),this.randomizationFactor((i=r.randomizationFactor)!==null&&i!==void 0?i:.5),this.backoff=new Xr({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(r.timeout==null?2e4:r.timeout),this._readyState="closed",this.uri=t;const n=r.parser||bf;this.encoder=new n.Encoder,this.decoder=new n.Decoder,this._autoConnect=r.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(t){return arguments.length?(this._reconnection=!!t,t||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(t){return t===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}reconnectionDelay(t){var r;return t===void 0?this._reconnectionDelay:(this._reconnectionDelay=t,(r=this.backoff)===null||r===void 0||r.setMin(t),this)}randomizationFactor(t){var r;return t===void 0?this._randomizationFactor:(this._randomizationFactor=t,(r=this.backoff)===null||r===void 0||r.setJitter(t),this)}reconnectionDelayMax(t){var r;return t===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,(r=this.backoff)===null||r===void 0||r.setMax(t),this)}timeout(t){return arguments.length?(this._timeout=t,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(t){if(~this._readyState.indexOf("open"))return this;this.engine=new af(this.uri,this.opts);const r=this.engine,i=this;this._readyState="opening",this.skipReconnect=!1;const n=kt(r,"open",function(){i.onopen(),t&&t()}),h=s=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",s),t?t(s):this.maybeReconnectOnOpen()},f=kt(r,"error",h);if(this._timeout!==!1){const s=this._timeout,o=this.setTimeoutFn(()=>{n(),h(new Error("timeout")),r.close()},s);this.opts.autoUnref&&o.unref(),this.subs.push(()=>{this.clearTimeoutFn(o)})}return this.subs.push(n),this.subs.push(f),this}connect(t){return this.open(t)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const t=this.engine;this.subs.push(kt(t,"ping",this.onping.bind(this)),kt(t,"data",this.ondata.bind(this)),kt(t,"error",this.onerror.bind(this)),kt(t,"close",this.onclose.bind(this)),kt(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(t){try{this.decoder.add(t)}catch(r){this.onclose("parse error",r)}}ondecoded(t){Fn(()=>{this.emitReserved("packet",t)},this.setTimeoutFn)}onerror(t){this.emitReserved("error",t)}socket(t,r){let i=this.nsps[t];return i?this._autoConnect&&!i.active&&i.connect():(i=new tu(this,t,r),this.nsps[t]=i),i}_destroy(t){const r=Object.keys(this.nsps);for(const i of r)if(this.nsps[i].active)return;this._close()}_packet(t){const r=this.encoder.encode(t);for(let i=0;i<r.length;i++)this.engine.write(r[i],t.options)}cleanup(){this.subs.forEach(t=>t()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(t,r){var i;this.cleanup(),(i=this.engine)===null||i===void 0||i.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t,r),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const r=this.backoff.duration();this._reconnecting=!0;const i=this.setTimeoutFn(()=>{t.skipReconnect||(this.emitReserved("reconnect_attempt",t.backoff.attempts),!t.skipReconnect&&t.open(n=>{n?(t._reconnecting=!1,t.reconnect(),this.emitReserved("reconnect_error",n)):t.onreconnect()}))},r);this.opts.autoUnref&&i.unref(),this.subs.push(()=>{this.clearTimeoutFn(i)})}}onreconnect(){const t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}}const si={};function gn(e,t){typeof e=="object"&&(t=e,e=void 0),t=t||{};const r=cf(e,t.path||"/socket.io"),i=r.source,n=r.id,h=r.path,f=si[n]&&h in si[n].nsps,s=t.forceNew||t["force new connection"]||t.multiplex===!1||f;let o;return s?o=new oo(i,t):(si[n]||(si[n]=new oo(i,t)),o=si[n]),r.query&&!t.query&&(t.query=r.queryKey),o.socket(r.path,t)}Object.assign(gn,{Manager:oo,Socket:tu,io:gn,connect:gn});function Sf(e){return at({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M0 3a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2zm9.5 5.5h-3a.5.5 0 0 0 0 1h3a.5.5 0 0 0 0-1m-6.354-.354a.5.5 0 1 0 .708.708l2-2a.5.5 0 0 0 0-.708l-2-2a.5.5 0 1 0-.708.708L4.793 6.5z"},child:[]}]})(e)}function Cf(e){return at({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M14 4.5V11h-1V4.5h-2A1.5 1.5 0 0 1 9.5 3V1H4a1 1 0 0 0-1 1v9H2V2a2 2 0 0 1 2-2h5.5zM4.151 15.29a1.2 1.2 0 0 1-.111-.449h.764a.58.58 0 0 0 .255.384q.105.073.25.114.142.041.319.041.245 0 .413-.07a.56.56 0 0 0 .255-.193.5.5 0 0 0 .084-.29.39.39 0 0 0-.152-.326q-.152-.12-.463-.193l-.618-.143a1.7 1.7 0 0 1-.539-.214 1 1 0 0 1-.352-.367 1.1 1.1 0 0 1-.123-.524q0-.366.19-.639.192-.272.528-.422.337-.15.777-.149.456 0 .779.152.326.153.5.41.18.255.2.566h-.75a.56.56 0 0 0-.12-.258.6.6 0 0 0-.246-.181.9.9 0 0 0-.37-.068q-.324 0-.512.152a.47.47 0 0 0-.185.384q0 .18.144.3a1 1 0 0 0 .404.175l.621.143q.326.075.566.211a1 1 0 0 1 .375.358q.135.222.135.56 0 .37-.188.656a1.2 1.2 0 0 1-.539.439q-.351.158-.858.158-.381 0-.665-.09a1.4 1.4 0 0 1-.478-.252 1.1 1.1 0 0 1-.29-.375m-3.104-.033a1.3 1.3 0 0 1-.082-.466h.764a.6.6 0 0 0 .074.27.5.5 0 0 0 .454.246q.285 0 .422-.164.137-.165.137-.466v-2.745h.791v2.725q0 .66-.357 1.005-.355.345-.985.345a1.6 1.6 0 0 1-.568-.094 1.15 1.15 0 0 1-.407-.266 1.1 1.1 0 0 1-.243-.39m9.091-1.585v.522q0 .384-.117.641a.86.86 0 0 1-.322.387.9.9 0 0 1-.47.126.9.9 0 0 1-.47-.126.87.87 0 0 1-.32-.387 1.55 1.55 0 0 1-.117-.641v-.522q0-.386.117-.641a.87.87 0 0 1 .32-.387.87.87 0 0 1 .47-.129q.265 0 .47.129a.86.86 0 0 1 .322.387q.117.255.117.641m.803.519v-.513q0-.565-.205-.973a1.46 1.46 0 0 0-.59-.63q-.38-.22-.916-.22-.534 0-.92.22a1.44 1.44 0 0 0-.589.628q-.205.407-.205.975v.513q0 .562.205.973.205.407.589.626.386.217.92.217.536 0 .917-.217.384-.22.589-.626.204-.41.205-.973m1.29-.935v2.675h-.746v-3.999h.662l1.752 2.66h.032v-2.66h.75v4h-.656l-1.761-2.676z"},child:[]}]})(e)}function wf(e){return at({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"m.5 3 .04.87a2 2 0 0 0-.342 1.311l.637 7A2 2 0 0 0 2.826 14H9v-1H2.826a1 1 0 0 1-.995-.91l-.637-7A1 1 0 0 1 2.19 4h11.62a1 1 0 0 1 .996 1.09L14.54 8h1.005l.256-2.819A2 2 0 0 0 13.81 3H9.828a2 2 0 0 1-1.414-.586l-.828-.828A2 2 0 0 0 6.172 1H2.5a2 2 0 0 0-2 2m5.672-1a1 1 0 0 1 .707.293L7.586 3H2.19q-.362.002-.683.12L1.5 2.98a1 1 0 0 1 1-.98z"},child:[]},{tag:"path",attr:{d:"M13.5 9a.5.5 0 0 1 .5.5V11h1.5a.5.5 0 1 1 0 1H14v1.5a.5.5 0 1 1-1 0V12h-1.5a.5.5 0 0 1 0-1H13V9.5a.5.5 0 0 1 .5-.5"},child:[]}]})(e)}function fi(){return fi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)({}).hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},fi.apply(null,arguments)}var tr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Li(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var qa,Ga={exports:{}};/*!
  Copyright (c) 2018 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/var ps,Ka,Xa,Ef=(qa||(qa=1,ps=Ga,function(){var e={}.hasOwnProperty;function t(){for(var r=[],i=0;i<arguments.length;i++){var n=arguments[i];if(n){var h=typeof n;if(h==="string"||h==="number")r.push(n);else if(Array.isArray(n)){if(n.length){var f=t.apply(null,n);f&&r.push(f)}}else if(h==="object")if(n.toString===Object.prototype.toString)for(var s in n)e.call(n,s)&&n[s]&&r.push(s);else r.push(n.toString())}}return r.join(" ")}ps.exports?(t.default=t,ps.exports=t):window.classNames=t}()),Ga.exports),ao=Li(Ef),Ya,Pt=Li(function(){if(Xa)return Ka;Xa=1;var e=/^\s+|\s+$/g,t=/^[-+]0x[0-9a-f]+$/i,r=/^0b[01]+$/i,i=/^0o[0-7]+$/i,n=parseInt,h=Object.prototype.toString;function f(o){var a=typeof o;return!!o&&(a=="object"||a=="function")}function s(o){if(typeof o=="number")return o;if(function(u){return typeof u=="symbol"||function(g){return!!g&&typeof g=="object"}(u)&&h.call(u)=="[object Symbol]"}(o))return NaN;if(f(o)){var a=typeof o.valueOf=="function"?o.valueOf():o;o=f(a)?a+"":a}if(typeof o!="string")return o===0?o:+o;o=o.replace(e,"");var d=r.test(o);return d||i.test(o)?n(o.slice(2),d?2:8):t.test(o)?NaN:+o}return Ka=function(o,a,d){return d===void 0&&(d=a,a=void 0),d!==void 0&&(d=(d=s(d))==d?d:0),a!==void 0&&(a=(a=s(a))==a?a:0),function(u,g,b){return u==u&&(b!==void 0&&(u=u<=b?u:b),g!==void 0&&(u=u>=g?u:g)),u}(s(o),a,d)}}()),vs={exports:{}},xf=(Ya||(Ya=1,function(e,t){var r="__lodash_hash_undefined__",i=9007199254740991,n="[object Arguments]",h="[object Array]",f="[object Boolean]",s="[object Date]",o="[object Error]",a="[object Function]",d="[object Map]",u="[object Number]",g="[object Object]",b="[object Promise]",S="[object RegExp]",m="[object Set]",c="[object String]",p="[object Symbol]",l="[object WeakMap]",v="[object ArrayBuffer]",_="[object DataView]",w=/^\[object .+?Constructor\]$/,E=/^(?:0|[1-9]\d*)$/,C={};C["[object Float32Array]"]=C["[object Float64Array]"]=C["[object Int8Array]"]=C["[object Int16Array]"]=C["[object Int32Array]"]=C["[object Uint8Array]"]=C["[object Uint8ClampedArray]"]=C["[object Uint16Array]"]=C["[object Uint32Array]"]=!0,C[n]=C[h]=C[v]=C[f]=C[_]=C[s]=C[o]=C[a]=C[d]=C[u]=C[g]=C[S]=C[m]=C[c]=C[l]=!1;var y=typeof tr=="object"&&tr&&tr.Object===Object&&tr,x=typeof self=="object"&&self&&self.Object===Object&&self,R=y||x||Function("return this")(),M=t&&!t.nodeType&&t,I=M&&e&&!e.nodeType&&e,T=I&&I.exports===M,B=T&&y.process,$=function(){try{return B&&B.binding&&B.binding("util")}catch{}}(),F=$&&$.isTypedArray;function z(N,X){for(var ie=-1,ne=N==null?0:N.length;++ie<ne;)if(X(N[ie],ie,N))return!0;return!1}function U(N){var X=-1,ie=Array(N.size);return N.forEach(function(ne,Be){ie[++X]=[Be,ne]}),ie}function A(N){var X=-1,ie=Array(N.size);return N.forEach(function(ne){ie[++X]=ne}),ie}var k,P,D,V=Array.prototype,j=Function.prototype,K=Object.prototype,J=R["__core-js_shared__"],H=j.toString,L=K.hasOwnProperty,W=(k=/[^.]+$/.exec(J&&J.keys&&J.keys.IE_PROTO||""))?"Symbol(src)_1."+k:"",G=K.toString,Z=RegExp("^"+H.call(L).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Q=T?R.Buffer:void 0,se=R.Symbol,fe=R.Uint8Array,de=K.propertyIsEnumerable,oe=V.splice,re=se?se.toStringTag:void 0,_e=Object.getOwnPropertySymbols,xe=Q?Q.isBuffer:void 0,Ge=(P=Object.keys,D=Object,function(N){return P(D(N))}),Ee=dt(R,"DataView"),Se=dt(R,"Map"),ae=dt(R,"Promise"),le=dt(R,"Set"),ve=dt(R,"WeakMap"),De=dt(Object,"create"),Ze=ke(Ee),Pe=ke(Se),Ke=ke(ae),ze=ke(le),lt=ke(ve),we=se?se.prototype:void 0,Oe=we?we.valueOf:void 0;function ge(N){var X=-1,ie=N==null?0:N.length;for(this.clear();++X<ie;){var ne=N[X];this.set(ne[0],ne[1])}}function $e(N){var X=-1,ie=N==null?0:N.length;for(this.clear();++X<ie;){var ne=N[X];this.set(ne[0],ne[1])}}function Re(N){var X=-1,ie=N==null?0:N.length;for(this.clear();++X<ie;){var ne=N[X];this.set(ne[0],ne[1])}}function nt(N){var X=-1,ie=N==null?0:N.length;for(this.__data__=new Re;++X<ie;)this.add(N[X])}function ut(N){var X=this.__data__=new $e(N);this.size=X.size}function ns(N,X){var ie=Fe(N),ne=!ie&&os(N),Be=!ie&&!ne&&Ne(N),be=!ie&&!ne&&!Be&&ti(N),je=ie||ne||Be||be,We=je?function(Ye,Ht){for(var qt=-1,ct=Array(Ye);++qt<Ye;)ct[qt]=Ht(qt);return ct}(N.length,String):[],It=We.length;for(var Xe in N)!L.call(N,Xe)||je&&(Xe=="length"||Be&&(Xe=="offset"||Xe=="parent")||be&&(Xe=="buffer"||Xe=="byteLength"||Xe=="byteOffset")||ss(Xe,It))||We.push(Xe);return We}function Ar(N,X){for(var ie=N.length;ie--;)if(ei(N[ie][0],X))return ie;return-1}function fr(N){return N==null?N===void 0?"[object Undefined]":"[object Null]":re&&re in Object(N)?function(X){var ie=L.call(X,re),ne=X[re];try{X[re]=void 0;var Be=!0}catch{}var be=G.call(X);return Be&&(ie?X[re]=ne:delete X[re]),be}(N):function(X){return G.call(X)}(N)}function ji(N){return gr(N)&&fr(N)==n}function zi(N,X,ie,ne,Be){return N===X||(N==null||X==null||!gr(N)&&!gr(X)?N!=N&&X!=X:function(be,je,We,It,Xe,Ye){var Ht=Fe(be),qt=Fe(je),ct=Ht?h:Mt(be),Gt=qt?h:Mt(je),Mr=(ct=ct==n?g:ct)==g,Vi=(Gt=Gt==n?g:Gt)==g,Ir=ct==Gt;if(Ir&&Ne(be)){if(!Ne(je))return!1;Ht=!0,Mr=!1}if(Ir&&!Mr)return Ye||(Ye=new ut),Ht||ti(be)?pr(be,je,We,It,Xe,Ye):function(Ie,Te,Wi,Zt,as,wt,Kt){switch(Wi){case _:if(Ie.byteLength!=Te.byteLength||Ie.byteOffset!=Te.byteOffset)return!1;Ie=Ie.buffer,Te=Te.buffer;case v:return!(Ie.byteLength!=Te.byteLength||!wt(new fe(Ie),new fe(Te)));case f:case s:case u:return ei(+Ie,+Te);case o:return Ie.name==Te.name&&Ie.message==Te.message;case S:case c:return Ie==Te+"";case d:var Qt=U;case m:var ni=1&Zt;if(Qt||(Qt=A),Ie.size!=Te.size&&!ni)return!1;var Ui=Kt.get(Ie);if(Ui)return Ui==Te;Zt|=2,Kt.set(Ie,Te);var cs=pr(Qt(Ie),Qt(Te),Zt,as,wt,Kt);return Kt.delete(Ie),cs;case p:if(Oe)return Oe.call(Ie)==Oe.call(Te)}return!1}(be,je,ct,We,It,Xe,Ye);if(!(1&We)){var ii=Mr&&L.call(be,"__wrapped__"),$a=Vi&&L.call(je,"__wrapped__");if(ii||$a){var gd=ii?be.value():be,md=$a?je.value():je;return Ye||(Ye=new ut),Xe(gd,md,We,It,Ye)}}return!!Ir&&(Ye||(Ye=new ut),function(Ie,Te,Wi,Zt,as,wt){var Kt=1&Wi,Qt=Lr(Ie),ni=Qt.length,Ui=Lr(Te),cs=Ui.length;if(ni!=cs&&!Kt)return!1;for(var qi=ni;qi--;){var mr=Qt[qi];if(!(Kt?mr in Te:L.call(Te,mr)))return!1}var Fa=wt.get(Ie);if(Fa&&wt.get(Te))return Fa==Te;var Gi=!0;wt.set(Ie,Te),wt.set(Te,Ie);for(var ls=Kt;++qi<ni;){var Ki=Ie[mr=Qt[qi]],Xi=Te[mr];if(Zt)var Ha=Kt?Zt(Xi,Ki,mr,Te,Ie,wt):Zt(Ki,Xi,mr,Ie,Te,wt);if(!(Ha===void 0?Ki===Xi||as(Ki,Xi,Wi,Zt,wt):Ha)){Gi=!1;break}ls||(ls=mr=="constructor")}if(Gi&&!ls){var Yi=Ie.constructor,Ji=Te.constructor;Yi==Ji||!("constructor"in Ie)||!("constructor"in Te)||typeof Yi=="function"&&Yi instanceof Yi&&typeof Ji=="function"&&Ji instanceof Ji||(Gi=!1)}return wt.delete(Ie),wt.delete(Te),Gi}(be,je,We,It,Xe,Ye))}(N,X,ie,ne,zi,Be))}function Ni(N){return!(!vr(N)||function(X){return!!W&&W in X}(N))&&(ft(N)?Z:w).test(ke(N))}function Tr(N){if(ie=(X=N)&&X.constructor,ne=typeof ie=="function"&&ie.prototype||K,X!==ne)return Ge(N);var X,ie,ne,Be=[];for(var be in Object(N))L.call(N,be)&&be!="constructor"&&Be.push(be);return Be}function pr(N,X,ie,ne,Be,be){var je=1&ie,We=N.length,It=X.length;if(We!=It&&!(je&&It>We))return!1;var Xe=be.get(N);if(Xe&&be.get(X))return Xe==X;var Ye=-1,Ht=!0,qt=2&ie?new nt:void 0;for(be.set(N,X),be.set(X,N);++Ye<We;){var ct=N[Ye],Gt=X[Ye];if(ne)var Mr=je?ne(Gt,ct,Ye,X,N,be):ne(ct,Gt,Ye,N,X,be);if(Mr!==void 0){if(Mr)continue;Ht=!1;break}if(qt){if(!z(X,function(Vi,Ir){if(ii=Ir,!qt.has(ii)&&(ct===Vi||Be(ct,Vi,ie,ne,be)))return qt.push(Ir);var ii})){Ht=!1;break}}else if(ct!==Gt&&!Be(ct,Gt,ie,ne,be)){Ht=!1;break}}return be.delete(N),be.delete(X),Ht}function Lr(N){return function(X,ie,ne){var Be=ie(X);return Fe(X)?Be:function(be,je){for(var We=-1,It=je.length,Xe=be.length;++We<It;)be[Xe+We]=je[We];return be}(Be,ne(X))}(N,ri,Jt)}function Yt(N,X){var ie,ne,Be=N.__data__;return((ne=typeof(ie=X))=="string"||ne=="number"||ne=="symbol"||ne=="boolean"?ie!=="__proto__":ie===null)?Be[typeof X=="string"?"string":"hash"]:Be.map}function dt(N,X){var ie=function(ne,Be){return ne?.[Be]}(N,X);return Ni(ie)?ie:void 0}ge.prototype.clear=function(){this.__data__=De?De(null):{},this.size=0},ge.prototype.delete=function(N){var X=this.has(N)&&delete this.__data__[N];return this.size-=X?1:0,X},ge.prototype.get=function(N){var X=this.__data__;if(De){var ie=X[N];return ie===r?void 0:ie}return L.call(X,N)?X[N]:void 0},ge.prototype.has=function(N){var X=this.__data__;return De?X[N]!==void 0:L.call(X,N)},ge.prototype.set=function(N,X){var ie=this.__data__;return this.size+=this.has(N)?0:1,ie[N]=De&&X===void 0?r:X,this},$e.prototype.clear=function(){this.__data__=[],this.size=0},$e.prototype.delete=function(N){var X=this.__data__,ie=Ar(X,N);return!(ie<0||(ie==X.length-1?X.pop():oe.call(X,ie,1),--this.size,0))},$e.prototype.get=function(N){var X=this.__data__,ie=Ar(X,N);return ie<0?void 0:X[ie][1]},$e.prototype.has=function(N){return Ar(this.__data__,N)>-1},$e.prototype.set=function(N,X){var ie=this.__data__,ne=Ar(ie,N);return ne<0?(++this.size,ie.push([N,X])):ie[ne][1]=X,this},Re.prototype.clear=function(){this.size=0,this.__data__={hash:new ge,map:new(Se||$e),string:new ge}},Re.prototype.delete=function(N){var X=Yt(this,N).delete(N);return this.size-=X?1:0,X},Re.prototype.get=function(N){return Yt(this,N).get(N)},Re.prototype.has=function(N){return Yt(this,N).has(N)},Re.prototype.set=function(N,X){var ie=Yt(this,N),ne=ie.size;return ie.set(N,X),this.size+=ie.size==ne?0:1,this},nt.prototype.add=nt.prototype.push=function(N){return this.__data__.set(N,r),this},nt.prototype.has=function(N){return this.__data__.has(N)},ut.prototype.clear=function(){this.__data__=new $e,this.size=0},ut.prototype.delete=function(N){var X=this.__data__,ie=X.delete(N);return this.size=X.size,ie},ut.prototype.get=function(N){return this.__data__.get(N)},ut.prototype.has=function(N){return this.__data__.has(N)},ut.prototype.set=function(N,X){var ie=this.__data__;if(ie instanceof $e){var ne=ie.__data__;if(!Se||ne.length<199)return ne.push([N,X]),this.size=++ie.size,this;ie=this.__data__=new Re(ne)}return ie.set(N,X),this.size=ie.size,this};var Jt=_e?function(N){return N==null?[]:(N=Object(N),function(X,ie){for(var ne=-1,Be=X==null?0:X.length,be=0,je=[];++ne<Be;){var We=X[ne];ie(We,ne,X)&&(je[be++]=We)}return je}(_e(N),function(X){return de.call(N,X)}))}:function(){return[]},Mt=fr;function ss(N,X){return!!(X=X??i)&&(typeof N=="number"||E.test(N))&&N>-1&&N%1==0&&N<X}function ke(N){if(N!=null){try{return H.call(N)}catch{}try{return N+""}catch{}}return""}function ei(N,X){return N===X||N!=N&&X!=X}(Ee&&Mt(new Ee(new ArrayBuffer(1)))!=_||Se&&Mt(new Se)!=d||ae&&Mt(ae.resolve())!=b||le&&Mt(new le)!=m||ve&&Mt(new ve)!=l)&&(Mt=function(N){var X=fr(N),ie=X==g?N.constructor:void 0,ne=ie?ke(ie):"";if(ne)switch(ne){case Ze:return _;case Pe:return d;case Ke:return b;case ze:return m;case lt:return l}return X});var os=ji(function(){return arguments}())?ji:function(N){return gr(N)&&L.call(N,"callee")&&!de.call(N,"callee")},Fe=Array.isArray,Ne=xe||function(){return!1};function ft(N){if(!vr(N))return!1;var X=fr(N);return X==a||X=="[object GeneratorFunction]"||X=="[object AsyncFunction]"||X=="[object Proxy]"}function pt(N){return typeof N=="number"&&N>-1&&N%1==0&&N<=i}function vr(N){var X=typeof N;return N!=null&&(X=="object"||X=="function")}function gr(N){return N!=null&&typeof N=="object"}var ti=F?function(N){return function(X){return N(X)}}(F):function(N){return gr(N)&&pt(N.length)&&!!C[fr(N)]};function ri(N){return(X=N)!=null&&pt(X.length)&&!ft(X)?ns(N):Tr(N);var X}e.exports=function(N,X){return zi(N,X)}}(vs,vs.exports)),vs.exports),Rf=Li(xf);function Ja(e,t,r){return e[t]?e[t][0]?e[t][0][r]:e[t][r]:t==="contentBoxSize"?e.contentRect[r==="inlineSize"?"width":"height"]:void 0}function Of(e){e===void 0&&(e={});var t=e.onResize,r=O.useRef(void 0);r.current=t;var i=e.round||Math.round,n=O.useRef(),h=O.useState({width:void 0,height:void 0}),f=h[0],s=h[1],o=O.useRef(!1);O.useEffect(function(){return o.current=!1,function(){o.current=!0}},[]);var a=O.useRef({width:void 0,height:void 0}),d=function(u,g){var b=O.useRef(null),S=O.useRef(null);S.current=g;var m=O.useRef(null);O.useEffect(function(){c()});var c=O.useCallback(function(){var p=m.current,l=S.current,v=p||(l?l instanceof Element?l:l.current:null);b.current&&b.current.element===v&&b.current.subscriber===u||(b.current&&b.current.cleanup&&b.current.cleanup(),b.current={element:v,subscriber:u,cleanup:v?u(v):void 0})},[u]);return O.useEffect(function(){return function(){b.current&&b.current.cleanup&&(b.current.cleanup(),b.current=null)}},[]),O.useCallback(function(p){m.current=p,c()},[c])}(O.useCallback(function(u){return n.current&&n.current.box===e.box&&n.current.round===i||(n.current={box:e.box,round:i,instance:new ResizeObserver(function(g){var b=g[0],S=e.box==="border-box"?"borderBoxSize":e.box==="device-pixel-content-box"?"devicePixelContentBoxSize":"contentBoxSize",m=Ja(b,S,"inlineSize"),c=Ja(b,S,"blockSize"),p=m?i(m):void 0,l=c?i(c):void 0;if(a.current.width!==p||a.current.height!==l){var v={width:p,height:l};a.current.width=p,a.current.height=l,r.current?r.current(v):o.current||s(v)}})}),n.current.instance.observe(u,{box:e.box}),function(){n.current&&n.current.instance.unobserve(u)}},[e.box,i]),e.ref);return O.useMemo(function(){return{ref:d,width:f.width,height:f.height}},[d,f.width,f.height])}var Af="allotment-module_splitView__L-yRc",Tf="allotment-module_sashContainer__fzwJF",Lf="allotment-module_splitViewContainer__rQnVa",ru="allotment-module_splitViewView__MGZ6O",Mf="allotment-module_vertical__WSwwa",If="allotment-module_horizontal__7doS8",Pf="allotment-module_separatorBorder__x-rDS";let oi,iu=!1,nu=!1;typeof navigator=="object"&&(oi=navigator.userAgent,nu=oi.indexOf("Macintosh")>=0,iu=(oi.indexOf("Macintosh")>=0||oi.indexOf("iPad")>=0||oi.indexOf("iPhone")>=0)&&!!navigator.maxTouchPoints&&navigator.maxTouchPoints>0);const su=iu,kf=nu,Za=typeof window<"u"&&window.document!==void 0&&window.document.createElement!==void 0?O.useLayoutEffect:O.useEffect;class Bf{constructor(){this._size=void 0}getSize(){return this._size}setSize(t){this._size=t}}function en(e,t){const r=e.length,i=r-t.length;return i>=0&&e.slice(i,r)===t}var Qa,ec={exports:{}},tc,rc,Df=(Qa||(Qa=1,function(e){var t=Object.prototype.hasOwnProperty,r="~";function i(){}function n(o,a,d){this.fn=o,this.context=a,this.once=d||!1}function h(o,a,d,u,g){if(typeof d!="function")throw new TypeError("The listener must be a function");var b=new n(d,u||o,g),S=r?r+a:a;return o._events[S]?o._events[S].fn?o._events[S]=[o._events[S],b]:o._events[S].push(b):(o._events[S]=b,o._eventsCount++),o}function f(o,a){--o._eventsCount==0?o._events=new i:delete o._events[a]}function s(){this._events=new i,this._eventsCount=0}Object.create&&(i.prototype=Object.create(null),new i().__proto__||(r=!1)),s.prototype.eventNames=function(){var o,a,d=[];if(this._eventsCount===0)return d;for(a in o=this._events)t.call(o,a)&&d.push(r?a.slice(1):a);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(o)):d},s.prototype.listeners=function(o){var a=r?r+o:o,d=this._events[a];if(!d)return[];if(d.fn)return[d.fn];for(var u=0,g=d.length,b=new Array(g);u<g;u++)b[u]=d[u].fn;return b},s.prototype.listenerCount=function(o){var a=r?r+o:o,d=this._events[a];return d?d.fn?1:d.length:0},s.prototype.emit=function(o,a,d,u,g,b){var S=r?r+o:o;if(!this._events[S])return!1;var m,c,p=this._events[S],l=arguments.length;if(p.fn){switch(p.once&&this.removeListener(o,p.fn,void 0,!0),l){case 1:return p.fn.call(p.context),!0;case 2:return p.fn.call(p.context,a),!0;case 3:return p.fn.call(p.context,a,d),!0;case 4:return p.fn.call(p.context,a,d,u),!0;case 5:return p.fn.call(p.context,a,d,u,g),!0;case 6:return p.fn.call(p.context,a,d,u,g,b),!0}for(c=1,m=new Array(l-1);c<l;c++)m[c-1]=arguments[c];p.fn.apply(p.context,m)}else{var v,_=p.length;for(c=0;c<_;c++)switch(p[c].once&&this.removeListener(o,p[c].fn,void 0,!0),l){case 1:p[c].fn.call(p[c].context);break;case 2:p[c].fn.call(p[c].context,a);break;case 3:p[c].fn.call(p[c].context,a,d);break;case 4:p[c].fn.call(p[c].context,a,d,u);break;default:if(!m)for(v=1,m=new Array(l-1);v<l;v++)m[v-1]=arguments[v];p[c].fn.apply(p[c].context,m)}}return!0},s.prototype.on=function(o,a,d){return h(this,o,a,d,!1)},s.prototype.once=function(o,a,d){return h(this,o,a,d,!0)},s.prototype.removeListener=function(o,a,d,u){var g=r?r+o:o;if(!this._events[g])return this;if(!a)return f(this,g),this;var b=this._events[g];if(b.fn)b.fn!==a||u&&!b.once||d&&b.context!==d||f(this,g);else{for(var S=0,m=[],c=b.length;S<c;S++)(b[S].fn!==a||u&&!b[S].once||d&&b[S].context!==d)&&m.push(b[S]);m.length?this._events[g]=m.length===1?m[0]:m:f(this,g)}return this},s.prototype.removeAllListeners=function(o){var a;return o?(a=r?r+o:o,this._events[a]&&f(this,a)):(this._events=new i,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=r,s.EventEmitter=s,e.exports=s}(ec)),ec.exports),la=Li(Df);function ic(e,t){const r=e.indexOf(t);r>-1&&(e.splice(r,1),e.unshift(t))}function gs(e,t){const r=e.indexOf(t);r>-1&&(e.splice(r,1),e.push(t))}function Et(e,t,r=1){const i=Math.max(0,Math.ceil((t-e)/r)),n=new Array(i);let h=-1;for(;++h<i;)n[h]=e+h*r;return n}var $f=Li(function(){if(rc)return tc;rc=1;var e=/^\s+|\s+$/g,t=/^[-+]0x[0-9a-f]+$/i,r=/^0b[01]+$/i,i=/^0o[0-7]+$/i,n=parseInt,h=typeof tr=="object"&&tr&&tr.Object===Object&&tr,f=typeof self=="object"&&self&&self.Object===Object&&self,s=h||f||Function("return this")(),o=Object.prototype.toString,a=Math.max,d=Math.min,u=function(){return s.Date.now()};function g(S){var m=typeof S;return!!S&&(m=="object"||m=="function")}function b(S){if(typeof S=="number")return S;if(function(p){return typeof p=="symbol"||function(l){return!!l&&typeof l=="object"}(p)&&o.call(p)=="[object Symbol]"}(S))return NaN;if(g(S)){var m=typeof S.valueOf=="function"?S.valueOf():S;S=g(m)?m+"":m}if(typeof S!="string")return S===0?S:+S;S=S.replace(e,"");var c=r.test(S);return c||i.test(S)?n(S.slice(2),c?2:8):t.test(S)?NaN:+S}return tc=function(S,m,c){var p,l,v,_,w,E,C=0,y=!1,x=!1,R=!0;if(typeof S!="function")throw new TypeError("Expected a function");function M(F){var z=p,U=l;return p=l=void 0,C=F,_=S.apply(U,z)}function I(F){var z=F-E;return E===void 0||z>=m||z<0||x&&F-C>=v}function T(){var F=u();if(I(F))return B(F);w=setTimeout(T,function(z){var U=m-(z-E);return x?d(U,v-(z-C)):U}(F))}function B(F){return w=void 0,R&&p?M(F):(p=l=void 0,_)}function $(){var F=u(),z=I(F);if(p=arguments,l=this,E=F,z){if(w===void 0)return function(U){return C=U,w=setTimeout(T,m),y?M(U):_}(E);if(x)return w=setTimeout(T,m),M(E)}return w===void 0&&(w=setTimeout(T,m)),_}return m=b(m)||0,g(c)&&(y=!!c.leading,v=(x="maxWait"in c)?a(b(c.maxWait)||0,m):v,R="trailing"in c?!!c.trailing:R),$.cancel=function(){w!==void 0&&clearTimeout(w),C=0,p=E=l=w=void 0},$.flush=function(){return w===void 0?_:B(u())},$}}()),Ff="sash-module_sash__K-9lB",Hf="sash-module_disabled__Hm-wx",jf="sash-module_mac__Jf6OJ",nc="sash-module_vertical__pB-rs",zf="sash-module_minimum__-UKxp",Nf="sash-module_maximum__TCWxD",sc="sash-module_horizontal__kFbiw",ms="sash-module_hover__80W6I",_s="sash-module_active__bJspD";let Tt=function(e){return e.Vertical="VERTICAL",e.Horizontal="HORIZONTAL",e}({}),_t=function(e){return e.Disabled="DISABLED",e.Minimum="MINIMUM",e.Maximum="MAXIMUM",e.Enabled="ENABLED",e}({}),ou=su?20:8;const au=new la;let oc=class extends la{get state(){return this._state}set state(t){this._state!==t&&(this.el.classList.toggle(Hf,t===_t.Disabled),this.el.classList.toggle("sash-disabled",t===_t.Disabled),this.el.classList.toggle(zf,t===_t.Minimum),this.el.classList.toggle("sash-minimum",t===_t.Minimum),this.el.classList.toggle(Nf,t===_t.Maximum),this.el.classList.toggle("sash-maximum",t===_t.Maximum),this._state=t,this.emit("enablementChange",t))}constructor(t,r,i){var n;super(),this.el=void 0,this.layoutProvider=void 0,this.orientation=void 0,this.size=void 0,this.hoverDelay=300,this.hoverDelayer=$f(h=>h.classList.add("sash-hover",ms),this.hoverDelay),this._state=_t.Enabled,this.onPointerStart=h=>{const f=h.pageX,s=h.pageY,o={startX:f,currentX:f,startY:s,currentY:s};this.el.classList.add("sash-active",_s),this.emit("start",o),this.el.setPointerCapture(h.pointerId);const a=u=>{u.preventDefault();const g={startX:f,currentX:u.pageX,startY:s,currentY:u.pageY};this.emit("change",g)},d=u=>{u.preventDefault(),this.el.classList.remove("sash-active",_s),this.hoverDelayer.cancel(),this.emit("end"),this.el.releasePointerCapture(u.pointerId),window.removeEventListener("pointermove",a),window.removeEventListener("pointerup",d)};window.addEventListener("pointermove",a),window.addEventListener("pointerup",d)},this.onPointerDoublePress=()=>{this.emit("reset")},this.onMouseEnter=()=>{this.el.classList.contains(_s)?(this.hoverDelayer.cancel(),this.el.classList.add("sash-hover",ms)):this.hoverDelayer(this.el)},this.onMouseLeave=()=>{this.hoverDelayer.cancel(),this.el.classList.remove("sash-hover",ms)},this.el=document.createElement("div"),this.el.classList.add("sash",Ff),this.el.dataset.testid="sash",t.append(this.el),kf&&this.el.classList.add("sash-mac",jf),this.el.addEventListener("pointerdown",this.onPointerStart),this.el.addEventListener("dblclick",this.onPointerDoublePress),this.el.addEventListener("mouseenter",this.onMouseEnter),this.el.addEventListener("mouseleave",this.onMouseLeave),typeof i.size=="number"?(this.size=i.size,i.orientation===Tt.Vertical?this.el.style.width=`${this.size}px`:this.el.style.height=`${this.size}px`):(this.size=ou,au.on("onDidChangeGlobalSize",h=>{this.size=h,this.layout()})),this.layoutProvider=r,this.orientation=(n=i.orientation)!=null?n:Tt.Vertical,this.orientation===Tt.Horizontal?(this.el.classList.add("sash-horizontal",sc),this.el.classList.remove("sash-vertical",nc)):(this.el.classList.remove("sash-horizontal",sc),this.el.classList.add("sash-vertical",nc)),this.layout()}layout(){if(this.orientation===Tt.Vertical){const t=this.layoutProvider;this.el.style.left=t.getVerticalSashLeft(this)-this.size/2+"px",t.getVerticalSashTop&&(this.el.style.top=t.getVerticalSashTop(this)+"px"),t.getVerticalSashHeight&&(this.el.style.height=t.getVerticalSashHeight(this)+"px")}else{const t=this.layoutProvider;this.el.style.top=t.getHorizontalSashTop(this)-this.size/2+"px",t.getHorizontalSashLeft&&(this.el.style.left=t.getHorizontalSashLeft(this)+"px"),t.getHorizontalSashWidth&&(this.el.style.width=t.getHorizontalSashWidth(this)+"px")}}dispose(){this.el.removeEventListener("pointerdown",this.onPointerStart),this.el.removeEventListener("dblclick",this.onPointerDoublePress),this.el.removeEventListener("mouseenter",this.onMouseEnter),this.el.removeEventListener("mouseleave",()=>this.onMouseLeave),this.el.remove()}},xn;var bs;(bs=xn||(xn={})).Distribute={type:"distribute"},bs.Split=function(e){return{type:"split",index:e}},bs.Invisible=function(e){return{type:"invisible",cachedVisibleSize:e}};let Ot=function(e){return e.Normal="NORMAL",e.Low="LOW",e.High="HIGH",e}({});class cu{constructor(t,r,i){this.container=void 0,this.view=void 0,this._size=void 0,this._cachedVisibleSize=void 0,this.container=t,this.view=r,this.container.classList.add("split-view-view",ru),this.container.dataset.testid="split-view-view",typeof i=="number"?(this._size=i,this._cachedVisibleSize=void 0,t.classList.add("split-view-view-visible")):(this._size=0,this._cachedVisibleSize=i.cachedVisibleSize)}set size(t){this._size=t}get size(){return this._size}get priority(){return this.view.priority}get snap(){return!!this.view.snap}get cachedVisibleSize(){return this._cachedVisibleSize}get visible(){return this._cachedVisibleSize===void 0}setVisible(t,r){t!==this.visible&&(t?(this.size=Pt(this._cachedVisibleSize,this.viewMinimumSize,this.viewMaximumSize),this._cachedVisibleSize=void 0):(this._cachedVisibleSize=typeof r=="number"?r:this.size,this.size=0),this.container.classList.toggle("split-view-view-visible",t),this.view.setVisible&&this.view.setVisible(t))}get minimumSize(){return this.visible?this.view.minimumSize:0}get viewMinimumSize(){return this.view.minimumSize}get maximumSize(){return this.visible?this.view.maximumSize:0}get viewMaximumSize(){return this.view.maximumSize}set enabled(t){this.container.style.pointerEvents=t?"":"none"}layout(t){this.layoutContainer(t),this.view.layout(this.size,t)}}let Vf=class extends cu{layoutContainer(t){this.container.style.left=`${t}px`,this.container.style.width=`${this.size}px`}};class Wf extends cu{layoutContainer(t){this.container.style.top=`${t}px`,this.container.style.height=`${this.size}px`}}class Uf extends la{get startSnappingEnabled(){return this._startSnappingEnabled}set startSnappingEnabled(t){this._startSnappingEnabled!==t&&(this._startSnappingEnabled=t,this.updateSashEnablement())}get endSnappingEnabled(){return this._endSnappingEnabled}set endSnappingEnabled(t){this._endSnappingEnabled!==t&&(this._endSnappingEnabled=t,this.updateSashEnablement())}constructor(t,r={},i,n,h){var f,s;if(super(),this.onDidChange=void 0,this.onDidDragStart=void 0,this.onDidDragEnd=void 0,this.orientation=void 0,this.sashContainer=void 0,this.size=0,this.contentSize=0,this.proportions=void 0,this.viewItems=[],this.sashItems=[],this.sashDragState=void 0,this.proportionalLayout=void 0,this.getSashOrthogonalSize=void 0,this._startSnappingEnabled=!0,this._endSnappingEnabled=!0,this.onSashEnd=o=>{this.emit("sashchange",o),this.saveProportions();for(const a of this.viewItems)a.enabled=!0},this.orientation=(f=r.orientation)!=null?f:Tt.Vertical,this.proportionalLayout=(s=r.proportionalLayout)!=null?s:!0,this.getSashOrthogonalSize=r.getSashOrthogonalSize,i&&(this.onDidChange=i),n&&(this.onDidDragStart=n),h&&(this.onDidDragEnd=h),this.sashContainer=document.createElement("div"),this.sashContainer.classList.add("sash-container",Tf),t.prepend(this.sashContainer),r.descriptor){this.size=r.descriptor.size;for(const[o,a]of r.descriptor.views.entries()){const d=a.size,u=a.container,g=a.view;this.addView(u,g,d,o,!0)}this.contentSize=this.viewItems.reduce((o,a)=>o+a.size,0),this.saveProportions()}}addView(t,r,i,n=this.viewItems.length,h){let f;f=typeof i=="number"?i:i.type==="split"?this.getViewSize(i.index)/2:i.type==="invisible"?{cachedVisibleSize:i.cachedVisibleSize}:r.minimumSize;const s=this.orientation===Tt.Vertical?new Wf(t,r,f):new Vf(t,r,f);if(this.viewItems.splice(n,0,s),this.viewItems.length>1){const o=this.orientation===Tt.Vertical?new oc(this.sashContainer,{getHorizontalSashTop:u=>this.getSashPosition(u),getHorizontalSashWidth:this.getSashOrthogonalSize},{orientation:Tt.Horizontal}):new oc(this.sashContainer,{getVerticalSashLeft:u=>this.getSashPosition(u),getVerticalSashHeight:this.getSashOrthogonalSize},{orientation:Tt.Vertical}),a=this.orientation===Tt.Vertical?u=>({sash:o,start:u.startY,current:u.currentY}):u=>({sash:o,start:u.startX,current:u.currentX});o.on("start",u=>{var g;this.emit("sashDragStart"),this.onSashStart(a(u));const b=this.viewItems.map(S=>S.size);(g=this.onDidDragStart)==null||g.call(this,b)}),o.on("change",u=>this.onSashChange(a(u))),o.on("end",()=>{var u;this.emit("sashDragEnd"),this.onSashEnd(this.sashItems.findIndex(b=>b.sash===o));const g=this.viewItems.map(b=>b.size);(u=this.onDidDragEnd)==null||u.call(this,g)}),o.on("reset",()=>{const u=this.sashItems.findIndex(c=>c.sash===o),g=Et(u,-1,-1),b=Et(u+1,this.viewItems.length),S=this.findFirstSnapIndex(g),m=this.findFirstSnapIndex(b);(typeof S!="number"||this.viewItems[S].visible)&&(typeof m!="number"||this.viewItems[m].visible)&&this.emit("sashreset",u)});const d={sash:o};this.sashItems.splice(n-1,0,d)}h||this.relayout(),h||typeof i=="number"||i.type!=="distribute"||this.distributeViewSizes()}removeView(t,r){if(t<0||t>=this.viewItems.length)throw new Error("Index out of bounds");const i=this.viewItems.splice(t,1)[0].view;if(this.viewItems.length>=1){const n=Math.max(t-1,0);this.sashItems.splice(n,1)[0].sash.dispose()}return this.relayout(),r&&r.type==="distribute"&&this.distributeViewSizes(),i}moveView(t,r,i){const n=this.getViewCachedVisibleSize(r),h=n===void 0?this.getViewSize(r):xn.Invisible(n),f=this.removeView(r);this.addView(t,f,h,i)}getViewCachedVisibleSize(t){if(t<0||t>=this.viewItems.length)throw new Error("Index out of bounds");return this.viewItems[t].cachedVisibleSize}layout(t=this.size){const r=Math.max(this.size,this.contentSize);if(this.size=t,this.proportions)for(let i=0;i<this.viewItems.length;i++){const n=this.viewItems[i];n.size=Pt(Math.round(this.proportions[i]*t),n.minimumSize,n.maximumSize)}else{const i=Et(0,this.viewItems.length),n=i.filter(f=>this.viewItems[f].priority===Ot.Low),h=i.filter(f=>this.viewItems[f].priority===Ot.High);this.resize(this.viewItems.length-1,t-r,void 0,n,h)}this.distributeEmptySpace(),this.layoutViews()}resizeView(t,r){if(t<0||t>=this.viewItems.length)return;const i=Et(0,this.viewItems.length).filter(s=>s!==t),n=[...i.filter(s=>this.viewItems[s].priority===Ot.Low),t],h=i.filter(s=>this.viewItems[s].priority===Ot.High),f=this.viewItems[t];r=Math.round(r),r=Pt(r,f.minimumSize,Math.min(f.maximumSize,this.size)),f.size=r,this.relayout(n,h)}resizeViews(t){for(let r=0;r<t.length;r++){const i=this.viewItems[r];let n=t[r];n=Math.round(n),n=Pt(n,i.minimumSize,Math.min(i.maximumSize,this.size)),i.size=n}this.contentSize=this.viewItems.reduce((r,i)=>r+i.size,0),this.saveProportions(),this.layout(this.size)}getViewSize(t){return t<0||t>=this.viewItems.length?-1:this.viewItems[t].size}isViewVisible(t){if(t<0||t>=this.viewItems.length)throw new Error("Index out of bounds");return this.viewItems[t].visible}setViewVisible(t,r){if(t<0||t>=this.viewItems.length)throw new Error("Index out of bounds");this.viewItems[t].setVisible(r),this.distributeEmptySpace(t),this.layoutViews(),this.saveProportions()}distributeViewSizes(){const t=[];let r=0;for(const s of this.viewItems)s.maximumSize-s.minimumSize>0&&(t.push(s),r+=s.size);const i=Math.floor(r/t.length);for(const s of t)s.size=Pt(i,s.minimumSize,s.maximumSize);const n=Et(0,this.viewItems.length),h=n.filter(s=>this.viewItems[s].priority===Ot.Low),f=n.filter(s=>this.viewItems[s].priority===Ot.High);this.relayout(h,f)}dispose(){this.sashItems.forEach(t=>t.sash.dispose()),this.sashItems=[],this.sashContainer.remove()}relayout(t,r){const i=this.viewItems.reduce((n,h)=>n+h.size,0);this.resize(this.viewItems.length-1,this.size-i,void 0,t,r),this.distributeEmptySpace(),this.layoutViews(),this.saveProportions()}onSashStart({sash:t,start:r}){const i=this.sashItems.findIndex(n=>n.sash===t);(n=>{const h=this.viewItems.map(l=>l.size);let f,s,o=Number.NEGATIVE_INFINITY,a=Number.POSITIVE_INFINITY;const d=Et(i,-1,-1),u=Et(i+1,this.viewItems.length),g=d.reduce((l,v)=>l+(this.viewItems[v].minimumSize-h[v]),0),b=d.reduce((l,v)=>l+(this.viewItems[v].viewMaximumSize-h[v]),0),S=u.length===0?Number.POSITIVE_INFINITY:u.reduce((l,v)=>l+(h[v]-this.viewItems[v].minimumSize),0),m=u.length===0?Number.NEGATIVE_INFINITY:u.reduce((l,v)=>l+(h[v]-this.viewItems[v].viewMaximumSize),0);o=Math.max(g,m),a=Math.min(S,b);const c=this.findFirstSnapIndex(d),p=this.findFirstSnapIndex(u);if(typeof c=="number"){const l=this.viewItems[c],v=Math.floor(l.viewMinimumSize/2);f={index:c,limitDelta:l.visible?o-v:o+v,size:l.size}}if(typeof p=="number"){const l=this.viewItems[p],v=Math.floor(l.viewMinimumSize/2);s={index:p,limitDelta:l.visible?a+v:a-v,size:l.size}}this.sashDragState={start:n,current:n,index:i,sizes:h,minDelta:o,maxDelta:a,snapBefore:f,snapAfter:s}})(r)}onSashChange({current:t}){const{index:r,start:i,sizes:n,minDelta:h,maxDelta:f,snapBefore:s,snapAfter:o}=this.sashDragState;this.sashDragState.current=t;const a=t-i;this.resize(r,a,n,void 0,void 0,h,f,s,o),this.distributeEmptySpace(),this.layoutViews()}getSashPosition(t){let r=0;for(let i=0;i<this.sashItems.length;i++)if(r+=this.viewItems[i].size,this.sashItems[i].sash===t)return r;return 0}resize(t,r,i=this.viewItems.map(d=>d.size),n,h,f=Number.NEGATIVE_INFINITY,s=Number.POSITIVE_INFINITY,o,a){if(t<0||t>=this.viewItems.length)return 0;const d=Et(t,-1,-1),u=Et(t+1,this.viewItems.length);if(h)for(const C of h)ic(d,C),ic(u,C);if(n)for(const C of n)gs(d,C),gs(u,C);const g=d.map(C=>this.viewItems[C]),b=d.map(C=>i[C]),S=u.map(C=>this.viewItems[C]),m=u.map(C=>i[C]),c=d.reduce((C,y)=>C+(this.viewItems[y].minimumSize-i[y]),0),p=d.reduce((C,y)=>C+(this.viewItems[y].maximumSize-i[y]),0),l=u.length===0?Number.POSITIVE_INFINITY:u.reduce((C,y)=>C+(i[y]-this.viewItems[y].minimumSize),0),v=u.length===0?Number.NEGATIVE_INFINITY:u.reduce((C,y)=>C+(i[y]-this.viewItems[y].maximumSize),0),_=Math.max(c,v,f),w=Math.min(l,p,s);let E=!1;if(o){const C=this.viewItems[o.index],y=r>=o.limitDelta;E=y!==C.visible,C.setVisible(y,o.size)}if(!E&&a){const C=this.viewItems[a.index],y=r<a.limitDelta;E=y!==C.visible,C.setVisible(y,a.size)}if(E)return this.resize(t,r,i,n,h,f,s);for(let C=0,y=r=Pt(r,_,w);C<g.length;C++){const x=g[C],R=Pt(b[C]+y,x.minimumSize,x.maximumSize);y-=R-b[C],x.size=R}for(let C=0,y=r;C<S.length;C++){const x=S[C],R=Pt(m[C]-y,x.minimumSize,x.maximumSize);y+=R-m[C],x.size=R}return r}distributeEmptySpace(t){const r=this.viewItems.reduce((a,d)=>a+d.size,0);let i=this.size-r;const n=Et(0,this.viewItems.length),h=[],f=n.filter(a=>this.viewItems[a].priority===Ot.Low),s=n.filter(a=>this.viewItems[a].priority===Ot.Normal),o=n.filter(a=>this.viewItems[a].priority===Ot.High);h.push(...o,...s,...f),typeof t=="number"&&gs(h,t);for(let a=0;i!==0&&a<h.length;a++){const d=this.viewItems[h[a]],u=Pt(d.size+i,d.minimumSize,d.maximumSize);i-=u-d.size,d.size=u}}layoutViews(){var t;this.contentSize=this.viewItems.reduce((i,n)=>i+n.size,0);let r=0;for(const i of this.viewItems)i.layout(r),r+=i.size;(t=this.onDidChange)!=null&&t.call(this,this.viewItems.map(i=>i.size)),this.sashItems.forEach(i=>i.sash.layout()),this.updateSashEnablement()}saveProportions(){this.proportionalLayout&&this.contentSize>0&&(this.proportions=this.viewItems.map(t=>t.size/this.contentSize))}updateSashEnablement(){let t=!1;const r=this.viewItems.map(o=>t=o.size-o.minimumSize>0||t);t=!1;const i=this.viewItems.map(o=>t=o.maximumSize-o.size>0||t),n=[...this.viewItems].reverse();t=!1;const h=n.map(o=>t=o.size-o.minimumSize>0||t).reverse();t=!1;const f=n.map(o=>t=o.maximumSize-o.size>0||t).reverse();let s=0;for(let o=0;o<this.sashItems.length;o++){const{sash:a}=this.sashItems[o];s+=this.viewItems[o].size;const d=!(r[o]&&f[o+1]),u=!(i[o]&&h[o+1]);if(d&&u){const g=Et(o,-1,-1),b=Et(o+1,this.viewItems.length),S=this.findFirstSnapIndex(g),m=this.findFirstSnapIndex(b),c=typeof S=="number"&&!this.viewItems[S].visible,p=typeof m=="number"&&!this.viewItems[m].visible;c&&h[o]&&(s>0||this.startSnappingEnabled)?a.state=_t.Minimum:p&&r[o]&&(s<this.contentSize||this.endSnappingEnabled)?a.state=_t.Maximum:a.state=_t.Disabled}else a.state=d&&!u?_t.Minimum:!d&&u?_t.Maximum:_t.Enabled}}findFirstSnapIndex(t){for(const r of t){const i=this.viewItems[r];if(i.visible&&i.snap)return r}for(const r of t){const i=this.viewItems[r];if(i.visible&&i.maximumSize-i.minimumSize>0)return;if(!i.visible&&i.snap)return r}}}class Pr{constructor(t){this.size=void 0,this.size=t}getPreferredSize(){return this.size}}let ac=class{constructor(t,r){this.proportion=void 0,this.layoutService=void 0,this.proportion=t,this.layoutService=r}getPreferredSize(){return this.proportion*this.layoutService.getSize()}};class tn{getPreferredSize(){}}class cc{get preferredSize(){return this.layoutStrategy.getPreferredSize()}set preferredSize(t){if(typeof t=="number")this.layoutStrategy=new Pr(t);else if(typeof t=="string"){const r=t.trim();if(en(r,"%")){const i=Number(r.slice(0,-1))/100;this.layoutStrategy=new ac(i,this.layoutService)}else if(en(r,"px")){const i=Number(r.slice(0,-2))/100;this.layoutStrategy=new Pr(i)}else if(typeof Number.parseFloat(r)=="number"){const i=Number.parseFloat(r);this.layoutStrategy=new Pr(i)}else this.layoutStrategy=new tn}else this.layoutStrategy=new tn}constructor(t,r){var i;if(this.minimumSize=0,this.maximumSize=Number.POSITIVE_INFINITY,this.element=void 0,this.priority=void 0,this.snap=void 0,this.layoutService=void 0,this.layoutStrategy=void 0,this.layoutService=t,this.element=r.element,this.minimumSize=typeof r.minimumSize=="number"?r.minimumSize:30,this.maximumSize=typeof r.maximumSize=="number"?r.maximumSize:Number.POSITIVE_INFINITY,typeof r.preferredSize=="number")this.layoutStrategy=new Pr(r.preferredSize);else if(typeof r.preferredSize=="string"){const n=r.preferredSize.trim();if(en(n,"%")){const h=Number(n.slice(0,-1))/100;this.layoutStrategy=new ac(h,this.layoutService)}else if(en(n,"px")){const h=Number(n.slice(0,-2));this.layoutStrategy=new Pr(h)}else if(typeof Number.parseFloat(n)=="number"){const h=Number.parseFloat(n);this.layoutStrategy=new Pr(h)}else this.layoutStrategy=new tn}else this.layoutStrategy=new tn;this.priority=(i=r.priority)!=null?i:Ot.Normal,this.snap=typeof r.snap=="boolean"&&r.snap}layout(t){}}function lc(e){return e.minSize!==void 0||e.maxSize!==void 0||e.preferredSize!==void 0||e.priority!==void 0||e.visible!==void 0}const ua=O.forwardRef(({className:e,children:t},r)=>ee.createElement("div",{ref:r,className:ao("split-view-view",ru,e)},t));ua.displayName="Allotment.Pane";const lu=O.forwardRef(({children:e,className:t,id:r,maxSize:i=1/0,minSize:n=30,proportionalLayout:h=!0,separator:f=!0,sizes:s,defaultSizes:o=s,snap:a=!1,vertical:d=!1,onChange:u,onReset:g,onVisibleChange:b,onDragStart:S,onDragEnd:m},c)=>{const p=O.useRef(null),l=O.useRef([]),v=O.useRef(new Map),_=O.useRef(null),w=O.useRef(new Map),E=O.useRef(new Bf),C=O.useRef([]),[y,x]=O.useState(!1),R=O.useMemo(()=>ee.Children.toArray(e).filter(ee.isValidElement),[e]),M=O.useCallback(I=>{var T,B;const $=(T=C.current)==null?void 0:T[I];return typeof $?.preferredSize=="number"&&((B=_.current)!=null&&B.resizeView(I,Math.round($.preferredSize)),!0)},[]);return O.useImperativeHandle(c,()=>({reset:()=>{if(g)g();else{var I;(I=_.current)==null||I.distributeViewSizes();for(let T=0;T<C.current.length;T++)M(T)}},resize:I=>{var T;(T=_.current)==null||T.resizeViews(I)}})),Za(()=>{let I=!0;o&&w.current.size!==o.length&&(I=!1,console.warn(`Expected ${o.length} children based on defaultSizes but found ${w.current.size}`)),I&&o&&(l.current=R.map($=>$.key));const T=fi({orientation:d?Tt.Vertical:Tt.Horizontal,proportionalLayout:h},I&&o&&{descriptor:{size:o.reduce(($,F)=>$+F,0),views:o.map(($,F)=>{var z,U,A,k;const P=v.current.get(l.current[F]),D=new cc(E.current,fi({element:document.createElement("div"),minimumSize:(z=P?.minSize)!=null?z:n,maximumSize:(U=P?.maxSize)!=null?U:i,priority:(A=P?.priority)!=null?A:Ot.Normal},P?.preferredSize&&{preferredSize:P?.preferredSize},{snap:(k=P?.snap)!=null?k:a}));return C.current.push(D),{container:[...w.current.values()][F],size:$,view:D}})}});_.current=new Uf(p.current,T,u,S,m),_.current.on("sashDragStart",()=>{var $;($=p.current)==null||$.classList.add("split-view-sash-dragging")}),_.current.on("sashDragEnd",()=>{var $;($=p.current)==null||$.classList.remove("split-view-sash-dragging")}),_.current.on("sashchange",$=>{if(b&&_.current){const F=R.map(z=>z.key);for(let z=0;z<F.length;z++){const U=v.current.get(F[z]);U?.visible!==void 0&&U.visible!==_.current.isViewVisible(z)&&b(z,_.current.isViewVisible(z))}}}),_.current.on("sashreset",$=>{if(g)g();else{var F;if(M($)||M($+1))return;(F=_.current)==null||F.distributeViewSizes()}});const B=_.current;return()=>{B.dispose()}},[]),Za(()=>{if(y){const V=R.map(L=>L.key),j=[...l.current],K=V.filter(L=>!l.current.includes(L)),J=V.filter(L=>l.current.includes(L)),H=l.current.map(L=>!V.includes(L));for(let L=H.length-1;L>=0;L--){var I;H[L]&&((I=_.current)!=null&&I.removeView(L),j.splice(L,1),C.current.splice(L,1))}for(const L of K){var T,B,$,F,z;const W=v.current.get(L),G=new cc(E.current,fi({element:document.createElement("div"),minimumSize:(T=W?.minSize)!=null?T:n,maximumSize:(B=W?.maxSize)!=null?B:i,priority:($=W?.priority)!=null?$:Ot.Normal},W?.preferredSize&&{preferredSize:W?.preferredSize},{snap:(F=W?.snap)!=null?F:a}));(z=_.current)!=null&&z.addView(w.current.get(L),G,xn.Distribute,V.findIndex(Z=>Z===L)),j.splice(V.findIndex(Z=>Z===L),0,L),C.current.splice(V.findIndex(Z=>Z===L),0,G)}for(;!Rf(V,j);)for(const[L,W]of V.entries()){const G=j.findIndex(Z=>Z===W);if(G!==L){var U;(U=_.current)==null||U.moveView(w.current.get(W),G,L);const Z=j[G];j.splice(G,1),j.splice(L,0,Z);break}}for(const L of K){var A;const W=V.findIndex(Z=>Z===L),G=C.current[W].preferredSize;G!==void 0&&((A=_.current)==null||A.resizeView(W,G))}for(const L of[...K,...J]){var k,P;const W=v.current.get(L),G=V.findIndex(Z=>Z===L);W&&lc(W)&&W.visible!==void 0&&((k=_.current)==null?void 0:k.isViewVisible(G))!==W.visible&&((P=_.current)==null||P.setViewVisible(G,W.visible))}for(const L of J){const W=v.current.get(L),G=V.findIndex(Z=>Z===L);if(W&&lc(W)){var D;W.preferredSize!==void 0&&C.current[G].preferredSize!==W.preferredSize&&(C.current[G].preferredSize=W.preferredSize);let Z=!1;W.minSize!==void 0&&C.current[G].minimumSize!==W.minSize&&(C.current[G].minimumSize=W.minSize,Z=!0),W.maxSize!==void 0&&C.current[G].maximumSize!==W.maxSize&&(C.current[G].maximumSize=W.maxSize,Z=!0),Z&&((D=_.current)==null||D.layout())}}(K.length>0||H.length>0)&&(l.current=V)}},[R,y,i,n,a]),O.useEffect(()=>{_.current&&(_.current.onDidChange=u)},[u]),O.useEffect(()=>{_.current&&(_.current.onDidDragStart=S)},[S]),O.useEffect(()=>{_.current&&(_.current.onDidDragEnd=m)},[m]),Of({ref:p,onResize:({width:I,height:T})=>{var B;I&&T&&((B=_.current)!=null&&B.layout(d?T:I),E.current.setSize(d?T:I),x(!0))}}),O.useEffect(()=>{su&&qf(20)},[]),ee.createElement("div",{ref:p,className:ao("split-view",d?"split-view-vertical":"split-view-horizontal",{"split-view-separator-border":f},Af,d?Mf:If,{[Pf]:f},t),id:r},ee.createElement("div",{className:ao("split-view-container",Lf)},ee.Children.toArray(e).map(I=>{if(!ee.isValidElement(I))return null;const T=I.key;return I.type.displayName==="Allotment.Pane"?(v.current.set(T,I.props),ee.cloneElement(I,{key:T,ref:B=>{const $=I.ref;$&&($.current=B),B?w.current.set(T,B):w.current.delete(T)}})):ee.createElement(ua,{key:T,ref:B=>{B?w.current.set(T,B):w.current.delete(T)}},I)})))});function qf(e){const t=Pt(e,4,20),r=Pt(e,1,8);document.documentElement.style.setProperty("--sash-size",t+"px"),document.documentElement.style.setProperty("--sash-hover-size",r+"px"),function(i){ou=i,au.emit("onDidChangeGlobalSize",i)}(t)}lu.displayName="Allotment";var _r=Object.assign(lu,{Pane:ua});function Gf(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uc(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,i)}return r}function hc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uc(Object(r),!0).forEach(function(i){Gf(e,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uc(Object(r)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(r,i))})}return e}function Kf(e,t){if(e==null)return{};var r={},i=Object.keys(e),n,h;for(h=0;h<i.length;h++)n=i[h],!(t.indexOf(n)>=0)&&(r[n]=e[n]);return r}function Xf(e,t){if(e==null)return{};var r=Kf(e,t),i,n;if(Object.getOwnPropertySymbols){var h=Object.getOwnPropertySymbols(e);for(n=0;n<h.length;n++)i=h[n],!(t.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(e,i)&&(r[i]=e[i])}return r}function Yf(e,t){return Jf(e)||Zf(e,t)||Qf(e,t)||ep()}function Jf(e){if(Array.isArray(e))return e}function Zf(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],i=!0,n=!1,h=void 0;try{for(var f=e[Symbol.iterator](),s;!(i=(s=f.next()).done)&&(r.push(s.value),!(t&&r.length===t));i=!0);}catch(o){n=!0,h=o}finally{try{!i&&f.return!=null&&f.return()}finally{if(n)throw h}}return r}}function Qf(e,t){if(e){if(typeof e=="string")return dc(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return dc(e,t)}}function dc(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,i=new Array(t);r<t;r++)i[r]=e[r];return i}function ep(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tp(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fc(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,i)}return r}function pc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fc(Object(r),!0).forEach(function(i){tp(e,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fc(Object(r)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(r,i))})}return e}function rp(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(i){return t.reduceRight(function(n,h){return h(n)},i)}}function ui(e){return function t(){for(var r=this,i=arguments.length,n=new Array(i),h=0;h<i;h++)n[h]=arguments[h];return n.length>=e.length?e.apply(this,n):function(){for(var f=arguments.length,s=new Array(f),o=0;o<f;o++)s[o]=arguments[o];return t.apply(r,[].concat(n,s))}}}function Rn(e){return{}.toString.call(e).includes("Object")}function ip(e){return!Object.keys(e).length}function _i(e){return typeof e=="function"}function np(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function sp(e,t){return Rn(t)||or("changeType"),Object.keys(t).some(function(r){return!np(e,r)})&&or("changeField"),t}function op(e){_i(e)||or("selectorType")}function ap(e){_i(e)||Rn(e)||or("handlerType"),Rn(e)&&Object.values(e).some(function(t){return!_i(t)})&&or("handlersType")}function cp(e){e||or("initialIsRequired"),Rn(e)||or("initialType"),ip(e)&&or("initialContent")}function lp(e,t){throw new Error(e[t]||e.default)}var up={initialIsRequired:"initial state is required",initialType:"initial state should be an object",initialContent:"initial state shouldn't be an empty object",handlerType:"handler should be an object or a function",handlersType:"all handlers should be a functions",selectorType:"selector should be a function",changeType:"provided value of changes should be an object",changeField:'it seams you want to change a field in the state which is not specified in the "initial" state',default:"an unknown error accured in `state-local` package"},or=ui(lp)(up),rn={changes:sp,selector:op,handler:ap,initial:cp};function hp(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};rn.initial(e),rn.handler(t);var r={current:e},i=ui(pp)(r,t),n=ui(fp)(r),h=ui(rn.changes)(e),f=ui(dp)(r);function s(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(d){return d};return rn.selector(a),a(r.current)}function o(a){rp(i,n,h,f)(a)}return[s,o]}function dp(e,t){return _i(t)?t(e.current):t}function fp(e,t){return e.current=pc(pc({},e.current),t),t}function pp(e,t,r){return _i(t)?t(e.current):Object.keys(r).forEach(function(i){var n;return(n=t[i])===null||n===void 0?void 0:n.call(t,e.current[i])}),r}var vp={create:hp},gp={paths:{vs:"https://cdn.jsdelivr.net/npm/monaco-editor@0.52.2/min/vs"}};function mp(e){return function t(){for(var r=this,i=arguments.length,n=new Array(i),h=0;h<i;h++)n[h]=arguments[h];return n.length>=e.length?e.apply(this,n):function(){for(var f=arguments.length,s=new Array(f),o=0;o<f;o++)s[o]=arguments[o];return t.apply(r,[].concat(n,s))}}}function _p(e){return{}.toString.call(e).includes("Object")}function bp(e){return e||vc("configIsRequired"),_p(e)||vc("configType"),e.urls?(yp(),{paths:{vs:e.urls.monacoBase}}):e}function yp(){console.warn(uu.deprecation)}function Sp(e,t){throw new Error(e[t]||e.default)}var uu={configIsRequired:"the configuration object is required",configType:"the configuration object should be an object",default:"an unknown error accured in `@monaco-editor/loader` package",deprecation:`Deprecation warning!
    You are using deprecated way of configuration.

    Instead of using
      monaco.config({ urls: { monacoBase: '...' } })
    use
      monaco.config({ paths: { vs: '...' } })

    For more please check the link https://github.com/suren-atoyan/monaco-loader#config
  `},vc=mp(Sp)(uu),Cp={config:bp},wp=function(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return function(n){return r.reduceRight(function(h,f){return f(h)},n)}};function hu(e,t){return Object.keys(t).forEach(function(r){t[r]instanceof Object&&e[r]&&Object.assign(t[r],hu(e[r],t[r]))}),hc(hc({},e),t)}var Ep={type:"cancelation",msg:"operation is manually canceled"};function ys(e){var t=!1,r=new Promise(function(i,n){e.then(function(h){return t?n(Ep):i(h)}),e.catch(n)});return r.cancel=function(){return t=!0},r}var xp=vp.create({config:gp,isInitialized:!1,resolve:null,reject:null,monaco:null}),du=Yf(xp,2),Mi=du[0],jn=du[1];function Rp(e){var t=Cp.config(e),r=t.monaco,i=Xf(t,["monaco"]);jn(function(n){return{config:hu(n.config,i),monaco:r}})}function Op(){var e=Mi(function(t){var r=t.monaco,i=t.isInitialized,n=t.resolve;return{monaco:r,isInitialized:i,resolve:n}});if(!e.isInitialized){if(jn({isInitialized:!0}),e.monaco)return e.resolve(e.monaco),ys(Ss);if(window.monaco&&window.monaco.editor)return fu(window.monaco),e.resolve(window.monaco),ys(Ss);wp(Ap,Lp)(Mp)}return ys(Ss)}function Ap(e){return document.body.appendChild(e)}function Tp(e){var t=document.createElement("script");return e&&(t.src=e),t}function Lp(e){var t=Mi(function(i){var n=i.config,h=i.reject;return{config:n,reject:h}}),r=Tp("".concat(t.config.paths.vs,"/loader.js"));return r.onload=function(){return e()},r.onerror=t.reject,r}function Mp(){var e=Mi(function(r){var i=r.config,n=r.resolve,h=r.reject;return{config:i,resolve:n,reject:h}}),t=window.require;t.config(e.config),t(["vs/editor/editor.main"],function(r){fu(r),e.resolve(r)},function(r){e.reject(r)})}function fu(e){Mi().monaco||jn({monaco:e})}function Ip(){return Mi(function(e){var t=e.monaco;return t})}var Ss=new Promise(function(e,t){return jn({resolve:e,reject:t})}),pu={config:Rp,init:Op,__getMonacoInstance:Ip},Pp={wrapper:{display:"flex",position:"relative",textAlign:"initial"},fullWidth:{width:"100%"},hide:{display:"none"}},Cs=Pp,kp={container:{display:"flex",height:"100%",width:"100%",justifyContent:"center",alignItems:"center"}},Bp=kp;function Dp({children:e}){return ee.createElement("div",{style:Bp.container},e)}var $p=Dp,Fp=$p;function Hp({width:e,height:t,isEditorReady:r,loading:i,_ref:n,className:h,wrapperProps:f}){return ee.createElement("section",{style:{...Cs.wrapper,width:e,height:t},...f},!r&&ee.createElement(Fp,null,i),ee.createElement("div",{ref:n,style:{...Cs.fullWidth,...!r&&Cs.hide},className:h}))}var jp=Hp,vu=O.memo(jp);function zp(e){O.useEffect(e,[])}var gu=zp;function Np(e,t,r=!0){let i=O.useRef(!0);O.useEffect(i.current||!r?()=>{i.current=!1}:e,t)}var bt=Np;function pi(){}function $r(e,t,r,i){return Vp(e,i)||Wp(e,t,r,i)}function Vp(e,t){return e.editor.getModel(mu(e,t))}function Wp(e,t,r,i){return e.editor.createModel(t,r,i?mu(e,i):void 0)}function mu(e,t){return e.Uri.parse(t)}function Up({original:e,modified:t,language:r,originalLanguage:i,modifiedLanguage:n,originalModelPath:h,modifiedModelPath:f,keepCurrentOriginalModel:s=!1,keepCurrentModifiedModel:o=!1,theme:a="light",loading:d="Loading...",options:u={},height:g="100%",width:b="100%",className:S,wrapperProps:m={},beforeMount:c=pi,onMount:p=pi}){let[l,v]=O.useState(!1),[_,w]=O.useState(!0),E=O.useRef(null),C=O.useRef(null),y=O.useRef(null),x=O.useRef(p),R=O.useRef(c),M=O.useRef(!1);gu(()=>{let $=pu.init();return $.then(F=>(C.current=F)&&w(!1)).catch(F=>F?.type!=="cancelation"&&console.error("Monaco initialization: error:",F)),()=>E.current?B():$.cancel()}),bt(()=>{if(E.current&&C.current){let $=E.current.getOriginalEditor(),F=$r(C.current,e||"",i||r||"text",h||"");F!==$.getModel()&&$.setModel(F)}},[h],l),bt(()=>{if(E.current&&C.current){let $=E.current.getModifiedEditor(),F=$r(C.current,t||"",n||r||"text",f||"");F!==$.getModel()&&$.setModel(F)}},[f],l),bt(()=>{let $=E.current.getModifiedEditor();$.getOption(C.current.editor.EditorOption.readOnly)?$.setValue(t||""):t!==$.getValue()&&($.executeEdits("",[{range:$.getModel().getFullModelRange(),text:t||"",forceMoveMarkers:!0}]),$.pushUndoStop())},[t],l),bt(()=>{E.current?.getModel()?.original.setValue(e||"")},[e],l),bt(()=>{let{original:$,modified:F}=E.current.getModel();C.current.editor.setModelLanguage($,i||r||"text"),C.current.editor.setModelLanguage(F,n||r||"text")},[r,i,n],l),bt(()=>{C.current?.editor.setTheme(a)},[a],l),bt(()=>{E.current?.updateOptions(u)},[u],l);let I=O.useCallback(()=>{if(!C.current)return;R.current(C.current);let $=$r(C.current,e||"",i||r||"text",h||""),F=$r(C.current,t||"",n||r||"text",f||"");E.current?.setModel({original:$,modified:F})},[r,t,n,e,i,h,f]),T=O.useCallback(()=>{!M.current&&y.current&&(E.current=C.current.editor.createDiffEditor(y.current,{automaticLayout:!0,...u}),I(),C.current?.editor.setTheme(a),v(!0),M.current=!0)},[u,a,I]);O.useEffect(()=>{l&&x.current(E.current,C.current)},[l]),O.useEffect(()=>{!_&&!l&&T()},[_,l,T]);function B(){let $=E.current?.getModel();s||$?.original?.dispose(),o||$?.modified?.dispose(),E.current?.dispose()}return ee.createElement(vu,{width:b,height:g,isEditorReady:l,loading:d,_ref:y,className:S,wrapperProps:m})}var qp=Up;O.memo(qp);function Gp(e){let t=O.useRef();return O.useEffect(()=>{t.current=e},[e]),t.current}var Kp=Gp,nn=new Map;function Xp({defaultValue:e,defaultLanguage:t,defaultPath:r,value:i,language:n,path:h,theme:f="light",line:s,loading:o="Loading...",options:a={},overrideServices:d={},saveViewState:u=!0,keepCurrentModel:g=!1,width:b="100%",height:S="100%",className:m,wrapperProps:c={},beforeMount:p=pi,onMount:l=pi,onChange:v,onValidate:_=pi}){let[w,E]=O.useState(!1),[C,y]=O.useState(!0),x=O.useRef(null),R=O.useRef(null),M=O.useRef(null),I=O.useRef(l),T=O.useRef(p),B=O.useRef(),$=O.useRef(i),F=Kp(h),z=O.useRef(!1),U=O.useRef(!1);gu(()=>{let P=pu.init();return P.then(D=>(x.current=D)&&y(!1)).catch(D=>D?.type!=="cancelation"&&console.error("Monaco initialization: error:",D)),()=>R.current?k():P.cancel()}),bt(()=>{let P=$r(x.current,e||i||"",t||n||"",h||r||"");P!==R.current?.getModel()&&(u&&nn.set(F,R.current?.saveViewState()),R.current?.setModel(P),u&&R.current?.restoreViewState(nn.get(h)))},[h],w),bt(()=>{R.current?.updateOptions(a)},[a],w),bt(()=>{!R.current||i===void 0||(R.current.getOption(x.current.editor.EditorOption.readOnly)?R.current.setValue(i):i!==R.current.getValue()&&(U.current=!0,R.current.executeEdits("",[{range:R.current.getModel().getFullModelRange(),text:i,forceMoveMarkers:!0}]),R.current.pushUndoStop(),U.current=!1))},[i],w),bt(()=>{let P=R.current?.getModel();P&&n&&x.current?.editor.setModelLanguage(P,n)},[n],w),bt(()=>{s!==void 0&&R.current?.revealLine(s)},[s],w),bt(()=>{x.current?.editor.setTheme(f)},[f],w);let A=O.useCallback(()=>{if(!(!M.current||!x.current)&&!z.current){T.current(x.current);let P=h||r,D=$r(x.current,i||e||"",t||n||"",P||"");R.current=x.current?.editor.create(M.current,{model:D,automaticLayout:!0,...a},d),u&&R.current.restoreViewState(nn.get(P)),x.current.editor.setTheme(f),s!==void 0&&R.current.revealLine(s),E(!0),z.current=!0}},[e,t,r,i,n,h,a,d,u,f,s]);O.useEffect(()=>{w&&I.current(R.current,x.current)},[w]),O.useEffect(()=>{!C&&!w&&A()},[C,w,A]),$.current=i,O.useEffect(()=>{w&&v&&(B.current?.dispose(),B.current=R.current?.onDidChangeModelContent(P=>{U.current||v(R.current.getValue(),P)}))},[w,v]),O.useEffect(()=>{if(w){let P=x.current.editor.onDidChangeMarkers(D=>{let V=R.current.getModel()?.uri;if(V&&D.find(j=>j.path===V.path)){let j=x.current.editor.getModelMarkers({resource:V});_?.(j)}});return()=>{P?.dispose()}}return()=>{}},[w,_]);function k(){B.current?.dispose(),g?u&&nn.set(h,R.current.saveViewState()):R.current.getModel()?.dispose(),R.current.dispose()}return ee.createElement(vu,{width:b,height:S,isEditorReady:w,loading:o,_ref:M,className:m,wrapperProps:c})}var Yp=Xp,Jp=O.memo(Yp),Zp=Jp;const gc=e=>{let t;const r=new Set,i=(a,d)=>{const u=typeof a=="function"?a(t):a;if(!Object.is(u,t)){const g=t;t=d??(typeof u!="object"||u===null)?u:Object.assign({},t,u),r.forEach(b=>b(t,g))}},n=()=>t,s={setState:i,getState:n,getInitialState:()=>o,subscribe:a=>(r.add(a),()=>r.delete(a))},o=t=e(i,n,s);return s},Qp=e=>e?gc(e):gc,ev=e=>e;function tv(e,t=ev){const r=ee.useSyncExternalStore(e.subscribe,()=>t(e.getState()),()=>t(e.getInitialState()));return ee.useDebugValue(r),r}const mc=e=>{const t=Qp(e),r=i=>tv(t,i);return Object.assign(r,t),r},Er=e=>e?mc(e):mc,bi=Er(e=>({activeFileTab:null,setActiveFileTab:(t,r,i)=>e({activeFileTab:{path:t,value:r,extension:i}})})),Ii=Er((e,t)=>{const r=new bd;return{projectId:null,treeStructure:null,setTreeStructure:async()=>{const i=t().projectId,n=await r.fetchQuery({queryKey:[`projecttree-${i}`],queryFn:()=>yd(i)});e({treeStructure:n.data})},setProjectId:i=>{e({projectId:i})}}}),_u=Er((e,t)=>({port:null,setPort:r=>{e({port:r})}})),zn=Er(e=>({openFileTabs:[],addFileTab:t=>e(r=>r.openFileTabs.filter(n=>n.path===t.path).length>0?r:{openFileTabs:[...r.openFileTabs,t]}),removeFileTab:t=>{console.log("Removing file tab:",t),e(r=>({openFileTabs:r.openFileTabs.filter(n=>n.path!==t.path)}))}})),lr=Er(e=>({editorSocket:null,setEditorSocket:t=>{e({editorSocket:t});const{setActiveFileTab:r}=bi.getState(),{setTreeStructure:i}=Ii.getState(),{setPort:n}=_u.getState(),{addFileTab:h,removeFileTab:f}=zn.getState();t.on("createFileSuccess",()=>{i()}),t?.on("readFileSuccess",({path:s,extension:o,value:a})=>{const d=o?.split(".").pop()??"";r(s,a,d)}),t.on("writeFileSuccess",({data:s,success:o})=>{t.emit("readFile",{pathToFileFolder:bi.getState().activeFileTab.path})}),t.on("deleteFileSuccess",()=>{i()}),t.on("treeStructureUpdate",()=>{i()}),t.on("getPortSuccess",({data:s})=>{n(s)}),t.on("renameFileSuccess",({data:s})=>{s.isFile&&(f({path:s.oldPath}),t.emit("readFile",{pathToFileFolder:s.newPath}),h({name:s.newPath.split("/").pop(),path:s.newPath}))}),t.on("createFolderSuccess",()=>{i()}),t.on("deleteFolderSuccess",()=>{i()})}})),rv={js:"JavaScript",jsx:"JavaScript",ts:"TypeScript",tsx:"TypeScript",py:"Python",java:"Java",c:"C",cpp:"C++",html:"HTML",css:"CSS",json:"JSON",md:"Markdown",txt:"Text"},iv=e=>{if(e)return rv[e]?.toLowerCase()},_c=String.raw`
                                 /\\\                  /\\\       
                                 \/\\\                 \/\\\       
                                  \/\\\                 \/\\\      
    /\\\\\\\\     /\\\\\           \/\\\      /\\\\\\\\  \/\\\            /\\\\\     /\\\    /\\\     
   /\\\//////    /\\\///\\\    /\\\\\\\\\    /\\\/////\\\ \/\\\\\\\\\    /\\\///\\\  \///\\\/\\\/    
   /\\\          /\\\  \//\\\  /\\\////\\\   /\\\\\\\\\\\  \/\\\////\\\  /\\\  \//\\\   \///\\\/   
   \//\\\        \//\\\__/\\\  \/\\\  \/\\\  \//\\///////   \/\\\  \/\\\ \//\\\__/\\\     /\\\/\\\  
     \///\\\\\\\\  \///\\\\\/   \//\\\\\\\/\\  \//\\\\\\\\\\ \/\\\\\\\\\   \///\\\\\/    /\\\/\///\\\ 
        \////////     \/////      \///////\//    \//////////  \/////////      \/////     \///    \///

    +-------------------------------------------------------------------------------+
    |                                                                               |
    |                  Welcome to Codebox  Code Without Limits                     |
    |                                                                               |
    |  # Codebox is a powerful online code editor that offers a seamless coding     |
    |    experience  no local setup required.                                      |
    |                                                                               |
    |  # It's a cloud-based tool for developers who want to code, test, and share   |
    |    instantly. Think of it as your personal coding playground  no install.    |
    |                                                                               |
    |           Start building your ideas right from the browser!                 |
    |                                                                               |
    |                              Key Features                                     |
    |                                                                               |
    |      Zero-Setup            Start coding immediately in the browser         |
    |      Sandboxed Sessions    Isolated, safe coding environments              |
    |      Live App Preview      Preview your app live with inbuilt browser      |  
    |      Real-Time Sync        Auto-save and collaborate via WebSockets        |
    |      Interactive Terminal  Execute commands in a live terminal             |
    |      Multi-File Tabs       Edit multiple files simultaneously              |
    |      File Tree View        Easily browse and organize project files        |
    |      Theming Support       Dark/Light/Dracula themes via Monaco            |
    |                                                                               |
    |                                                                               |
    +-------------------------------------------------------------------------------+

        `;function nv(){const{activeFileTab:e}=bi(),{editorSocket:t}=lr(),r=O.useRef(null),i=h=>{r.current&&clearTimeout(r.current),r.current=setTimeout(()=>{const f=h;t.emit("writeFile",{data:f,pathToFileFolder:e?.path})},2e3)},n=()=>e?.path?e?.value:_c;return O.useEffect(()=>{n()},[e]),te.jsx("div",{className:"editor-pane",style:{minHeight:"92%",width:"100%",flex:1,display:"flex",flexDirection:"column"},children:te.jsx(Zp,{width:"100%",height:"100%",language:iv(e?.extension)||"plaintext",defaultValue:_c,value:n(),onMount:(h,f)=>{},theme:"vs-dark",onChange:i,options:{fontSize:14,fontFamily:"Fira Code, monospace",fontLigatures:!0,minimap:{enabled:!!e?.extension},automaticLayout:!0,wordWrap:"off",lineNumbers:e?.extension?"on":"off",renderLineHighlight:"line",cursorStyle:"line",glyphMargin:!0,folding:!!e?.extension,smoothScrolling:!0,cursorBlinking:"smooth",cursorSmoothCaretAnimation:!0,renderWhitespace:"selection",renderControlCharacters:!0,overviewRulerLanes:3,overviewRulerBorder:!0,overviewRulerColor:"#000000",scrollbar:{verticalScrollbarSize:14,horizontalScrollbarSize:14}}})})}function sv(e){return at({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M405 136.798L375.202 107 256 226.202 136.798 107 107 136.798 226.202 256 107 375.202 136.798 405 256 285.798 375.202 405 405 375.202 285.798 256z"},child:[]}]})(e)}function ov(e){return at({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 388c-72.597 0-132-59.405-132-132 0-72.601 59.403-132 132-132 36.3 0 69.299 15.4 92.406 39.601L278 234h154V80l-51.698 51.702C348.406 99.798 304.406 80 256 80c-96.797 0-176 79.203-176 176s78.094 176 176 176c81.045 0 148.287-54.134 169.401-128H378.85c-18.745 49.561-67.138 84-122.85 84z"},child:[]}]})(e)}function av(e){return at({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"},child:[]},{tag:"polyline",attr:{points:"14 2 14 8 20 8"},child:[]},{tag:"line",attr:{x1:"16",y1:"13",x2:"8",y2:"13"},child:[]},{tag:"line",attr:{x1:"16",y1:"17",x2:"8",y2:"17"},child:[]},{tag:"polyline",attr:{points:"10 9 9 9 8 9"},child:[]}]})(e)}function cv(e){return at({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M0 16.5V1.127C0 .502.506 0 1.127 0h21.748C23.498 0 24 .505 24 1.126V15.95c-.676-.413-1.467-.62-2.372-.62-1.258 0-2.212.296-2.862.886-.65.591-.974 1.333-.974 2.226 0 .979.336 1.698 1.008 2.158.397.276 1.114.53 2.151.765l1.056.237c.618.135 1.07.29 1.36.466.288.18.432.436.432.765 0 .564-.29.95-.872 1.157l-.024.008H20.68a1.528 1.528 0 0 1-.688-.462c-.185-.225-.31-.565-.372-1.021h-1.99c0 .56.109 1.053.325 1.483h-1.681c.196-.396.294-.837.294-1.32 0-.889-.297-1.568-.892-2.037-.384-.302-.952-.543-1.705-.724l-1.719-.412c-.663-.158-1.096-.296-1.299-.413a.858.858 0 0 1-.473-.799c0-.387.16-.69.48-.906.32-.217.75-.325 1.286-.325.482 0 .886.084 1.21.25.488.253.75.68.785 1.28h2.003c-.036-1.06-.425-1.869-1.167-2.426-.742-.557-1.639-.836-2.69-.836-1.258 0-2.212.296-2.861.886-.65.591-.975 1.333-.975 2.226 0 .979.336 1.698 1.008 2.158.397.276 1.114.53 2.152.765l1.055.237c.618.135 1.071.29 1.36.466.288.18.433.436.433.765 0 .564-.291.95-.873 1.157l-.025.008h-2.223a1.528 1.528 0 0 1-.688-.462c-.185-.225-.31-.565-.372-1.021h-1.99c0 .56.108 1.053.324 1.483H6.611a4.75 4.75 0 0 0 .667-1.801H5.215c-.14.514-.316.9-.528 1.157-.261.326-.603.54-1.026.644H2.42c-.45-.115-.839-.37-1.165-.762C.792 22.68.56 21.842.56 20.724c0-1.119.218-1.984.656-2.595.437-.611 1.035-.917 1.793-.917.744 0 1.305.217 1.684.65.212.243.386.604.52 1.082H7.3c-.032-.622-.262-1.242-.69-1.86-.776-1.1-2.003-1.65-3.68-1.65-1.168 0-2.145.355-2.929 1.067zm24 3.654v-1.562h-.518c-.036-.6-.298-1.026-.785-1.279-.325-.166-.728-.25-1.21-.25-.537 0-.966.108-1.286.325-.32.216-.48.518-.48.906 0 .357.157.623.473.799.203.117.636.255 1.299.413l1.718.412c.29.07.554.149.789.236z"},child:[]}]})(e)}function ws(e){return at({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M1.125 0C.502 0 0 .502 0 1.125v21.75C0 23.498.502 24 1.125 24h21.75c.623 0 1.125-.502 1.125-1.125V1.125C24 .502 23.498 0 22.875 0zm17.363 9.75c.612 0 1.154.037 1.627.111a6.38 6.38 0 0 1 1.306.34v2.458a3.95 3.95 0 0 0-.643-.361 5.093 5.093 0 0 0-.717-.26 5.453 5.453 0 0 0-1.426-.2c-.3 0-.573.028-.819.086a2.1 2.1 0 0 0-.623.242c-.17.104-.3.229-.393.374a.888.888 0 0 0-.14.49c0 .196.053.373.156.529.104.156.252.304.443.444s.423.276.696.41c.273.135.582.274.926.416.47.197.892.407 1.266.628.374.222.695.473.963.753.268.279.472.598.614.957.142.359.214.776.214 1.253 0 .657-.125 1.21-.373 1.656a3.033 3.033 0 0 1-1.012 1.085 4.38 4.38 0 0 1-1.487.596c-.566.12-1.163.18-1.79.18a9.916 9.916 0 0 1-1.84-.164 5.544 5.544 0 0 1-1.512-.493v-2.63a5.033 5.033 0 0 0 3.237 1.2c.333 0 .624-.03.872-.09.249-.06.456-.144.623-.25.166-.108.29-.234.373-.38a1.023 1.023 0 0 0-.074-1.089 2.12 2.12 0 0 0-.537-.5 5.597 5.597 0 0 0-.807-.444 27.72 27.72 0 0 0-1.007-.436c-.918-.383-1.602-.852-2.053-1.405-.45-.553-.676-1.222-.676-2.005 0-.614.123-1.141.369-1.582.246-.441.58-.804 1.004-1.089a4.494 4.494 0 0 1 1.47-.629 7.536 7.536 0 0 1 1.77-.201zm-15.113.188h9.563v2.166H9.506v9.646H6.789v-9.646H3.375z"},child:[]}]})(e)}function lv(e){return at({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M5 12v-7a2 2 0 0 1 2 -2h7l5 5v4"},child:[]},{tag:"path",attr:{d:"M14 3v4a1 1 0 0 0 1 1h4"},child:[]},{tag:"path",attr:{d:"M16 15l4 6"},child:[]},{tag:"path",attr:{d:"M16 21l4 -6"},child:[]},{tag:"path",attr:{d:"M10 20.25c0 .414 .336 .75 .75 .75h1.25a1 1 0 0 0 1 -1v-1a1 1 0 0 0 -1 -1h-1a1 1 0 0 1 -1 -1v-1a1 1 0 0 1 1 -1h1.25a.75 .75 0 0 1 .75 .75"},child:[]},{tag:"path",attr:{d:"M4.5 15h3"},child:[]},{tag:"path",attr:{d:"M6 15v6"},child:[]}]})(e)}function uv(e){return at({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M64 192v-72a40 40 0 0 1 40-40h75.89a40 40 0 0 1 22.19 6.72l27.84 18.56a40 40 0 0 0 22.19 6.72H408a40 40 0 0 1 40 40v40"},child:[]},{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M479.9 226.55 463.68 392a40 40 0 0 1-39.93 40H88.25a40 40 0 0 1-39.93-40L32.1 226.55A32 32 0 0 1 64 192h384.1a32 32 0 0 1 31.8 34.55z"},child:[]}]})(e)}function bu(e){return at({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M496 152a56 56 0 0 0-56-56H220.11a23.89 23.89 0 0 1-13.31-4L179 73.41A55.77 55.77 0 0 0 147.89 64H72a56 56 0 0 0-56 56v48a8 8 0 0 0 8 8h464a8 8 0 0 0 8-8zM16 392a56 56 0 0 0 56 56h368a56 56 0 0 0 56-56V216a8 8 0 0 0-8-8H24a8 8 0 0 0-8 8z"},child:[]}]})(e)}function hv(e){return at({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M475 64H37C16.58 64 0 81.38 0 102.77v306.42C0 430.59 16.58 448 37 448h438c20.38 0 37-17.41 37-38.81V102.77C512 81.38 495.42 64 475 64zM288 368h-64V256l-48 64-48-64v112H64V144h64l48 80 48-80h64zm96 0-80-112h48.05L352 144h64v112h48z"},child:[]}]})(e)}const dv={jsx:te.jsx(ja,{color:"#61DAFB",size:20}),react:te.jsx(ja,{color:"#61DAFB",size:30}),js:te.jsx(us,{color:"#f8e65dff",size:20}),cjs:te.jsx(us,{color:"#f8e65dff",size:20}),mjs:te.jsx(us,{color:"#f8e65dff",size:20}),json:te.jsx(Cf,{size:20,color:"#F7DF1E"}),txt:te.jsx(av,{size:20,color:"#6C757D"}),html:te.jsx(Cd,{size:20,color:"#E34F26"}),css:te.jsx(cv,{size:20,color:"#7e57c2",style:{backgroundColor:"white"}}),ts:te.jsx(ws,{size:20,color:"#007ACC"}),cts:te.jsx(ws,{size:20,color:"#007ACC"}),mts:te.jsx(ws,{size:20,color:"#007ACC"}),tsx:te.jsx(lv,{size:20,color:"#007ACC"}),md:te.jsx(hv,{size:22,color:"#000000"}),gitignore:te.jsx(Sd,{size:22,color:"#F05032"})},yu=e=>dv[e]||te.jsx(jl,{size:20,color:"#6C757D"});function fv({path:e,name:t}){const[r,i]=O.useState(!1),{editorSocket:n}=lr(),{activeFileTab:h,setActiveFileTab:f}=bi(),{removeFileTab:s,openFileTabs:o}=zn(),a=e===h?.path,d=()=>{n&&n?.emit("readFile",{pathToFileFolder:e})},u=O.useCallback(g=>{g.stopPropagation();const b=[...o],S=b.findIndex(c=>c.path===e);if(s({name:t,path:e}),e!==h?.path)return;const m=b.filter(c=>c.path!==e);if(m.length){const c=m[S]||m[S-1]||m[0];f(c),n?.emit("readFile",{pathToFileFolder:c.path})}else f(null)},[h?.path,n,t,o,e,s,f]);return te.jsxs("button",{className:"editor-button",onMouseEnter:()=>i(!0),onMouseLeave:()=>i(!1),style:{color:a||r?"white":"#bac9dbff",borderTop:a?"2px solid #646cff":"none",borderRight:a?"2px solid #646cff":"none"},onClick:d,children:[yu(t.split(".").pop()),te.jsx("span",{children:t}),te.jsx(sv,{onClick:u,style:{visibility:a||r?"visible":"hidden"}})]})}function pv(e){return at({attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M8.2 275.4c0-8.6 3.4-17.401 10-24.001 13.2-13.2 34.8-13.2 48 0l451.8 451.8 445.2-445.2c13.2-13.2 34.8-13.2 48 0s13.2 34.8 0 48L542 775.399c-13.2 13.2-34.8 13.2-48 0l-475.8-475.8c-6.8-6.8-10-15.4-10-24.199z"},child:[]}]})(e)}function Su(e){return at({attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M271.653 1023.192c-8.685 0-17.573-3.432-24.238-10.097-13.33-13.33-13.33-35.144 0-48.474L703.67 508.163 254.08 58.573c-13.33-13.331-13.33-35.145 0-48.475 13.33-13.33 35.143-13.33 48.473 0L776.38 483.925c13.33 13.33 13.33 35.143 0 48.473l-480.492 480.694c-6.665 6.665-15.551 10.099-24.236 10.099z"},child:[]}]})(e)}const Cu=(e,t)=>{if(t.path===e)return t;if(!t.children)return null;for(const r of t.children){if(r.path===e)return r;const i=Cu(e,r);if(i)return i}return null},co=(e,t,r)=>{const i=Cu(t,r);return!i||!i.children?!1:i.children.some(n=>n.name.trim()===e.trim())},Pi=Er(e=>({x:null,y:null,isOpen:!1,path:null,e:null,editMode:!1,isFolder:!1,action:null,setEditMode:t=>{e({editMode:t})},setE:t=>{e({e:t})},setX:t=>{e({x:t})},setY:t=>{e({y:t})},setIsOpen:t=>{e({isOpen:t})},setPath:t=>{e({path:t})},setIsFolder:t=>{e({isFolder:t})},setAction:t=>{e({action:t})}}));function bc({fileFolderData:e,setCollisionPath:t}){const{setEditMode:r}=Pi(),{treeStructure:i}=Ii(),{editorSocket:n}=lr(),h=(f,s)=>{f.preventDefault();const o=s.path.split("/").slice(0,-1).join("/"),a=f.target.value.trim()||s.name,d=o+"/"+a;if(d===s.path){r(!1);return}const u=co(a,o,i);if(u){t(s.path),console.log("File name collision detected",u);return}t(""),r(!1),n?.emit("renameFile",{oldPath:s.path,newPath:d})};return te.jsx("input",{className:"rename-input",type:"text",defaultValue:e.name,onBlur:f=>{h(f,e)},onChange:f=>{const s=f.target.value.trim();if(s===e.name)return;const o=co(s,e.path.split("/").slice(0,-1).join("/"),i);t(o?e.path:"")},onKeyDown:f=>{f.key==="Enter"?h(f,e):f.key==="Escape"&&r(!1)},onFocus:f=>f.target.select(),autoFocus:!0,spellCheck:"false"})}function vv(e){return at({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M4 8H20V21C20 21.5523 19.5523 22 19 22H5C4.44772 22 4 21.5523 4 21V8ZM6 10V20H18V10H6ZM9 12H11V18H9V12ZM13 12H15V18H13V12ZM7 5V3C7 2.44772 7.44772 2 8 2H16C16.5523 2 17 2.44772 17 3V5H22V7H2V5H7ZM9 4V5H15V4H9Z"},child:[]}]})(e)}function gv({fileFolderData:e}){const{setEditMode:t,setAction:r,action:i}=Pi(),{editorSocket:n}=lr(),[h,f]=O.useState(!1),s=(o,a)=>{i==="addFolder"?n?.emit("createFolder",{name:o.target.value,parent:a.path}):i==="addFile"&&n?.emit("createFile",{name:o.target.value,parent:a.path}),t(!1),r(null)};return te.jsxs("div",{className:`new-fileFolder tree-leaf ${h?"file-collision":""}`,children:[i==="addFolder"&&te.jsx(Su,{className:"tree-icon"}),te.jsxs("div",{children:[i==="addFolder"&&te.jsx(bu,{color:"#2196f3",size:18}),i==="addFile"&&te.jsx(jl,{size:20,color:"#6C757D"})]}),te.jsx("input",{type:"text",autoFocus:!0,spellCheck:"false",onChange:o=>{let a=o.target.value.trim();co(a,e.path,e)?f(!0):f(!1)},onBlur:o=>{o.target.value.trim()===""?t(!1):s(o,e)},onKeyDown:o=>{o.key==="Enter"?s(o,e):o.key==="Escape"&&t(!1)}})]})}function mv(e){return at({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 22h14a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v4"},child:[]},{tag:"path",attr:{d:"M14 2v4a2 2 0 0 0 2 2h4"},child:[]},{tag:"path",attr:{d:"M3 15h6"},child:[]},{tag:"path",attr:{d:"M6 12v6"},child:[]}]})(e)}function wu({fileFolderData:e}){const[t,r]=O.useState({}),[i,n]=O.useState(""),h=O.useMemo(()=>e.children?[...e.children.filter(R=>R.children),...e.children.filter(R=>!R.children)]:[],[e.children]),{activeFileTab:f}=bi(),{treeStructure:s,projectId:o}=Ii(),{editorSocket:a}=lr(),{setPath:d,setX:u,setY:g,setIsOpen:b,path:S,isOpen:m,editMode:c,setEditMode:p,action:l,setAction:v,setIsFolder:_}=Pi(),{addFileTab:w}=zn(),E=R=>{r(M=>({...M,[R]:!M[R]}))},C=R=>{a&&a?.emit("readFile",{pathToFileFolder:R?.path}),w({name:R.name,path:R.path})},y=(R,M)=>{R.preventDefault(),d(M),u(R.clientX),g(R.clientY),b(!0),_(!1)},x=(R,M)=>{R.preventDefault(),d(M),u(R.clientX),g(R.clientY),b(!0),_(!0)};return O.useEffect(()=>{e.name===o&&r(R=>({...R,[e.name]:!0}))},[]),te.jsxs("div",{className:"tree-node",children:[e.children?te.jsxs(te.Fragment,{children:[te.jsxs("button",{className:"tree-toggle",onClick:()=>E(e.name),onContextMenu:R=>{x(R,e.path),console.log(e.children)},children:[t[e.name]?te.jsxs("span",{className:"folder-icon",children:[te.jsx(pv,{className:"tree-icon"}),e.name!==o&&te.jsx(uv,{color:"#2196f3",size:18})]}):te.jsxs("span",{children:[te.jsx(Su,{className:"tree-icon"}),e.name!==o&&te.jsx(bu,{color:"#2196f3",size:18})]}),te.jsx("span",{children:c&&l==="renameFolder"&&S===e.path?te.jsx(bc,{fileFolderData:e,treeStructure:s,setCollisionPath:n}):te.jsx("span",{className:"folder-name",children:e.name})}),!c&&te.jsxs("div",{className:"folder-actions",children:[te.jsx(mv,{size:15,onClick:R=>{R.preventDefault(),R.stopPropagation(),d(e.path),p(!0),v("addFile"),r(M=>({...M,[e.name]:!M[e.name]}))}}),te.jsx(wf,{size:15,onClick:R=>{R.preventDefault(),R.stopPropagation(),d(e.path),p(!0),v("addFolder"),r(M=>({...M,[e.name]:!M[e.name]}))}})]})]}),c&&l!=="renameFolder"&&S===e.path&&te.jsx("div",{className:`${l==="addFolder"?"tree-children":""}`,children:te.jsx(gv,{fileFolderData:e})})]}):te.jsxs("div",{className:`tree-leaf ${f?.path==e.path?"active-file-highlight":""}   ${S==e.path&&m||S==e.path&&c?"file-folder-focus":""} ${i==e.path&&c?"file-collision":""}  `,onClick:()=>C(e),onContextMenu:R=>y(R,e.path),children:[te.jsx("div",{className:"leaf-icon",children:yu(e.name.split(".").pop())}),te.jsx("span",{children:c&&S===e.path?te.jsx(bc,{fileFolderData:e,treeStructure:s,setCollisionPath:n}):te.jsx("span",{children:e.name})}),!c&&te.jsxs("div",{className:"file-actions",children:[te.jsx(wd,{size:15,onClick:R=>{R.preventDefault(),R.stopPropagation(),d(e.path),p(!0)}}),te.jsx(vv,{size:15,onClick:R=>{R.preventDefault(),R.stopPropagation(),confirm("File will be permanently deleted. Click cancel to abort.")&&a?.emit("deleteFile",{pathToFileFolder:e.path})}})]})]}),t[e.name]&&e.children&&h.map(R=>te.jsx("div",{className:"tree-children",children:te.jsx(wu,{fileFolderData:R})},R.name))]})}function _v({x:e,y:t,path:r}){const{editorSocket:i}=lr(),{setIsOpen:n,setEditMode:h,isFolder:f,setAction:s}=Pi(),o=()=>{f?confirm("Folder will be permanently deleted. Click cancel to abort.")&&i?.emit("deleteFolder",{pathToFileFolder:r}):confirm("File will be permanently deleted. Click cancel to abort.")&&i?.emit("deleteFile",{pathToFileFolder:r}),n(!1)},a=()=>{h(!0),n(!1),s(f?"renameFolder":"renameFile")},d=()=>{h(!0),n(!1),s("addFolder")},u=()=>{h(!0),n(!1),s("addFile")};return te.jsxs("div",{className:"context-menu",style:{left:e,top:t},onMouseLeave:()=>n(!1),children:[f&&te.jsxs("div",{children:[te.jsx("button",{onClick:d,children:"New Folder"}),te.jsx("button",{onClick:u,children:"New File"})]}),te.jsx("button",{onClick:a,children:f?"Rename Folder":"Rename File"}),te.jsx("button",{onClick:o,style:{color:"rgba(216, 65, 65, 1)",fontWeight:"600"},children:f?"Delete Folder":"Delete File"})]})}function bv(){const{treeStructure:e,setTreeStructure:t}=Ii(),{x:r,y:i,isOpen:n,path:h}=Pi();return O.useState(!1),O.useEffect(()=>{t()},[]),te.jsxs("div",{style:{width:"100%",maxWidth:"100%",height:"100%",backgroundColor:"#252526",borderRight:"1px solid #ddd",display:"flex",flexDirection:"column",overflowX:"hidden",position:"relative",top:0},children:[te.jsx("div",{style:{fontWeight:"bold",marginBottom:"5px",fontSize:"18px",textAlign:"Center",boxSizing:"border-box",backgroundColor:"#1e1e1e",borderBottom:"1px solid #ddd",height:"2em",lineHeight:"1em",display:"flex",alignItems:"center",justifyContent:"center",width:"105%"},children:"Explorer"}),e&&te.jsx(wu,{fileFolderData:e}),n&&r&&i&&te.jsx(_v,{x:r,y:i,path:h})]})}var Es={exports:{}},yc;function yv(){return yc||(yc=1,function(e,t){(function(r,i){e.exports=i()})(globalThis,()=>(()=>{var r={4567:function(f,s,o){var a=this&&this.__decorate||function(l,v,_,w){var E,C=arguments.length,y=C<3?v:w===null?w=Object.getOwnPropertyDescriptor(v,_):w;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")y=Reflect.decorate(l,v,_,w);else for(var x=l.length-1;x>=0;x--)(E=l[x])&&(y=(C<3?E(y):C>3?E(v,_,y):E(v,_))||y);return C>3&&y&&Object.defineProperty(v,_,y),y},d=this&&this.__param||function(l,v){return function(_,w){v(_,w,l)}};Object.defineProperty(s,"__esModule",{value:!0}),s.AccessibilityManager=void 0;const u=o(9042),g=o(9924),b=o(844),S=o(4725),m=o(2585),c=o(3656);let p=s.AccessibilityManager=class extends b.Disposable{constructor(l,v,_,w){super(),this._terminal=l,this._coreBrowserService=_,this._renderService=w,this._rowColumns=new WeakMap,this._liveRegionLineCount=0,this._charsToConsume=[],this._charsToAnnounce="",this._accessibilityContainer=this._coreBrowserService.mainDocument.createElement("div"),this._accessibilityContainer.classList.add("xterm-accessibility"),this._rowContainer=this._coreBrowserService.mainDocument.createElement("div"),this._rowContainer.setAttribute("role","list"),this._rowContainer.classList.add("xterm-accessibility-tree"),this._rowElements=[];for(let E=0;E<this._terminal.rows;E++)this._rowElements[E]=this._createAccessibilityTreeNode(),this._rowContainer.appendChild(this._rowElements[E]);if(this._topBoundaryFocusListener=E=>this._handleBoundaryFocus(E,0),this._bottomBoundaryFocusListener=E=>this._handleBoundaryFocus(E,1),this._rowElements[0].addEventListener("focus",this._topBoundaryFocusListener),this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._refreshRowsDimensions(),this._accessibilityContainer.appendChild(this._rowContainer),this._liveRegion=this._coreBrowserService.mainDocument.createElement("div"),this._liveRegion.classList.add("live-region"),this._liveRegion.setAttribute("aria-live","assertive"),this._accessibilityContainer.appendChild(this._liveRegion),this._liveRegionDebouncer=this.register(new g.TimeBasedDebouncer(this._renderRows.bind(this))),!this._terminal.element)throw new Error("Cannot enable accessibility before Terminal.open");this._terminal.element.insertAdjacentElement("afterbegin",this._accessibilityContainer),this.register(this._terminal.onResize(E=>this._handleResize(E.rows))),this.register(this._terminal.onRender(E=>this._refreshRows(E.start,E.end))),this.register(this._terminal.onScroll(()=>this._refreshRows())),this.register(this._terminal.onA11yChar(E=>this._handleChar(E))),this.register(this._terminal.onLineFeed(()=>this._handleChar(`
`))),this.register(this._terminal.onA11yTab(E=>this._handleTab(E))),this.register(this._terminal.onKey(E=>this._handleKey(E.key))),this.register(this._terminal.onBlur(()=>this._clearLiveRegion())),this.register(this._renderService.onDimensionsChange(()=>this._refreshRowsDimensions())),this.register((0,c.addDisposableDomListener)(document,"selectionchange",()=>this._handleSelectionChange())),this.register(this._coreBrowserService.onDprChange(()=>this._refreshRowsDimensions())),this._refreshRows(),this.register((0,b.toDisposable)(()=>{this._accessibilityContainer.remove(),this._rowElements.length=0}))}_handleTab(l){for(let v=0;v<l;v++)this._handleChar(" ")}_handleChar(l){this._liveRegionLineCount<21&&(this._charsToConsume.length>0?this._charsToConsume.shift()!==l&&(this._charsToAnnounce+=l):this._charsToAnnounce+=l,l===`
`&&(this._liveRegionLineCount++,this._liveRegionLineCount===21&&(this._liveRegion.textContent+=u.tooMuchOutput)))}_clearLiveRegion(){this._liveRegion.textContent="",this._liveRegionLineCount=0}_handleKey(l){this._clearLiveRegion(),new RegExp("\\p{Control}","u").test(l)||this._charsToConsume.push(l)}_refreshRows(l,v){this._liveRegionDebouncer.refresh(l,v,this._terminal.rows)}_renderRows(l,v){const _=this._terminal.buffer,w=_.lines.length.toString();for(let E=l;E<=v;E++){const C=_.lines.get(_.ydisp+E),y=[],x=C?.translateToString(!0,void 0,void 0,y)||"",R=(_.ydisp+E+1).toString(),M=this._rowElements[E];M&&(x.length===0?(M.innerText="",this._rowColumns.set(M,[0,1])):(M.textContent=x,this._rowColumns.set(M,y)),M.setAttribute("aria-posinset",R),M.setAttribute("aria-setsize",w))}this._announceCharacters()}_announceCharacters(){this._charsToAnnounce.length!==0&&(this._liveRegion.textContent+=this._charsToAnnounce,this._charsToAnnounce="")}_handleBoundaryFocus(l,v){const _=l.target,w=this._rowElements[v===0?1:this._rowElements.length-2];if(_.getAttribute("aria-posinset")===(v===0?"1":`${this._terminal.buffer.lines.length}`)||l.relatedTarget!==w)return;let E,C;if(v===0?(E=_,C=this._rowElements.pop(),this._rowContainer.removeChild(C)):(E=this._rowElements.shift(),C=_,this._rowContainer.removeChild(E)),E.removeEventListener("focus",this._topBoundaryFocusListener),C.removeEventListener("focus",this._bottomBoundaryFocusListener),v===0){const y=this._createAccessibilityTreeNode();this._rowElements.unshift(y),this._rowContainer.insertAdjacentElement("afterbegin",y)}else{const y=this._createAccessibilityTreeNode();this._rowElements.push(y),this._rowContainer.appendChild(y)}this._rowElements[0].addEventListener("focus",this._topBoundaryFocusListener),this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._terminal.scrollLines(v===0?-1:1),this._rowElements[v===0?1:this._rowElements.length-2].focus(),l.preventDefault(),l.stopImmediatePropagation()}_handleSelectionChange(){if(this._rowElements.length===0)return;const l=document.getSelection();if(!l)return;if(l.isCollapsed)return void(this._rowContainer.contains(l.anchorNode)&&this._terminal.clearSelection());if(!l.anchorNode||!l.focusNode)return void console.error("anchorNode and/or focusNode are null");let v={node:l.anchorNode,offset:l.anchorOffset},_={node:l.focusNode,offset:l.focusOffset};if((v.node.compareDocumentPosition(_.node)&Node.DOCUMENT_POSITION_PRECEDING||v.node===_.node&&v.offset>_.offset)&&([v,_]=[_,v]),v.node.compareDocumentPosition(this._rowElements[0])&(Node.DOCUMENT_POSITION_CONTAINED_BY|Node.DOCUMENT_POSITION_FOLLOWING)&&(v={node:this._rowElements[0].childNodes[0],offset:0}),!this._rowContainer.contains(v.node))return;const w=this._rowElements.slice(-1)[0];if(_.node.compareDocumentPosition(w)&(Node.DOCUMENT_POSITION_CONTAINED_BY|Node.DOCUMENT_POSITION_PRECEDING)&&(_={node:w,offset:w.textContent?.length??0}),!this._rowContainer.contains(_.node))return;const E=({node:x,offset:R})=>{const M=x instanceof Text?x.parentNode:x;let I=parseInt(M?.getAttribute("aria-posinset"),10)-1;if(isNaN(I))return console.warn("row is invalid. Race condition?"),null;const T=this._rowColumns.get(M);if(!T)return console.warn("columns is null. Race condition?"),null;let B=R<T.length?T[R]:T.slice(-1)[0]+1;return B>=this._terminal.cols&&(++I,B=0),{row:I,column:B}},C=E(v),y=E(_);if(C&&y){if(C.row>y.row||C.row===y.row&&C.column>=y.column)throw new Error("invalid range");this._terminal.select(C.column,C.row,(y.row-C.row)*this._terminal.cols-C.column+y.column)}}_handleResize(l){this._rowElements[this._rowElements.length-1].removeEventListener("focus",this._bottomBoundaryFocusListener);for(let v=this._rowContainer.children.length;v<this._terminal.rows;v++)this._rowElements[v]=this._createAccessibilityTreeNode(),this._rowContainer.appendChild(this._rowElements[v]);for(;this._rowElements.length>l;)this._rowContainer.removeChild(this._rowElements.pop());this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._refreshRowsDimensions()}_createAccessibilityTreeNode(){const l=this._coreBrowserService.mainDocument.createElement("div");return l.setAttribute("role","listitem"),l.tabIndex=-1,this._refreshRowDimensions(l),l}_refreshRowsDimensions(){if(this._renderService.dimensions.css.cell.height){this._accessibilityContainer.style.width=`${this._renderService.dimensions.css.canvas.width}px`,this._rowElements.length!==this._terminal.rows&&this._handleResize(this._terminal.rows);for(let l=0;l<this._terminal.rows;l++)this._refreshRowDimensions(this._rowElements[l])}}_refreshRowDimensions(l){l.style.height=`${this._renderService.dimensions.css.cell.height}px`}};s.AccessibilityManager=p=a([d(1,m.IInstantiationService),d(2,S.ICoreBrowserService),d(3,S.IRenderService)],p)},3614:(f,s)=>{function o(g){return g.replace(/\r?\n/g,"\r")}function a(g,b){return b?"\x1B[200~"+g+"\x1B[201~":g}function d(g,b,S,m){g=a(g=o(g),S.decPrivateModes.bracketedPasteMode&&m.rawOptions.ignoreBracketedPasteMode!==!0),S.triggerDataEvent(g,!0),b.value=""}function u(g,b,S){const m=S.getBoundingClientRect(),c=g.clientX-m.left-10,p=g.clientY-m.top-10;b.style.width="20px",b.style.height="20px",b.style.left=`${c}px`,b.style.top=`${p}px`,b.style.zIndex="1000",b.focus()}Object.defineProperty(s,"__esModule",{value:!0}),s.rightClickHandler=s.moveTextAreaUnderMouseCursor=s.paste=s.handlePasteEvent=s.copyHandler=s.bracketTextForPaste=s.prepareTextForTerminal=void 0,s.prepareTextForTerminal=o,s.bracketTextForPaste=a,s.copyHandler=function(g,b){g.clipboardData&&g.clipboardData.setData("text/plain",b.selectionText),g.preventDefault()},s.handlePasteEvent=function(g,b,S,m){g.stopPropagation(),g.clipboardData&&d(g.clipboardData.getData("text/plain"),b,S,m)},s.paste=d,s.moveTextAreaUnderMouseCursor=u,s.rightClickHandler=function(g,b,S,m,c){u(g,b,S),c&&m.rightClickSelect(g),b.value=m.selectionText,b.select()}},7239:(f,s,o)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.ColorContrastCache=void 0;const a=o(1505);s.ColorContrastCache=class{constructor(){this._color=new a.TwoKeyMap,this._css=new a.TwoKeyMap}setCss(d,u,g){this._css.set(d,u,g)}getCss(d,u){return this._css.get(d,u)}setColor(d,u,g){this._color.set(d,u,g)}getColor(d,u){return this._color.get(d,u)}clear(){this._color.clear(),this._css.clear()}}},3656:(f,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.addDisposableDomListener=void 0,s.addDisposableDomListener=function(o,a,d,u){o.addEventListener(a,d,u);let g=!1;return{dispose:()=>{g||(g=!0,o.removeEventListener(a,d,u))}}}},3551:function(f,s,o){var a=this&&this.__decorate||function(p,l,v,_){var w,E=arguments.length,C=E<3?l:_===null?_=Object.getOwnPropertyDescriptor(l,v):_;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")C=Reflect.decorate(p,l,v,_);else for(var y=p.length-1;y>=0;y--)(w=p[y])&&(C=(E<3?w(C):E>3?w(l,v,C):w(l,v))||C);return E>3&&C&&Object.defineProperty(l,v,C),C},d=this&&this.__param||function(p,l){return function(v,_){l(v,_,p)}};Object.defineProperty(s,"__esModule",{value:!0}),s.Linkifier=void 0;const u=o(3656),g=o(8460),b=o(844),S=o(2585),m=o(4725);let c=s.Linkifier=class extends b.Disposable{get currentLink(){return this._currentLink}constructor(p,l,v,_,w){super(),this._element=p,this._mouseService=l,this._renderService=v,this._bufferService=_,this._linkProviderService=w,this._linkCacheDisposables=[],this._isMouseOut=!0,this._wasResized=!1,this._activeLine=-1,this._onShowLinkUnderline=this.register(new g.EventEmitter),this.onShowLinkUnderline=this._onShowLinkUnderline.event,this._onHideLinkUnderline=this.register(new g.EventEmitter),this.onHideLinkUnderline=this._onHideLinkUnderline.event,this.register((0,b.getDisposeArrayDisposable)(this._linkCacheDisposables)),this.register((0,b.toDisposable)(()=>{this._lastMouseEvent=void 0,this._activeProviderReplies?.clear()})),this.register(this._bufferService.onResize(()=>{this._clearCurrentLink(),this._wasResized=!0})),this.register((0,u.addDisposableDomListener)(this._element,"mouseleave",()=>{this._isMouseOut=!0,this._clearCurrentLink()})),this.register((0,u.addDisposableDomListener)(this._element,"mousemove",this._handleMouseMove.bind(this))),this.register((0,u.addDisposableDomListener)(this._element,"mousedown",this._handleMouseDown.bind(this))),this.register((0,u.addDisposableDomListener)(this._element,"mouseup",this._handleMouseUp.bind(this)))}_handleMouseMove(p){this._lastMouseEvent=p;const l=this._positionFromMouseEvent(p,this._element,this._mouseService);if(!l)return;this._isMouseOut=!1;const v=p.composedPath();for(let _=0;_<v.length;_++){const w=v[_];if(w.classList.contains("xterm"))break;if(w.classList.contains("xterm-hover"))return}this._lastBufferCell&&l.x===this._lastBufferCell.x&&l.y===this._lastBufferCell.y||(this._handleHover(l),this._lastBufferCell=l)}_handleHover(p){if(this._activeLine!==p.y||this._wasResized)return this._clearCurrentLink(),this._askForLink(p,!1),void(this._wasResized=!1);this._currentLink&&this._linkAtPosition(this._currentLink.link,p)||(this._clearCurrentLink(),this._askForLink(p,!0))}_askForLink(p,l){this._activeProviderReplies&&l||(this._activeProviderReplies?.forEach(_=>{_?.forEach(w=>{w.link.dispose&&w.link.dispose()})}),this._activeProviderReplies=new Map,this._activeLine=p.y);let v=!1;for(const[_,w]of this._linkProviderService.linkProviders.entries())l?this._activeProviderReplies?.get(_)&&(v=this._checkLinkProviderResult(_,p,v)):w.provideLinks(p.y,E=>{if(this._isMouseOut)return;const C=E?.map(y=>({link:y}));this._activeProviderReplies?.set(_,C),v=this._checkLinkProviderResult(_,p,v),this._activeProviderReplies?.size===this._linkProviderService.linkProviders.length&&this._removeIntersectingLinks(p.y,this._activeProviderReplies)})}_removeIntersectingLinks(p,l){const v=new Set;for(let _=0;_<l.size;_++){const w=l.get(_);if(w)for(let E=0;E<w.length;E++){const C=w[E],y=C.link.range.start.y<p?0:C.link.range.start.x,x=C.link.range.end.y>p?this._bufferService.cols:C.link.range.end.x;for(let R=y;R<=x;R++){if(v.has(R)){w.splice(E--,1);break}v.add(R)}}}}_checkLinkProviderResult(p,l,v){if(!this._activeProviderReplies)return v;const _=this._activeProviderReplies.get(p);let w=!1;for(let E=0;E<p;E++)this._activeProviderReplies.has(E)&&!this._activeProviderReplies.get(E)||(w=!0);if(!w&&_){const E=_.find(C=>this._linkAtPosition(C.link,l));E&&(v=!0,this._handleNewLink(E))}if(this._activeProviderReplies.size===this._linkProviderService.linkProviders.length&&!v)for(let E=0;E<this._activeProviderReplies.size;E++){const C=this._activeProviderReplies.get(E)?.find(y=>this._linkAtPosition(y.link,l));if(C){v=!0,this._handleNewLink(C);break}}return v}_handleMouseDown(){this._mouseDownLink=this._currentLink}_handleMouseUp(p){if(!this._currentLink)return;const l=this._positionFromMouseEvent(p,this._element,this._mouseService);l&&this._mouseDownLink===this._currentLink&&this._linkAtPosition(this._currentLink.link,l)&&this._currentLink.link.activate(p,this._currentLink.link.text)}_clearCurrentLink(p,l){this._currentLink&&this._lastMouseEvent&&(!p||!l||this._currentLink.link.range.start.y>=p&&this._currentLink.link.range.end.y<=l)&&(this._linkLeave(this._element,this._currentLink.link,this._lastMouseEvent),this._currentLink=void 0,(0,b.disposeArray)(this._linkCacheDisposables))}_handleNewLink(p){if(!this._lastMouseEvent)return;const l=this._positionFromMouseEvent(this._lastMouseEvent,this._element,this._mouseService);l&&this._linkAtPosition(p.link,l)&&(this._currentLink=p,this._currentLink.state={decorations:{underline:p.link.decorations===void 0||p.link.decorations.underline,pointerCursor:p.link.decorations===void 0||p.link.decorations.pointerCursor},isHovered:!0},this._linkHover(this._element,p.link,this._lastMouseEvent),p.link.decorations={},Object.defineProperties(p.link.decorations,{pointerCursor:{get:()=>this._currentLink?.state?.decorations.pointerCursor,set:v=>{this._currentLink?.state&&this._currentLink.state.decorations.pointerCursor!==v&&(this._currentLink.state.decorations.pointerCursor=v,this._currentLink.state.isHovered&&this._element.classList.toggle("xterm-cursor-pointer",v))}},underline:{get:()=>this._currentLink?.state?.decorations.underline,set:v=>{this._currentLink?.state&&this._currentLink?.state?.decorations.underline!==v&&(this._currentLink.state.decorations.underline=v,this._currentLink.state.isHovered&&this._fireUnderlineEvent(p.link,v))}}}),this._linkCacheDisposables.push(this._renderService.onRenderedViewportChange(v=>{if(!this._currentLink)return;const _=v.start===0?0:v.start+1+this._bufferService.buffer.ydisp,w=this._bufferService.buffer.ydisp+1+v.end;if(this._currentLink.link.range.start.y>=_&&this._currentLink.link.range.end.y<=w&&(this._clearCurrentLink(_,w),this._lastMouseEvent)){const E=this._positionFromMouseEvent(this._lastMouseEvent,this._element,this._mouseService);E&&this._askForLink(E,!1)}})))}_linkHover(p,l,v){this._currentLink?.state&&(this._currentLink.state.isHovered=!0,this._currentLink.state.decorations.underline&&this._fireUnderlineEvent(l,!0),this._currentLink.state.decorations.pointerCursor&&p.classList.add("xterm-cursor-pointer")),l.hover&&l.hover(v,l.text)}_fireUnderlineEvent(p,l){const v=p.range,_=this._bufferService.buffer.ydisp,w=this._createLinkUnderlineEvent(v.start.x-1,v.start.y-_-1,v.end.x,v.end.y-_-1,void 0);(l?this._onShowLinkUnderline:this._onHideLinkUnderline).fire(w)}_linkLeave(p,l,v){this._currentLink?.state&&(this._currentLink.state.isHovered=!1,this._currentLink.state.decorations.underline&&this._fireUnderlineEvent(l,!1),this._currentLink.state.decorations.pointerCursor&&p.classList.remove("xterm-cursor-pointer")),l.leave&&l.leave(v,l.text)}_linkAtPosition(p,l){const v=p.range.start.y*this._bufferService.cols+p.range.start.x,_=p.range.end.y*this._bufferService.cols+p.range.end.x,w=l.y*this._bufferService.cols+l.x;return v<=w&&w<=_}_positionFromMouseEvent(p,l,v){const _=v.getCoords(p,l,this._bufferService.cols,this._bufferService.rows);if(_)return{x:_[0],y:_[1]+this._bufferService.buffer.ydisp}}_createLinkUnderlineEvent(p,l,v,_,w){return{x1:p,y1:l,x2:v,y2:_,cols:this._bufferService.cols,fg:w}}};s.Linkifier=c=a([d(1,m.IMouseService),d(2,m.IRenderService),d(3,S.IBufferService),d(4,m.ILinkProviderService)],c)},9042:(f,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.tooMuchOutput=s.promptLabel=void 0,s.promptLabel="Terminal input",s.tooMuchOutput="Too much output to announce, navigate to rows manually to read"},3730:function(f,s,o){var a=this&&this.__decorate||function(m,c,p,l){var v,_=arguments.length,w=_<3?c:l===null?l=Object.getOwnPropertyDescriptor(c,p):l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")w=Reflect.decorate(m,c,p,l);else for(var E=m.length-1;E>=0;E--)(v=m[E])&&(w=(_<3?v(w):_>3?v(c,p,w):v(c,p))||w);return _>3&&w&&Object.defineProperty(c,p,w),w},d=this&&this.__param||function(m,c){return function(p,l){c(p,l,m)}};Object.defineProperty(s,"__esModule",{value:!0}),s.OscLinkProvider=void 0;const u=o(511),g=o(2585);let b=s.OscLinkProvider=class{constructor(m,c,p){this._bufferService=m,this._optionsService=c,this._oscLinkService=p}provideLinks(m,c){const p=this._bufferService.buffer.lines.get(m-1);if(!p)return void c(void 0);const l=[],v=this._optionsService.rawOptions.linkHandler,_=new u.CellData,w=p.getTrimmedLength();let E=-1,C=-1,y=!1;for(let x=0;x<w;x++)if(C!==-1||p.hasContent(x)){if(p.loadCell(x,_),_.hasExtendedAttrs()&&_.extended.urlId){if(C===-1){C=x,E=_.extended.urlId;continue}y=_.extended.urlId!==E}else C!==-1&&(y=!0);if(y||C!==-1&&x===w-1){const R=this._oscLinkService.getLinkData(E)?.uri;if(R){const M={start:{x:C+1,y:m},end:{x:x+(y||x!==w-1?0:1),y:m}};let I=!1;if(!v?.allowNonHttpProtocols)try{const T=new URL(R);["http:","https:"].includes(T.protocol)||(I=!0)}catch{I=!0}I||l.push({text:R,range:M,activate:(T,B)=>v?v.activate(T,B,M):S(0,B),hover:(T,B)=>v?.hover?.(T,B,M),leave:(T,B)=>v?.leave?.(T,B,M)})}y=!1,_.hasExtendedAttrs()&&_.extended.urlId?(C=x,E=_.extended.urlId):(C=-1,E=-1)}}c(l)}};function S(m,c){if(confirm(`Do you want to navigate to ${c}?

WARNING: This link could potentially be dangerous`)){const p=window.open();if(p){try{p.opener=null}catch{}p.location.href=c}else console.warn("Opening link blocked as opener could not be cleared")}}s.OscLinkProvider=b=a([d(0,g.IBufferService),d(1,g.IOptionsService),d(2,g.IOscLinkService)],b)},6193:(f,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.RenderDebouncer=void 0,s.RenderDebouncer=class{constructor(o,a){this._renderCallback=o,this._coreBrowserService=a,this._refreshCallbacks=[]}dispose(){this._animationFrame&&(this._coreBrowserService.window.cancelAnimationFrame(this._animationFrame),this._animationFrame=void 0)}addRefreshCallback(o){return this._refreshCallbacks.push(o),this._animationFrame||(this._animationFrame=this._coreBrowserService.window.requestAnimationFrame(()=>this._innerRefresh())),this._animationFrame}refresh(o,a,d){this._rowCount=d,o=o!==void 0?o:0,a=a!==void 0?a:this._rowCount-1,this._rowStart=this._rowStart!==void 0?Math.min(this._rowStart,o):o,this._rowEnd=this._rowEnd!==void 0?Math.max(this._rowEnd,a):a,this._animationFrame||(this._animationFrame=this._coreBrowserService.window.requestAnimationFrame(()=>this._innerRefresh()))}_innerRefresh(){if(this._animationFrame=void 0,this._rowStart===void 0||this._rowEnd===void 0||this._rowCount===void 0)return void this._runRefreshCallbacks();const o=Math.max(this._rowStart,0),a=Math.min(this._rowEnd,this._rowCount-1);this._rowStart=void 0,this._rowEnd=void 0,this._renderCallback(o,a),this._runRefreshCallbacks()}_runRefreshCallbacks(){for(const o of this._refreshCallbacks)o(0);this._refreshCallbacks=[]}}},3236:(f,s,o)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.Terminal=void 0;const a=o(3614),d=o(3656),u=o(3551),g=o(9042),b=o(3730),S=o(1680),m=o(3107),c=o(5744),p=o(2950),l=o(1296),v=o(428),_=o(4269),w=o(5114),E=o(8934),C=o(3230),y=o(9312),x=o(4725),R=o(6731),M=o(8055),I=o(8969),T=o(8460),B=o(844),$=o(6114),F=o(8437),z=o(2584),U=o(7399),A=o(5941),k=o(9074),P=o(2585),D=o(5435),V=o(4567),j=o(779);class K extends I.CoreTerminal{get onFocus(){return this._onFocus.event}get onBlur(){return this._onBlur.event}get onA11yChar(){return this._onA11yCharEmitter.event}get onA11yTab(){return this._onA11yTabEmitter.event}get onWillOpen(){return this._onWillOpen.event}constructor(H={}){super(H),this.browser=$,this._keyDownHandled=!1,this._keyDownSeen=!1,this._keyPressHandled=!1,this._unprocessedDeadKey=!1,this._accessibilityManager=this.register(new B.MutableDisposable),this._onCursorMove=this.register(new T.EventEmitter),this.onCursorMove=this._onCursorMove.event,this._onKey=this.register(new T.EventEmitter),this.onKey=this._onKey.event,this._onRender=this.register(new T.EventEmitter),this.onRender=this._onRender.event,this._onSelectionChange=this.register(new T.EventEmitter),this.onSelectionChange=this._onSelectionChange.event,this._onTitleChange=this.register(new T.EventEmitter),this.onTitleChange=this._onTitleChange.event,this._onBell=this.register(new T.EventEmitter),this.onBell=this._onBell.event,this._onFocus=this.register(new T.EventEmitter),this._onBlur=this.register(new T.EventEmitter),this._onA11yCharEmitter=this.register(new T.EventEmitter),this._onA11yTabEmitter=this.register(new T.EventEmitter),this._onWillOpen=this.register(new T.EventEmitter),this._setup(),this._decorationService=this._instantiationService.createInstance(k.DecorationService),this._instantiationService.setService(P.IDecorationService,this._decorationService),this._linkProviderService=this._instantiationService.createInstance(j.LinkProviderService),this._instantiationService.setService(x.ILinkProviderService,this._linkProviderService),this._linkProviderService.registerLinkProvider(this._instantiationService.createInstance(b.OscLinkProvider)),this.register(this._inputHandler.onRequestBell(()=>this._onBell.fire())),this.register(this._inputHandler.onRequestRefreshRows((L,W)=>this.refresh(L,W))),this.register(this._inputHandler.onRequestSendFocus(()=>this._reportFocus())),this.register(this._inputHandler.onRequestReset(()=>this.reset())),this.register(this._inputHandler.onRequestWindowsOptionsReport(L=>this._reportWindowsOptions(L))),this.register(this._inputHandler.onColor(L=>this._handleColorEvent(L))),this.register((0,T.forwardEvent)(this._inputHandler.onCursorMove,this._onCursorMove)),this.register((0,T.forwardEvent)(this._inputHandler.onTitleChange,this._onTitleChange)),this.register((0,T.forwardEvent)(this._inputHandler.onA11yChar,this._onA11yCharEmitter)),this.register((0,T.forwardEvent)(this._inputHandler.onA11yTab,this._onA11yTabEmitter)),this.register(this._bufferService.onResize(L=>this._afterResize(L.cols,L.rows))),this.register((0,B.toDisposable)(()=>{this._customKeyEventHandler=void 0,this.element?.parentNode?.removeChild(this.element)}))}_handleColorEvent(H){if(this._themeService)for(const L of H){let W,G="";switch(L.index){case 256:W="foreground",G="10";break;case 257:W="background",G="11";break;case 258:W="cursor",G="12";break;default:W="ansi",G="4;"+L.index}switch(L.type){case 0:const Z=M.color.toColorRGB(W==="ansi"?this._themeService.colors.ansi[L.index]:this._themeService.colors[W]);this.coreService.triggerDataEvent(`${z.C0.ESC}]${G};${(0,A.toRgbString)(Z)}${z.C1_ESCAPED.ST}`);break;case 1:if(W==="ansi")this._themeService.modifyColors(Q=>Q.ansi[L.index]=M.channels.toColor(...L.color));else{const Q=W;this._themeService.modifyColors(se=>se[Q]=M.channels.toColor(...L.color))}break;case 2:this._themeService.restoreColor(L.index)}}}_setup(){super._setup(),this._customKeyEventHandler=void 0}get buffer(){return this.buffers.active}focus(){this.textarea&&this.textarea.focus({preventScroll:!0})}_handleScreenReaderModeOptionChange(H){H?!this._accessibilityManager.value&&this._renderService&&(this._accessibilityManager.value=this._instantiationService.createInstance(V.AccessibilityManager,this)):this._accessibilityManager.clear()}_handleTextAreaFocus(H){this.coreService.decPrivateModes.sendFocus&&this.coreService.triggerDataEvent(z.C0.ESC+"[I"),this.element.classList.add("focus"),this._showCursor(),this._onFocus.fire()}blur(){return this.textarea?.blur()}_handleTextAreaBlur(){this.textarea.value="",this.refresh(this.buffer.y,this.buffer.y),this.coreService.decPrivateModes.sendFocus&&this.coreService.triggerDataEvent(z.C0.ESC+"[O"),this.element.classList.remove("focus"),this._onBlur.fire()}_syncTextArea(){if(!this.textarea||!this.buffer.isCursorInViewport||this._compositionHelper.isComposing||!this._renderService)return;const H=this.buffer.ybase+this.buffer.y,L=this.buffer.lines.get(H);if(!L)return;const W=Math.min(this.buffer.x,this.cols-1),G=this._renderService.dimensions.css.cell.height,Z=L.getWidth(W),Q=this._renderService.dimensions.css.cell.width*Z,se=this.buffer.y*this._renderService.dimensions.css.cell.height,fe=W*this._renderService.dimensions.css.cell.width;this.textarea.style.left=fe+"px",this.textarea.style.top=se+"px",this.textarea.style.width=Q+"px",this.textarea.style.height=G+"px",this.textarea.style.lineHeight=G+"px",this.textarea.style.zIndex="-5"}_initGlobal(){this._bindKeys(),this.register((0,d.addDisposableDomListener)(this.element,"copy",L=>{this.hasSelection()&&(0,a.copyHandler)(L,this._selectionService)}));const H=L=>(0,a.handlePasteEvent)(L,this.textarea,this.coreService,this.optionsService);this.register((0,d.addDisposableDomListener)(this.textarea,"paste",H)),this.register((0,d.addDisposableDomListener)(this.element,"paste",H)),$.isFirefox?this.register((0,d.addDisposableDomListener)(this.element,"mousedown",L=>{L.button===2&&(0,a.rightClickHandler)(L,this.textarea,this.screenElement,this._selectionService,this.options.rightClickSelectsWord)})):this.register((0,d.addDisposableDomListener)(this.element,"contextmenu",L=>{(0,a.rightClickHandler)(L,this.textarea,this.screenElement,this._selectionService,this.options.rightClickSelectsWord)})),$.isLinux&&this.register((0,d.addDisposableDomListener)(this.element,"auxclick",L=>{L.button===1&&(0,a.moveTextAreaUnderMouseCursor)(L,this.textarea,this.screenElement)}))}_bindKeys(){this.register((0,d.addDisposableDomListener)(this.textarea,"keyup",H=>this._keyUp(H),!0)),this.register((0,d.addDisposableDomListener)(this.textarea,"keydown",H=>this._keyDown(H),!0)),this.register((0,d.addDisposableDomListener)(this.textarea,"keypress",H=>this._keyPress(H),!0)),this.register((0,d.addDisposableDomListener)(this.textarea,"compositionstart",()=>this._compositionHelper.compositionstart())),this.register((0,d.addDisposableDomListener)(this.textarea,"compositionupdate",H=>this._compositionHelper.compositionupdate(H))),this.register((0,d.addDisposableDomListener)(this.textarea,"compositionend",()=>this._compositionHelper.compositionend())),this.register((0,d.addDisposableDomListener)(this.textarea,"input",H=>this._inputEvent(H),!0)),this.register(this.onRender(()=>this._compositionHelper.updateCompositionElements()))}open(H){if(!H)throw new Error("Terminal requires a parent element.");if(H.isConnected||this._logService.debug("Terminal.open was called on an element that was not attached to the DOM"),this.element?.ownerDocument.defaultView&&this._coreBrowserService)return void(this.element.ownerDocument.defaultView!==this._coreBrowserService.window&&(this._coreBrowserService.window=this.element.ownerDocument.defaultView));this._document=H.ownerDocument,this.options.documentOverride&&this.options.documentOverride instanceof Document&&(this._document=this.optionsService.rawOptions.documentOverride),this.element=this._document.createElement("div"),this.element.dir="ltr",this.element.classList.add("terminal"),this.element.classList.add("xterm"),H.appendChild(this.element);const L=this._document.createDocumentFragment();this._viewportElement=this._document.createElement("div"),this._viewportElement.classList.add("xterm-viewport"),L.appendChild(this._viewportElement),this._viewportScrollArea=this._document.createElement("div"),this._viewportScrollArea.classList.add("xterm-scroll-area"),this._viewportElement.appendChild(this._viewportScrollArea),this.screenElement=this._document.createElement("div"),this.screenElement.classList.add("xterm-screen"),this.register((0,d.addDisposableDomListener)(this.screenElement,"mousemove",W=>this.updateCursorStyle(W))),this._helperContainer=this._document.createElement("div"),this._helperContainer.classList.add("xterm-helpers"),this.screenElement.appendChild(this._helperContainer),L.appendChild(this.screenElement),this.textarea=this._document.createElement("textarea"),this.textarea.classList.add("xterm-helper-textarea"),this.textarea.setAttribute("aria-label",g.promptLabel),$.isChromeOS||this.textarea.setAttribute("aria-multiline","false"),this.textarea.setAttribute("autocorrect","off"),this.textarea.setAttribute("autocapitalize","off"),this.textarea.setAttribute("spellcheck","false"),this.textarea.tabIndex=0,this._coreBrowserService=this.register(this._instantiationService.createInstance(w.CoreBrowserService,this.textarea,H.ownerDocument.defaultView??window,this._document??typeof window<"u"?window.document:null)),this._instantiationService.setService(x.ICoreBrowserService,this._coreBrowserService),this.register((0,d.addDisposableDomListener)(this.textarea,"focus",W=>this._handleTextAreaFocus(W))),this.register((0,d.addDisposableDomListener)(this.textarea,"blur",()=>this._handleTextAreaBlur())),this._helperContainer.appendChild(this.textarea),this._charSizeService=this._instantiationService.createInstance(v.CharSizeService,this._document,this._helperContainer),this._instantiationService.setService(x.ICharSizeService,this._charSizeService),this._themeService=this._instantiationService.createInstance(R.ThemeService),this._instantiationService.setService(x.IThemeService,this._themeService),this._characterJoinerService=this._instantiationService.createInstance(_.CharacterJoinerService),this._instantiationService.setService(x.ICharacterJoinerService,this._characterJoinerService),this._renderService=this.register(this._instantiationService.createInstance(C.RenderService,this.rows,this.screenElement)),this._instantiationService.setService(x.IRenderService,this._renderService),this.register(this._renderService.onRenderedViewportChange(W=>this._onRender.fire(W))),this.onResize(W=>this._renderService.resize(W.cols,W.rows)),this._compositionView=this._document.createElement("div"),this._compositionView.classList.add("composition-view"),this._compositionHelper=this._instantiationService.createInstance(p.CompositionHelper,this.textarea,this._compositionView),this._helperContainer.appendChild(this._compositionView),this._mouseService=this._instantiationService.createInstance(E.MouseService),this._instantiationService.setService(x.IMouseService,this._mouseService),this.linkifier=this.register(this._instantiationService.createInstance(u.Linkifier,this.screenElement)),this.element.appendChild(L);try{this._onWillOpen.fire(this.element)}catch{}this._renderService.hasRenderer()||this._renderService.setRenderer(this._createRenderer()),this.viewport=this._instantiationService.createInstance(S.Viewport,this._viewportElement,this._viewportScrollArea),this.viewport.onRequestScrollLines(W=>this.scrollLines(W.amount,W.suppressScrollEvent,1)),this.register(this._inputHandler.onRequestSyncScrollBar(()=>this.viewport.syncScrollArea())),this.register(this.viewport),this.register(this.onCursorMove(()=>{this._renderService.handleCursorMove(),this._syncTextArea()})),this.register(this.onResize(()=>this._renderService.handleResize(this.cols,this.rows))),this.register(this.onBlur(()=>this._renderService.handleBlur())),this.register(this.onFocus(()=>this._renderService.handleFocus())),this.register(this._renderService.onDimensionsChange(()=>this.viewport.syncScrollArea())),this._selectionService=this.register(this._instantiationService.createInstance(y.SelectionService,this.element,this.screenElement,this.linkifier)),this._instantiationService.setService(x.ISelectionService,this._selectionService),this.register(this._selectionService.onRequestScrollLines(W=>this.scrollLines(W.amount,W.suppressScrollEvent))),this.register(this._selectionService.onSelectionChange(()=>this._onSelectionChange.fire())),this.register(this._selectionService.onRequestRedraw(W=>this._renderService.handleSelectionChanged(W.start,W.end,W.columnSelectMode))),this.register(this._selectionService.onLinuxMouseSelection(W=>{this.textarea.value=W,this.textarea.focus(),this.textarea.select()})),this.register(this._onScroll.event(W=>{this.viewport.syncScrollArea(),this._selectionService.refresh()})),this.register((0,d.addDisposableDomListener)(this._viewportElement,"scroll",()=>this._selectionService.refresh())),this.register(this._instantiationService.createInstance(m.BufferDecorationRenderer,this.screenElement)),this.register((0,d.addDisposableDomListener)(this.element,"mousedown",W=>this._selectionService.handleMouseDown(W))),this.coreMouseService.areMouseEventsActive?(this._selectionService.disable(),this.element.classList.add("enable-mouse-events")):this._selectionService.enable(),this.options.screenReaderMode&&(this._accessibilityManager.value=this._instantiationService.createInstance(V.AccessibilityManager,this)),this.register(this.optionsService.onSpecificOptionChange("screenReaderMode",W=>this._handleScreenReaderModeOptionChange(W))),this.options.overviewRulerWidth&&(this._overviewRulerRenderer=this.register(this._instantiationService.createInstance(c.OverviewRulerRenderer,this._viewportElement,this.screenElement))),this.optionsService.onSpecificOptionChange("overviewRulerWidth",W=>{!this._overviewRulerRenderer&&W&&this._viewportElement&&this.screenElement&&(this._overviewRulerRenderer=this.register(this._instantiationService.createInstance(c.OverviewRulerRenderer,this._viewportElement,this.screenElement)))}),this._charSizeService.measure(),this.refresh(0,this.rows-1),this._initGlobal(),this.bindMouse()}_createRenderer(){return this._instantiationService.createInstance(l.DomRenderer,this,this._document,this.element,this.screenElement,this._viewportElement,this._helperContainer,this.linkifier)}bindMouse(){const H=this,L=this.element;function W(Q){const se=H._mouseService.getMouseReportCoords(Q,H.screenElement);if(!se)return!1;let fe,de;switch(Q.overrideType||Q.type){case"mousemove":de=32,Q.buttons===void 0?(fe=3,Q.button!==void 0&&(fe=Q.button<3?Q.button:3)):fe=1&Q.buttons?0:4&Q.buttons?1:2&Q.buttons?2:3;break;case"mouseup":de=0,fe=Q.button<3?Q.button:3;break;case"mousedown":de=1,fe=Q.button<3?Q.button:3;break;case"wheel":if(H._customWheelEventHandler&&H._customWheelEventHandler(Q)===!1||H.viewport.getLinesScrolled(Q)===0)return!1;de=Q.deltaY<0?0:1,fe=4;break;default:return!1}return!(de===void 0||fe===void 0||fe>4)&&H.coreMouseService.triggerMouseEvent({col:se.col,row:se.row,x:se.x,y:se.y,button:fe,action:de,ctrl:Q.ctrlKey,alt:Q.altKey,shift:Q.shiftKey})}const G={mouseup:null,wheel:null,mousedrag:null,mousemove:null},Z={mouseup:Q=>(W(Q),Q.buttons||(this._document.removeEventListener("mouseup",G.mouseup),G.mousedrag&&this._document.removeEventListener("mousemove",G.mousedrag)),this.cancel(Q)),wheel:Q=>(W(Q),this.cancel(Q,!0)),mousedrag:Q=>{Q.buttons&&W(Q)},mousemove:Q=>{Q.buttons||W(Q)}};this.register(this.coreMouseService.onProtocolChange(Q=>{Q?(this.optionsService.rawOptions.logLevel==="debug"&&this._logService.debug("Binding to mouse events:",this.coreMouseService.explainEvents(Q)),this.element.classList.add("enable-mouse-events"),this._selectionService.disable()):(this._logService.debug("Unbinding from mouse events."),this.element.classList.remove("enable-mouse-events"),this._selectionService.enable()),8&Q?G.mousemove||(L.addEventListener("mousemove",Z.mousemove),G.mousemove=Z.mousemove):(L.removeEventListener("mousemove",G.mousemove),G.mousemove=null),16&Q?G.wheel||(L.addEventListener("wheel",Z.wheel,{passive:!1}),G.wheel=Z.wheel):(L.removeEventListener("wheel",G.wheel),G.wheel=null),2&Q?G.mouseup||(G.mouseup=Z.mouseup):(this._document.removeEventListener("mouseup",G.mouseup),G.mouseup=null),4&Q?G.mousedrag||(G.mousedrag=Z.mousedrag):(this._document.removeEventListener("mousemove",G.mousedrag),G.mousedrag=null)})),this.coreMouseService.activeProtocol=this.coreMouseService.activeProtocol,this.register((0,d.addDisposableDomListener)(L,"mousedown",Q=>{if(Q.preventDefault(),this.focus(),this.coreMouseService.areMouseEventsActive&&!this._selectionService.shouldForceSelection(Q))return W(Q),G.mouseup&&this._document.addEventListener("mouseup",G.mouseup),G.mousedrag&&this._document.addEventListener("mousemove",G.mousedrag),this.cancel(Q)})),this.register((0,d.addDisposableDomListener)(L,"wheel",Q=>{if(!G.wheel){if(this._customWheelEventHandler&&this._customWheelEventHandler(Q)===!1)return!1;if(!this.buffer.hasScrollback){const se=this.viewport.getLinesScrolled(Q);if(se===0)return;const fe=z.C0.ESC+(this.coreService.decPrivateModes.applicationCursorKeys?"O":"[")+(Q.deltaY<0?"A":"B");let de="";for(let oe=0;oe<Math.abs(se);oe++)de+=fe;return this.coreService.triggerDataEvent(de,!0),this.cancel(Q,!0)}return this.viewport.handleWheel(Q)?this.cancel(Q):void 0}},{passive:!1})),this.register((0,d.addDisposableDomListener)(L,"touchstart",Q=>{if(!this.coreMouseService.areMouseEventsActive)return this.viewport.handleTouchStart(Q),this.cancel(Q)},{passive:!0})),this.register((0,d.addDisposableDomListener)(L,"touchmove",Q=>{if(!this.coreMouseService.areMouseEventsActive)return this.viewport.handleTouchMove(Q)?void 0:this.cancel(Q)},{passive:!1}))}refresh(H,L){this._renderService?.refreshRows(H,L)}updateCursorStyle(H){this._selectionService?.shouldColumnSelect(H)?this.element.classList.add("column-select"):this.element.classList.remove("column-select")}_showCursor(){this.coreService.isCursorInitialized||(this.coreService.isCursorInitialized=!0,this.refresh(this.buffer.y,this.buffer.y))}scrollLines(H,L,W=0){W===1?(super.scrollLines(H,L,W),this.refresh(0,this.rows-1)):this.viewport?.scrollLines(H)}paste(H){(0,a.paste)(H,this.textarea,this.coreService,this.optionsService)}attachCustomKeyEventHandler(H){this._customKeyEventHandler=H}attachCustomWheelEventHandler(H){this._customWheelEventHandler=H}registerLinkProvider(H){return this._linkProviderService.registerLinkProvider(H)}registerCharacterJoiner(H){if(!this._characterJoinerService)throw new Error("Terminal must be opened first");const L=this._characterJoinerService.register(H);return this.refresh(0,this.rows-1),L}deregisterCharacterJoiner(H){if(!this._characterJoinerService)throw new Error("Terminal must be opened first");this._characterJoinerService.deregister(H)&&this.refresh(0,this.rows-1)}get markers(){return this.buffer.markers}registerMarker(H){return this.buffer.addMarker(this.buffer.ybase+this.buffer.y+H)}registerDecoration(H){return this._decorationService.registerDecoration(H)}hasSelection(){return!!this._selectionService&&this._selectionService.hasSelection}select(H,L,W){this._selectionService.setSelection(H,L,W)}getSelection(){return this._selectionService?this._selectionService.selectionText:""}getSelectionPosition(){if(this._selectionService&&this._selectionService.hasSelection)return{start:{x:this._selectionService.selectionStart[0],y:this._selectionService.selectionStart[1]},end:{x:this._selectionService.selectionEnd[0],y:this._selectionService.selectionEnd[1]}}}clearSelection(){this._selectionService?.clearSelection()}selectAll(){this._selectionService?.selectAll()}selectLines(H,L){this._selectionService?.selectLines(H,L)}_keyDown(H){if(this._keyDownHandled=!1,this._keyDownSeen=!0,this._customKeyEventHandler&&this._customKeyEventHandler(H)===!1)return!1;const L=this.browser.isMac&&this.options.macOptionIsMeta&&H.altKey;if(!L&&!this._compositionHelper.keydown(H))return this.options.scrollOnUserInput&&this.buffer.ybase!==this.buffer.ydisp&&this.scrollToBottom(),!1;L||H.key!=="Dead"&&H.key!=="AltGraph"||(this._unprocessedDeadKey=!0);const W=(0,U.evaluateKeyboardEvent)(H,this.coreService.decPrivateModes.applicationCursorKeys,this.browser.isMac,this.options.macOptionIsMeta);if(this.updateCursorStyle(H),W.type===3||W.type===2){const G=this.rows-1;return this.scrollLines(W.type===2?-G:G),this.cancel(H,!0)}return W.type===1&&this.selectAll(),!!this._isThirdLevelShift(this.browser,H)||(W.cancel&&this.cancel(H,!0),!W.key||!!(H.key&&!H.ctrlKey&&!H.altKey&&!H.metaKey&&H.key.length===1&&H.key.charCodeAt(0)>=65&&H.key.charCodeAt(0)<=90)||(this._unprocessedDeadKey?(this._unprocessedDeadKey=!1,!0):(W.key!==z.C0.ETX&&W.key!==z.C0.CR||(this.textarea.value=""),this._onKey.fire({key:W.key,domEvent:H}),this._showCursor(),this.coreService.triggerDataEvent(W.key,!0),!this.optionsService.rawOptions.screenReaderMode||H.altKey||H.ctrlKey?this.cancel(H,!0):void(this._keyDownHandled=!0))))}_isThirdLevelShift(H,L){const W=H.isMac&&!this.options.macOptionIsMeta&&L.altKey&&!L.ctrlKey&&!L.metaKey||H.isWindows&&L.altKey&&L.ctrlKey&&!L.metaKey||H.isWindows&&L.getModifierState("AltGraph");return L.type==="keypress"?W:W&&(!L.keyCode||L.keyCode>47)}_keyUp(H){this._keyDownSeen=!1,this._customKeyEventHandler&&this._customKeyEventHandler(H)===!1||(function(L){return L.keyCode===16||L.keyCode===17||L.keyCode===18}(H)||this.focus(),this.updateCursorStyle(H),this._keyPressHandled=!1)}_keyPress(H){let L;if(this._keyPressHandled=!1,this._keyDownHandled||this._customKeyEventHandler&&this._customKeyEventHandler(H)===!1)return!1;if(this.cancel(H),H.charCode)L=H.charCode;else if(H.which===null||H.which===void 0)L=H.keyCode;else{if(H.which===0||H.charCode===0)return!1;L=H.which}return!(!L||(H.altKey||H.ctrlKey||H.metaKey)&&!this._isThirdLevelShift(this.browser,H)||(L=String.fromCharCode(L),this._onKey.fire({key:L,domEvent:H}),this._showCursor(),this.coreService.triggerDataEvent(L,!0),this._keyPressHandled=!0,this._unprocessedDeadKey=!1,0))}_inputEvent(H){if(H.data&&H.inputType==="insertText"&&(!H.composed||!this._keyDownSeen)&&!this.optionsService.rawOptions.screenReaderMode){if(this._keyPressHandled)return!1;this._unprocessedDeadKey=!1;const L=H.data;return this.coreService.triggerDataEvent(L,!0),this.cancel(H),!0}return!1}resize(H,L){H!==this.cols||L!==this.rows?super.resize(H,L):this._charSizeService&&!this._charSizeService.hasValidSize&&this._charSizeService.measure()}_afterResize(H,L){this._charSizeService?.measure(),this.viewport?.syncScrollArea(!0)}clear(){if(this.buffer.ybase!==0||this.buffer.y!==0){this.buffer.clearAllMarkers(),this.buffer.lines.set(0,this.buffer.lines.get(this.buffer.ybase+this.buffer.y)),this.buffer.lines.length=1,this.buffer.ydisp=0,this.buffer.ybase=0,this.buffer.y=0;for(let H=1;H<this.rows;H++)this.buffer.lines.push(this.buffer.getBlankLine(F.DEFAULT_ATTR_DATA));this._onScroll.fire({position:this.buffer.ydisp,source:0}),this.viewport?.reset(),this.refresh(0,this.rows-1)}}reset(){this.options.rows=this.rows,this.options.cols=this.cols;const H=this._customKeyEventHandler;this._setup(),super.reset(),this._selectionService?.reset(),this._decorationService.reset(),this.viewport?.reset(),this._customKeyEventHandler=H,this.refresh(0,this.rows-1)}clearTextureAtlas(){this._renderService?.clearTextureAtlas()}_reportFocus(){this.element?.classList.contains("focus")?this.coreService.triggerDataEvent(z.C0.ESC+"[I"):this.coreService.triggerDataEvent(z.C0.ESC+"[O")}_reportWindowsOptions(H){if(this._renderService)switch(H){case D.WindowsOptionsReportType.GET_WIN_SIZE_PIXELS:const L=this._renderService.dimensions.css.canvas.width.toFixed(0),W=this._renderService.dimensions.css.canvas.height.toFixed(0);this.coreService.triggerDataEvent(`${z.C0.ESC}[4;${W};${L}t`);break;case D.WindowsOptionsReportType.GET_CELL_SIZE_PIXELS:const G=this._renderService.dimensions.css.cell.width.toFixed(0),Z=this._renderService.dimensions.css.cell.height.toFixed(0);this.coreService.triggerDataEvent(`${z.C0.ESC}[6;${Z};${G}t`)}}cancel(H,L){if(this.options.cancelEvents||L)return H.preventDefault(),H.stopPropagation(),!1}}s.Terminal=K},9924:(f,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.TimeBasedDebouncer=void 0,s.TimeBasedDebouncer=class{constructor(o,a=1e3){this._renderCallback=o,this._debounceThresholdMS=a,this._lastRefreshMs=0,this._additionalRefreshRequested=!1}dispose(){this._refreshTimeoutID&&clearTimeout(this._refreshTimeoutID)}refresh(o,a,d){this._rowCount=d,o=o!==void 0?o:0,a=a!==void 0?a:this._rowCount-1,this._rowStart=this._rowStart!==void 0?Math.min(this._rowStart,o):o,this._rowEnd=this._rowEnd!==void 0?Math.max(this._rowEnd,a):a;const u=Date.now();if(u-this._lastRefreshMs>=this._debounceThresholdMS)this._lastRefreshMs=u,this._innerRefresh();else if(!this._additionalRefreshRequested){const g=u-this._lastRefreshMs,b=this._debounceThresholdMS-g;this._additionalRefreshRequested=!0,this._refreshTimeoutID=window.setTimeout(()=>{this._lastRefreshMs=Date.now(),this._innerRefresh(),this._additionalRefreshRequested=!1,this._refreshTimeoutID=void 0},b)}}_innerRefresh(){if(this._rowStart===void 0||this._rowEnd===void 0||this._rowCount===void 0)return;const o=Math.max(this._rowStart,0),a=Math.min(this._rowEnd,this._rowCount-1);this._rowStart=void 0,this._rowEnd=void 0,this._renderCallback(o,a)}}},1680:function(f,s,o){var a=this&&this.__decorate||function(p,l,v,_){var w,E=arguments.length,C=E<3?l:_===null?_=Object.getOwnPropertyDescriptor(l,v):_;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")C=Reflect.decorate(p,l,v,_);else for(var y=p.length-1;y>=0;y--)(w=p[y])&&(C=(E<3?w(C):E>3?w(l,v,C):w(l,v))||C);return E>3&&C&&Object.defineProperty(l,v,C),C},d=this&&this.__param||function(p,l){return function(v,_){l(v,_,p)}};Object.defineProperty(s,"__esModule",{value:!0}),s.Viewport=void 0;const u=o(3656),g=o(4725),b=o(8460),S=o(844),m=o(2585);let c=s.Viewport=class extends S.Disposable{constructor(p,l,v,_,w,E,C,y){super(),this._viewportElement=p,this._scrollArea=l,this._bufferService=v,this._optionsService=_,this._charSizeService=w,this._renderService=E,this._coreBrowserService=C,this.scrollBarWidth=0,this._currentRowHeight=0,this._currentDeviceCellHeight=0,this._lastRecordedBufferLength=0,this._lastRecordedViewportHeight=0,this._lastRecordedBufferHeight=0,this._lastTouchY=0,this._lastScrollTop=0,this._wheelPartialScroll=0,this._refreshAnimationFrame=null,this._ignoreNextScrollEvent=!1,this._smoothScrollState={startTime:0,origin:-1,target:-1},this._onRequestScrollLines=this.register(new b.EventEmitter),this.onRequestScrollLines=this._onRequestScrollLines.event,this.scrollBarWidth=this._viewportElement.offsetWidth-this._scrollArea.offsetWidth||15,this.register((0,u.addDisposableDomListener)(this._viewportElement,"scroll",this._handleScroll.bind(this))),this._activeBuffer=this._bufferService.buffer,this.register(this._bufferService.buffers.onBufferActivate(x=>this._activeBuffer=x.activeBuffer)),this._renderDimensions=this._renderService.dimensions,this.register(this._renderService.onDimensionsChange(x=>this._renderDimensions=x)),this._handleThemeChange(y.colors),this.register(y.onChangeColors(x=>this._handleThemeChange(x))),this.register(this._optionsService.onSpecificOptionChange("scrollback",()=>this.syncScrollArea())),setTimeout(()=>this.syncScrollArea())}_handleThemeChange(p){this._viewportElement.style.backgroundColor=p.background.css}reset(){this._currentRowHeight=0,this._currentDeviceCellHeight=0,this._lastRecordedBufferLength=0,this._lastRecordedViewportHeight=0,this._lastRecordedBufferHeight=0,this._lastTouchY=0,this._lastScrollTop=0,this._coreBrowserService.window.requestAnimationFrame(()=>this.syncScrollArea())}_refresh(p){if(p)return this._innerRefresh(),void(this._refreshAnimationFrame!==null&&this._coreBrowserService.window.cancelAnimationFrame(this._refreshAnimationFrame));this._refreshAnimationFrame===null&&(this._refreshAnimationFrame=this._coreBrowserService.window.requestAnimationFrame(()=>this._innerRefresh()))}_innerRefresh(){if(this._charSizeService.height>0){this._currentRowHeight=this._renderDimensions.device.cell.height/this._coreBrowserService.dpr,this._currentDeviceCellHeight=this._renderDimensions.device.cell.height,this._lastRecordedViewportHeight=this._viewportElement.offsetHeight;const l=Math.round(this._currentRowHeight*this._lastRecordedBufferLength)+(this._lastRecordedViewportHeight-this._renderDimensions.css.canvas.height);this._lastRecordedBufferHeight!==l&&(this._lastRecordedBufferHeight=l,this._scrollArea.style.height=this._lastRecordedBufferHeight+"px")}const p=this._bufferService.buffer.ydisp*this._currentRowHeight;this._viewportElement.scrollTop!==p&&(this._ignoreNextScrollEvent=!0,this._viewportElement.scrollTop=p),this._refreshAnimationFrame=null}syncScrollArea(p=!1){if(this._lastRecordedBufferLength!==this._bufferService.buffer.lines.length)return this._lastRecordedBufferLength=this._bufferService.buffer.lines.length,void this._refresh(p);this._lastRecordedViewportHeight===this._renderService.dimensions.css.canvas.height&&this._lastScrollTop===this._activeBuffer.ydisp*this._currentRowHeight&&this._renderDimensions.device.cell.height===this._currentDeviceCellHeight||this._refresh(p)}_handleScroll(p){if(this._lastScrollTop=this._viewportElement.scrollTop,!this._viewportElement.offsetParent)return;if(this._ignoreNextScrollEvent)return this._ignoreNextScrollEvent=!1,void this._onRequestScrollLines.fire({amount:0,suppressScrollEvent:!0});const l=Math.round(this._lastScrollTop/this._currentRowHeight)-this._bufferService.buffer.ydisp;this._onRequestScrollLines.fire({amount:l,suppressScrollEvent:!0})}_smoothScroll(){if(this._isDisposed||this._smoothScrollState.origin===-1||this._smoothScrollState.target===-1)return;const p=this._smoothScrollPercent();this._viewportElement.scrollTop=this._smoothScrollState.origin+Math.round(p*(this._smoothScrollState.target-this._smoothScrollState.origin)),p<1?this._coreBrowserService.window.requestAnimationFrame(()=>this._smoothScroll()):this._clearSmoothScrollState()}_smoothScrollPercent(){return this._optionsService.rawOptions.smoothScrollDuration&&this._smoothScrollState.startTime?Math.max(Math.min((Date.now()-this._smoothScrollState.startTime)/this._optionsService.rawOptions.smoothScrollDuration,1),0):1}_clearSmoothScrollState(){this._smoothScrollState.startTime=0,this._smoothScrollState.origin=-1,this._smoothScrollState.target=-1}_bubbleScroll(p,l){const v=this._viewportElement.scrollTop+this._lastRecordedViewportHeight;return!(l<0&&this._viewportElement.scrollTop!==0||l>0&&v<this._lastRecordedBufferHeight)||(p.cancelable&&p.preventDefault(),!1)}handleWheel(p){const l=this._getPixelsScrolled(p);return l!==0&&(this._optionsService.rawOptions.smoothScrollDuration?(this._smoothScrollState.startTime=Date.now(),this._smoothScrollPercent()<1?(this._smoothScrollState.origin=this._viewportElement.scrollTop,this._smoothScrollState.target===-1?this._smoothScrollState.target=this._viewportElement.scrollTop+l:this._smoothScrollState.target+=l,this._smoothScrollState.target=Math.max(Math.min(this._smoothScrollState.target,this._viewportElement.scrollHeight),0),this._smoothScroll()):this._clearSmoothScrollState()):this._viewportElement.scrollTop+=l,this._bubbleScroll(p,l))}scrollLines(p){if(p!==0)if(this._optionsService.rawOptions.smoothScrollDuration){const l=p*this._currentRowHeight;this._smoothScrollState.startTime=Date.now(),this._smoothScrollPercent()<1?(this._smoothScrollState.origin=this._viewportElement.scrollTop,this._smoothScrollState.target=this._smoothScrollState.origin+l,this._smoothScrollState.target=Math.max(Math.min(this._smoothScrollState.target,this._viewportElement.scrollHeight),0),this._smoothScroll()):this._clearSmoothScrollState()}else this._onRequestScrollLines.fire({amount:p,suppressScrollEvent:!1})}_getPixelsScrolled(p){if(p.deltaY===0||p.shiftKey)return 0;let l=this._applyScrollModifier(p.deltaY,p);return p.deltaMode===WheelEvent.DOM_DELTA_LINE?l*=this._currentRowHeight:p.deltaMode===WheelEvent.DOM_DELTA_PAGE&&(l*=this._currentRowHeight*this._bufferService.rows),l}getBufferElements(p,l){let v,_="";const w=[],E=l??this._bufferService.buffer.lines.length,C=this._bufferService.buffer.lines;for(let y=p;y<E;y++){const x=C.get(y);if(!x)continue;const R=C.get(y+1)?.isWrapped;if(_+=x.translateToString(!R),!R||y===C.length-1){const M=document.createElement("div");M.textContent=_,w.push(M),_.length>0&&(v=M),_=""}}return{bufferElements:w,cursorElement:v}}getLinesScrolled(p){if(p.deltaY===0||p.shiftKey)return 0;let l=this._applyScrollModifier(p.deltaY,p);return p.deltaMode===WheelEvent.DOM_DELTA_PIXEL?(l/=this._currentRowHeight+0,this._wheelPartialScroll+=l,l=Math.floor(Math.abs(this._wheelPartialScroll))*(this._wheelPartialScroll>0?1:-1),this._wheelPartialScroll%=1):p.deltaMode===WheelEvent.DOM_DELTA_PAGE&&(l*=this._bufferService.rows),l}_applyScrollModifier(p,l){const v=this._optionsService.rawOptions.fastScrollModifier;return v==="alt"&&l.altKey||v==="ctrl"&&l.ctrlKey||v==="shift"&&l.shiftKey?p*this._optionsService.rawOptions.fastScrollSensitivity*this._optionsService.rawOptions.scrollSensitivity:p*this._optionsService.rawOptions.scrollSensitivity}handleTouchStart(p){this._lastTouchY=p.touches[0].pageY}handleTouchMove(p){const l=this._lastTouchY-p.touches[0].pageY;return this._lastTouchY=p.touches[0].pageY,l!==0&&(this._viewportElement.scrollTop+=l,this._bubbleScroll(p,l))}};s.Viewport=c=a([d(2,m.IBufferService),d(3,m.IOptionsService),d(4,g.ICharSizeService),d(5,g.IRenderService),d(6,g.ICoreBrowserService),d(7,g.IThemeService)],c)},3107:function(f,s,o){var a=this&&this.__decorate||function(m,c,p,l){var v,_=arguments.length,w=_<3?c:l===null?l=Object.getOwnPropertyDescriptor(c,p):l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")w=Reflect.decorate(m,c,p,l);else for(var E=m.length-1;E>=0;E--)(v=m[E])&&(w=(_<3?v(w):_>3?v(c,p,w):v(c,p))||w);return _>3&&w&&Object.defineProperty(c,p,w),w},d=this&&this.__param||function(m,c){return function(p,l){c(p,l,m)}};Object.defineProperty(s,"__esModule",{value:!0}),s.BufferDecorationRenderer=void 0;const u=o(4725),g=o(844),b=o(2585);let S=s.BufferDecorationRenderer=class extends g.Disposable{constructor(m,c,p,l,v){super(),this._screenElement=m,this._bufferService=c,this._coreBrowserService=p,this._decorationService=l,this._renderService=v,this._decorationElements=new Map,this._altBufferIsActive=!1,this._dimensionsChanged=!1,this._container=document.createElement("div"),this._container.classList.add("xterm-decoration-container"),this._screenElement.appendChild(this._container),this.register(this._renderService.onRenderedViewportChange(()=>this._doRefreshDecorations())),this.register(this._renderService.onDimensionsChange(()=>{this._dimensionsChanged=!0,this._queueRefresh()})),this.register(this._coreBrowserService.onDprChange(()=>this._queueRefresh())),this.register(this._bufferService.buffers.onBufferActivate(()=>{this._altBufferIsActive=this._bufferService.buffer===this._bufferService.buffers.alt})),this.register(this._decorationService.onDecorationRegistered(()=>this._queueRefresh())),this.register(this._decorationService.onDecorationRemoved(_=>this._removeDecoration(_))),this.register((0,g.toDisposable)(()=>{this._container.remove(),this._decorationElements.clear()}))}_queueRefresh(){this._animationFrame===void 0&&(this._animationFrame=this._renderService.addRefreshCallback(()=>{this._doRefreshDecorations(),this._animationFrame=void 0}))}_doRefreshDecorations(){for(const m of this._decorationService.decorations)this._renderDecoration(m);this._dimensionsChanged=!1}_renderDecoration(m){this._refreshStyle(m),this._dimensionsChanged&&this._refreshXPosition(m)}_createElement(m){const c=this._coreBrowserService.mainDocument.createElement("div");c.classList.add("xterm-decoration"),c.classList.toggle("xterm-decoration-top-layer",m?.options?.layer==="top"),c.style.width=`${Math.round((m.options.width||1)*this._renderService.dimensions.css.cell.width)}px`,c.style.height=(m.options.height||1)*this._renderService.dimensions.css.cell.height+"px",c.style.top=(m.marker.line-this._bufferService.buffers.active.ydisp)*this._renderService.dimensions.css.cell.height+"px",c.style.lineHeight=`${this._renderService.dimensions.css.cell.height}px`;const p=m.options.x??0;return p&&p>this._bufferService.cols&&(c.style.display="none"),this._refreshXPosition(m,c),c}_refreshStyle(m){const c=m.marker.line-this._bufferService.buffers.active.ydisp;if(c<0||c>=this._bufferService.rows)m.element&&(m.element.style.display="none",m.onRenderEmitter.fire(m.element));else{let p=this._decorationElements.get(m);p||(p=this._createElement(m),m.element=p,this._decorationElements.set(m,p),this._container.appendChild(p),m.onDispose(()=>{this._decorationElements.delete(m),p.remove()})),p.style.top=c*this._renderService.dimensions.css.cell.height+"px",p.style.display=this._altBufferIsActive?"none":"block",m.onRenderEmitter.fire(p)}}_refreshXPosition(m,c=m.element){if(!c)return;const p=m.options.x??0;(m.options.anchor||"left")==="right"?c.style.right=p?p*this._renderService.dimensions.css.cell.width+"px":"":c.style.left=p?p*this._renderService.dimensions.css.cell.width+"px":""}_removeDecoration(m){this._decorationElements.get(m)?.remove(),this._decorationElements.delete(m),m.dispose()}};s.BufferDecorationRenderer=S=a([d(1,b.IBufferService),d(2,u.ICoreBrowserService),d(3,b.IDecorationService),d(4,u.IRenderService)],S)},5871:(f,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.ColorZoneStore=void 0,s.ColorZoneStore=class{constructor(){this._zones=[],this._zonePool=[],this._zonePoolIndex=0,this._linePadding={full:0,left:0,center:0,right:0}}get zones(){return this._zonePool.length=Math.min(this._zonePool.length,this._zones.length),this._zones}clear(){this._zones.length=0,this._zonePoolIndex=0}addDecoration(o){if(o.options.overviewRulerOptions){for(const a of this._zones)if(a.color===o.options.overviewRulerOptions.color&&a.position===o.options.overviewRulerOptions.position){if(this._lineIntersectsZone(a,o.marker.line))return;if(this._lineAdjacentToZone(a,o.marker.line,o.options.overviewRulerOptions.position))return void this._addLineToZone(a,o.marker.line)}if(this._zonePoolIndex<this._zonePool.length)return this._zonePool[this._zonePoolIndex].color=o.options.overviewRulerOptions.color,this._zonePool[this._zonePoolIndex].position=o.options.overviewRulerOptions.position,this._zonePool[this._zonePoolIndex].startBufferLine=o.marker.line,this._zonePool[this._zonePoolIndex].endBufferLine=o.marker.line,void this._zones.push(this._zonePool[this._zonePoolIndex++]);this._zones.push({color:o.options.overviewRulerOptions.color,position:o.options.overviewRulerOptions.position,startBufferLine:o.marker.line,endBufferLine:o.marker.line}),this._zonePool.push(this._zones[this._zones.length-1]),this._zonePoolIndex++}}setPadding(o){this._linePadding=o}_lineIntersectsZone(o,a){return a>=o.startBufferLine&&a<=o.endBufferLine}_lineAdjacentToZone(o,a,d){return a>=o.startBufferLine-this._linePadding[d||"full"]&&a<=o.endBufferLine+this._linePadding[d||"full"]}_addLineToZone(o,a){o.startBufferLine=Math.min(o.startBufferLine,a),o.endBufferLine=Math.max(o.endBufferLine,a)}}},5744:function(f,s,o){var a=this&&this.__decorate||function(v,_,w,E){var C,y=arguments.length,x=y<3?_:E===null?E=Object.getOwnPropertyDescriptor(_,w):E;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")x=Reflect.decorate(v,_,w,E);else for(var R=v.length-1;R>=0;R--)(C=v[R])&&(x=(y<3?C(x):y>3?C(_,w,x):C(_,w))||x);return y>3&&x&&Object.defineProperty(_,w,x),x},d=this&&this.__param||function(v,_){return function(w,E){_(w,E,v)}};Object.defineProperty(s,"__esModule",{value:!0}),s.OverviewRulerRenderer=void 0;const u=o(5871),g=o(4725),b=o(844),S=o(2585),m={full:0,left:0,center:0,right:0},c={full:0,left:0,center:0,right:0},p={full:0,left:0,center:0,right:0};let l=s.OverviewRulerRenderer=class extends b.Disposable{get _width(){return this._optionsService.options.overviewRulerWidth||0}constructor(v,_,w,E,C,y,x){super(),this._viewportElement=v,this._screenElement=_,this._bufferService=w,this._decorationService=E,this._renderService=C,this._optionsService=y,this._coreBrowserService=x,this._colorZoneStore=new u.ColorZoneStore,this._shouldUpdateDimensions=!0,this._shouldUpdateAnchor=!0,this._lastKnownBufferLength=0,this._canvas=this._coreBrowserService.mainDocument.createElement("canvas"),this._canvas.classList.add("xterm-decoration-overview-ruler"),this._refreshCanvasDimensions(),this._viewportElement.parentElement?.insertBefore(this._canvas,this._viewportElement);const R=this._canvas.getContext("2d");if(!R)throw new Error("Ctx cannot be null");this._ctx=R,this._registerDecorationListeners(),this._registerBufferChangeListeners(),this._registerDimensionChangeListeners(),this.register((0,b.toDisposable)(()=>{this._canvas?.remove()}))}_registerDecorationListeners(){this.register(this._decorationService.onDecorationRegistered(()=>this._queueRefresh(void 0,!0))),this.register(this._decorationService.onDecorationRemoved(()=>this._queueRefresh(void 0,!0)))}_registerBufferChangeListeners(){this.register(this._renderService.onRenderedViewportChange(()=>this._queueRefresh())),this.register(this._bufferService.buffers.onBufferActivate(()=>{this._canvas.style.display=this._bufferService.buffer===this._bufferService.buffers.alt?"none":"block"})),this.register(this._bufferService.onScroll(()=>{this._lastKnownBufferLength!==this._bufferService.buffers.normal.lines.length&&(this._refreshDrawHeightConstants(),this._refreshColorZonePadding())}))}_registerDimensionChangeListeners(){this.register(this._renderService.onRender(()=>{this._containerHeight&&this._containerHeight===this._screenElement.clientHeight||(this._queueRefresh(!0),this._containerHeight=this._screenElement.clientHeight)})),this.register(this._optionsService.onSpecificOptionChange("overviewRulerWidth",()=>this._queueRefresh(!0))),this.register(this._coreBrowserService.onDprChange(()=>this._queueRefresh(!0))),this._queueRefresh(!0)}_refreshDrawConstants(){const v=Math.floor(this._canvas.width/3),_=Math.ceil(this._canvas.width/3);c.full=this._canvas.width,c.left=v,c.center=_,c.right=v,this._refreshDrawHeightConstants(),p.full=0,p.left=0,p.center=c.left,p.right=c.left+c.center}_refreshDrawHeightConstants(){m.full=Math.round(2*this._coreBrowserService.dpr);const v=this._canvas.height/this._bufferService.buffer.lines.length,_=Math.round(Math.max(Math.min(v,12),6)*this._coreBrowserService.dpr);m.left=_,m.center=_,m.right=_}_refreshColorZonePadding(){this._colorZoneStore.setPadding({full:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*m.full),left:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*m.left),center:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*m.center),right:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*m.right)}),this._lastKnownBufferLength=this._bufferService.buffers.normal.lines.length}_refreshCanvasDimensions(){this._canvas.style.width=`${this._width}px`,this._canvas.width=Math.round(this._width*this._coreBrowserService.dpr),this._canvas.style.height=`${this._screenElement.clientHeight}px`,this._canvas.height=Math.round(this._screenElement.clientHeight*this._coreBrowserService.dpr),this._refreshDrawConstants(),this._refreshColorZonePadding()}_refreshDecorations(){this._shouldUpdateDimensions&&this._refreshCanvasDimensions(),this._ctx.clearRect(0,0,this._canvas.width,this._canvas.height),this._colorZoneStore.clear();for(const _ of this._decorationService.decorations)this._colorZoneStore.addDecoration(_);this._ctx.lineWidth=1;const v=this._colorZoneStore.zones;for(const _ of v)_.position!=="full"&&this._renderColorZone(_);for(const _ of v)_.position==="full"&&this._renderColorZone(_);this._shouldUpdateDimensions=!1,this._shouldUpdateAnchor=!1}_renderColorZone(v){this._ctx.fillStyle=v.color,this._ctx.fillRect(p[v.position||"full"],Math.round((this._canvas.height-1)*(v.startBufferLine/this._bufferService.buffers.active.lines.length)-m[v.position||"full"]/2),c[v.position||"full"],Math.round((this._canvas.height-1)*((v.endBufferLine-v.startBufferLine)/this._bufferService.buffers.active.lines.length)+m[v.position||"full"]))}_queueRefresh(v,_){this._shouldUpdateDimensions=v||this._shouldUpdateDimensions,this._shouldUpdateAnchor=_||this._shouldUpdateAnchor,this._animationFrame===void 0&&(this._animationFrame=this._coreBrowserService.window.requestAnimationFrame(()=>{this._refreshDecorations(),this._animationFrame=void 0}))}};s.OverviewRulerRenderer=l=a([d(2,S.IBufferService),d(3,S.IDecorationService),d(4,g.IRenderService),d(5,S.IOptionsService),d(6,g.ICoreBrowserService)],l)},2950:function(f,s,o){var a=this&&this.__decorate||function(m,c,p,l){var v,_=arguments.length,w=_<3?c:l===null?l=Object.getOwnPropertyDescriptor(c,p):l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")w=Reflect.decorate(m,c,p,l);else for(var E=m.length-1;E>=0;E--)(v=m[E])&&(w=(_<3?v(w):_>3?v(c,p,w):v(c,p))||w);return _>3&&w&&Object.defineProperty(c,p,w),w},d=this&&this.__param||function(m,c){return function(p,l){c(p,l,m)}};Object.defineProperty(s,"__esModule",{value:!0}),s.CompositionHelper=void 0;const u=o(4725),g=o(2585),b=o(2584);let S=s.CompositionHelper=class{get isComposing(){return this._isComposing}constructor(m,c,p,l,v,_){this._textarea=m,this._compositionView=c,this._bufferService=p,this._optionsService=l,this._coreService=v,this._renderService=_,this._isComposing=!1,this._isSendingComposition=!1,this._compositionPosition={start:0,end:0},this._dataAlreadySent=""}compositionstart(){this._isComposing=!0,this._compositionPosition.start=this._textarea.value.length,this._compositionView.textContent="",this._dataAlreadySent="",this._compositionView.classList.add("active")}compositionupdate(m){this._compositionView.textContent=m.data,this.updateCompositionElements(),setTimeout(()=>{this._compositionPosition.end=this._textarea.value.length},0)}compositionend(){this._finalizeComposition(!0)}keydown(m){if(this._isComposing||this._isSendingComposition){if(m.keyCode===229||m.keyCode===16||m.keyCode===17||m.keyCode===18)return!1;this._finalizeComposition(!1)}return m.keyCode!==229||(this._handleAnyTextareaChanges(),!1)}_finalizeComposition(m){if(this._compositionView.classList.remove("active"),this._isComposing=!1,m){const c={start:this._compositionPosition.start,end:this._compositionPosition.end};this._isSendingComposition=!0,setTimeout(()=>{if(this._isSendingComposition){let p;this._isSendingComposition=!1,c.start+=this._dataAlreadySent.length,p=this._isComposing?this._textarea.value.substring(c.start,c.end):this._textarea.value.substring(c.start),p.length>0&&this._coreService.triggerDataEvent(p,!0)}},0)}else{this._isSendingComposition=!1;const c=this._textarea.value.substring(this._compositionPosition.start,this._compositionPosition.end);this._coreService.triggerDataEvent(c,!0)}}_handleAnyTextareaChanges(){const m=this._textarea.value;setTimeout(()=>{if(!this._isComposing){const c=this._textarea.value,p=c.replace(m,"");this._dataAlreadySent=p,c.length>m.length?this._coreService.triggerDataEvent(p,!0):c.length<m.length?this._coreService.triggerDataEvent(`${b.C0.DEL}`,!0):c.length===m.length&&c!==m&&this._coreService.triggerDataEvent(c,!0)}},0)}updateCompositionElements(m){if(this._isComposing){if(this._bufferService.buffer.isCursorInViewport){const c=Math.min(this._bufferService.buffer.x,this._bufferService.cols-1),p=this._renderService.dimensions.css.cell.height,l=this._bufferService.buffer.y*this._renderService.dimensions.css.cell.height,v=c*this._renderService.dimensions.css.cell.width;this._compositionView.style.left=v+"px",this._compositionView.style.top=l+"px",this._compositionView.style.height=p+"px",this._compositionView.style.lineHeight=p+"px",this._compositionView.style.fontFamily=this._optionsService.rawOptions.fontFamily,this._compositionView.style.fontSize=this._optionsService.rawOptions.fontSize+"px";const _=this._compositionView.getBoundingClientRect();this._textarea.style.left=v+"px",this._textarea.style.top=l+"px",this._textarea.style.width=Math.max(_.width,1)+"px",this._textarea.style.height=Math.max(_.height,1)+"px",this._textarea.style.lineHeight=_.height+"px"}m||setTimeout(()=>this.updateCompositionElements(!0),0)}}};s.CompositionHelper=S=a([d(2,g.IBufferService),d(3,g.IOptionsService),d(4,g.ICoreService),d(5,u.IRenderService)],S)},9806:(f,s)=>{function o(a,d,u){const g=u.getBoundingClientRect(),b=a.getComputedStyle(u),S=parseInt(b.getPropertyValue("padding-left")),m=parseInt(b.getPropertyValue("padding-top"));return[d.clientX-g.left-S,d.clientY-g.top-m]}Object.defineProperty(s,"__esModule",{value:!0}),s.getCoords=s.getCoordsRelativeToElement=void 0,s.getCoordsRelativeToElement=o,s.getCoords=function(a,d,u,g,b,S,m,c,p){if(!S)return;const l=o(a,d,u);return l?(l[0]=Math.ceil((l[0]+(p?m/2:0))/m),l[1]=Math.ceil(l[1]/c),l[0]=Math.min(Math.max(l[0],1),g+(p?1:0)),l[1]=Math.min(Math.max(l[1],1),b),l):void 0}},9504:(f,s,o)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.moveToCellSequence=void 0;const a=o(2584);function d(c,p,l,v){const _=c-u(c,l),w=p-u(p,l),E=Math.abs(_-w)-function(C,y,x){let R=0;const M=C-u(C,x),I=y-u(y,x);for(let T=0;T<Math.abs(M-I);T++){const B=g(C,y)==="A"?-1:1;x.buffer.lines.get(M+B*T)?.isWrapped&&R++}return R}(c,p,l);return m(E,S(g(c,p),v))}function u(c,p){let l=0,v=p.buffer.lines.get(c),_=v?.isWrapped;for(;_&&c>=0&&c<p.rows;)l++,v=p.buffer.lines.get(--c),_=v?.isWrapped;return l}function g(c,p){return c>p?"A":"B"}function b(c,p,l,v,_,w){let E=c,C=p,y="";for(;E!==l||C!==v;)E+=_?1:-1,_&&E>w.cols-1?(y+=w.buffer.translateBufferLineToString(C,!1,c,E),E=0,c=0,C++):!_&&E<0&&(y+=w.buffer.translateBufferLineToString(C,!1,0,c+1),E=w.cols-1,c=E,C--);return y+w.buffer.translateBufferLineToString(C,!1,c,E)}function S(c,p){const l=p?"O":"[";return a.C0.ESC+l+c}function m(c,p){c=Math.floor(c);let l="";for(let v=0;v<c;v++)l+=p;return l}s.moveToCellSequence=function(c,p,l,v){const _=l.buffer.x,w=l.buffer.y;if(!l.buffer.hasScrollback)return function(y,x,R,M,I,T){return d(x,M,I,T).length===0?"":m(b(y,x,y,x-u(x,I),!1,I).length,S("D",T))}(_,w,0,p,l,v)+d(w,p,l,v)+function(y,x,R,M,I,T){let B;B=d(x,M,I,T).length>0?M-u(M,I):x;const $=M,F=function(z,U,A,k,P,D){let V;return V=d(A,k,P,D).length>0?k-u(k,P):U,z<A&&V<=k||z>=A&&V<k?"C":"D"}(y,x,R,M,I,T);return m(b(y,B,R,$,F==="C",I).length,S(F,T))}(_,w,c,p,l,v);let E;if(w===p)return E=_>c?"D":"C",m(Math.abs(_-c),S(E,v));E=w>p?"D":"C";const C=Math.abs(w-p);return m(function(y,x){return x.cols-y}(w>p?c:_,l)+(C-1)*l.cols+1+((w>p?_:c)-1),S(E,v))}},1296:function(f,s,o){var a=this&&this.__decorate||function(T,B,$,F){var z,U=arguments.length,A=U<3?B:F===null?F=Object.getOwnPropertyDescriptor(B,$):F;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")A=Reflect.decorate(T,B,$,F);else for(var k=T.length-1;k>=0;k--)(z=T[k])&&(A=(U<3?z(A):U>3?z(B,$,A):z(B,$))||A);return U>3&&A&&Object.defineProperty(B,$,A),A},d=this&&this.__param||function(T,B){return function($,F){B($,F,T)}};Object.defineProperty(s,"__esModule",{value:!0}),s.DomRenderer=void 0;const u=o(3787),g=o(2550),b=o(2223),S=o(6171),m=o(6052),c=o(4725),p=o(8055),l=o(8460),v=o(844),_=o(2585),w="xterm-dom-renderer-owner-",E="xterm-rows",C="xterm-fg-",y="xterm-bg-",x="xterm-focus",R="xterm-selection";let M=1,I=s.DomRenderer=class extends v.Disposable{constructor(T,B,$,F,z,U,A,k,P,D,V,j,K){super(),this._terminal=T,this._document=B,this._element=$,this._screenElement=F,this._viewportElement=z,this._helperContainer=U,this._linkifier2=A,this._charSizeService=P,this._optionsService=D,this._bufferService=V,this._coreBrowserService=j,this._themeService=K,this._terminalClass=M++,this._rowElements=[],this._selectionRenderModel=(0,m.createSelectionRenderModel)(),this.onRequestRedraw=this.register(new l.EventEmitter).event,this._rowContainer=this._document.createElement("div"),this._rowContainer.classList.add(E),this._rowContainer.style.lineHeight="normal",this._rowContainer.setAttribute("aria-hidden","true"),this._refreshRowElements(this._bufferService.cols,this._bufferService.rows),this._selectionContainer=this._document.createElement("div"),this._selectionContainer.classList.add(R),this._selectionContainer.setAttribute("aria-hidden","true"),this.dimensions=(0,S.createRenderDimensions)(),this._updateDimensions(),this.register(this._optionsService.onOptionChange(()=>this._handleOptionsChanged())),this.register(this._themeService.onChangeColors(J=>this._injectCss(J))),this._injectCss(this._themeService.colors),this._rowFactory=k.createInstance(u.DomRendererRowFactory,document),this._element.classList.add(w+this._terminalClass),this._screenElement.appendChild(this._rowContainer),this._screenElement.appendChild(this._selectionContainer),this.register(this._linkifier2.onShowLinkUnderline(J=>this._handleLinkHover(J))),this.register(this._linkifier2.onHideLinkUnderline(J=>this._handleLinkLeave(J))),this.register((0,v.toDisposable)(()=>{this._element.classList.remove(w+this._terminalClass),this._rowContainer.remove(),this._selectionContainer.remove(),this._widthCache.dispose(),this._themeStyleElement.remove(),this._dimensionsStyleElement.remove()})),this._widthCache=new g.WidthCache(this._document,this._helperContainer),this._widthCache.setFont(this._optionsService.rawOptions.fontFamily,this._optionsService.rawOptions.fontSize,this._optionsService.rawOptions.fontWeight,this._optionsService.rawOptions.fontWeightBold),this._setDefaultSpacing()}_updateDimensions(){const T=this._coreBrowserService.dpr;this.dimensions.device.char.width=this._charSizeService.width*T,this.dimensions.device.char.height=Math.ceil(this._charSizeService.height*T),this.dimensions.device.cell.width=this.dimensions.device.char.width+Math.round(this._optionsService.rawOptions.letterSpacing),this.dimensions.device.cell.height=Math.floor(this.dimensions.device.char.height*this._optionsService.rawOptions.lineHeight),this.dimensions.device.char.left=0,this.dimensions.device.char.top=0,this.dimensions.device.canvas.width=this.dimensions.device.cell.width*this._bufferService.cols,this.dimensions.device.canvas.height=this.dimensions.device.cell.height*this._bufferService.rows,this.dimensions.css.canvas.width=Math.round(this.dimensions.device.canvas.width/T),this.dimensions.css.canvas.height=Math.round(this.dimensions.device.canvas.height/T),this.dimensions.css.cell.width=this.dimensions.css.canvas.width/this._bufferService.cols,this.dimensions.css.cell.height=this.dimensions.css.canvas.height/this._bufferService.rows;for(const $ of this._rowElements)$.style.width=`${this.dimensions.css.canvas.width}px`,$.style.height=`${this.dimensions.css.cell.height}px`,$.style.lineHeight=`${this.dimensions.css.cell.height}px`,$.style.overflow="hidden";this._dimensionsStyleElement||(this._dimensionsStyleElement=this._document.createElement("style"),this._screenElement.appendChild(this._dimensionsStyleElement));const B=`${this._terminalSelector} .${E} span { display: inline-block; height: 100%; vertical-align: top;}`;this._dimensionsStyleElement.textContent=B,this._selectionContainer.style.height=this._viewportElement.style.height,this._screenElement.style.width=`${this.dimensions.css.canvas.width}px`,this._screenElement.style.height=`${this.dimensions.css.canvas.height}px`}_injectCss(T){this._themeStyleElement||(this._themeStyleElement=this._document.createElement("style"),this._screenElement.appendChild(this._themeStyleElement));let B=`${this._terminalSelector} .${E} { color: ${T.foreground.css}; font-family: ${this._optionsService.rawOptions.fontFamily}; font-size: ${this._optionsService.rawOptions.fontSize}px; font-kerning: none; white-space: pre}`;B+=`${this._terminalSelector} .${E} .xterm-dim { color: ${p.color.multiplyOpacity(T.foreground,.5).css};}`,B+=`${this._terminalSelector} span:not(.xterm-bold) { font-weight: ${this._optionsService.rawOptions.fontWeight};}${this._terminalSelector} span.xterm-bold { font-weight: ${this._optionsService.rawOptions.fontWeightBold};}${this._terminalSelector} span.xterm-italic { font-style: italic;}`;const $=`blink_underline_${this._terminalClass}`,F=`blink_bar_${this._terminalClass}`,z=`blink_block_${this._terminalClass}`;B+=`@keyframes ${$} { 50% {  border-bottom-style: hidden; }}`,B+=`@keyframes ${F} { 50% {  box-shadow: none; }}`,B+=`@keyframes ${z} { 0% {  background-color: ${T.cursor.css};  color: ${T.cursorAccent.css}; } 50% {  background-color: inherit;  color: ${T.cursor.css}; }}`,B+=`${this._terminalSelector} .${E}.${x} .xterm-cursor.xterm-cursor-blink.xterm-cursor-underline { animation: ${$} 1s step-end infinite;}${this._terminalSelector} .${E}.${x} .xterm-cursor.xterm-cursor-blink.xterm-cursor-bar { animation: ${F} 1s step-end infinite;}${this._terminalSelector} .${E}.${x} .xterm-cursor.xterm-cursor-blink.xterm-cursor-block { animation: ${z} 1s step-end infinite;}${this._terminalSelector} .${E} .xterm-cursor.xterm-cursor-block { background-color: ${T.cursor.css}; color: ${T.cursorAccent.css};}${this._terminalSelector} .${E} .xterm-cursor.xterm-cursor-block:not(.xterm-cursor-blink) { background-color: ${T.cursor.css} !important; color: ${T.cursorAccent.css} !important;}${this._terminalSelector} .${E} .xterm-cursor.xterm-cursor-outline { outline: 1px solid ${T.cursor.css}; outline-offset: -1px;}${this._terminalSelector} .${E} .xterm-cursor.xterm-cursor-bar { box-shadow: ${this._optionsService.rawOptions.cursorWidth}px 0 0 ${T.cursor.css} inset;}${this._terminalSelector} .${E} .xterm-cursor.xterm-cursor-underline { border-bottom: 1px ${T.cursor.css}; border-bottom-style: solid; height: calc(100% - 1px);}`,B+=`${this._terminalSelector} .${R} { position: absolute; top: 0; left: 0; z-index: 1; pointer-events: none;}${this._terminalSelector}.focus .${R} div { position: absolute; background-color: ${T.selectionBackgroundOpaque.css};}${this._terminalSelector} .${R} div { position: absolute; background-color: ${T.selectionInactiveBackgroundOpaque.css};}`;for(const[U,A]of T.ansi.entries())B+=`${this._terminalSelector} .${C}${U} { color: ${A.css}; }${this._terminalSelector} .${C}${U}.xterm-dim { color: ${p.color.multiplyOpacity(A,.5).css}; }${this._terminalSelector} .${y}${U} { background-color: ${A.css}; }`;B+=`${this._terminalSelector} .${C}${b.INVERTED_DEFAULT_COLOR} { color: ${p.color.opaque(T.background).css}; }${this._terminalSelector} .${C}${b.INVERTED_DEFAULT_COLOR}.xterm-dim { color: ${p.color.multiplyOpacity(p.color.opaque(T.background),.5).css}; }${this._terminalSelector} .${y}${b.INVERTED_DEFAULT_COLOR} { background-color: ${T.foreground.css}; }`,this._themeStyleElement.textContent=B}_setDefaultSpacing(){const T=this.dimensions.css.cell.width-this._widthCache.get("W",!1,!1);this._rowContainer.style.letterSpacing=`${T}px`,this._rowFactory.defaultSpacing=T}handleDevicePixelRatioChange(){this._updateDimensions(),this._widthCache.clear(),this._setDefaultSpacing()}_refreshRowElements(T,B){for(let $=this._rowElements.length;$<=B;$++){const F=this._document.createElement("div");this._rowContainer.appendChild(F),this._rowElements.push(F)}for(;this._rowElements.length>B;)this._rowContainer.removeChild(this._rowElements.pop())}handleResize(T,B){this._refreshRowElements(T,B),this._updateDimensions(),this.handleSelectionChanged(this._selectionRenderModel.selectionStart,this._selectionRenderModel.selectionEnd,this._selectionRenderModel.columnSelectMode)}handleCharSizeChanged(){this._updateDimensions(),this._widthCache.clear(),this._setDefaultSpacing()}handleBlur(){this._rowContainer.classList.remove(x),this.renderRows(0,this._bufferService.rows-1)}handleFocus(){this._rowContainer.classList.add(x),this.renderRows(this._bufferService.buffer.y,this._bufferService.buffer.y)}handleSelectionChanged(T,B,$){if(this._selectionContainer.replaceChildren(),this._rowFactory.handleSelectionChanged(T,B,$),this.renderRows(0,this._bufferService.rows-1),!T||!B)return;this._selectionRenderModel.update(this._terminal,T,B,$);const F=this._selectionRenderModel.viewportStartRow,z=this._selectionRenderModel.viewportEndRow,U=this._selectionRenderModel.viewportCappedStartRow,A=this._selectionRenderModel.viewportCappedEndRow;if(U>=this._bufferService.rows||A<0)return;const k=this._document.createDocumentFragment();if($){const P=T[0]>B[0];k.appendChild(this._createSelectionElement(U,P?B[0]:T[0],P?T[0]:B[0],A-U+1))}else{const P=F===U?T[0]:0,D=U===z?B[0]:this._bufferService.cols;k.appendChild(this._createSelectionElement(U,P,D));const V=A-U-1;if(k.appendChild(this._createSelectionElement(U+1,0,this._bufferService.cols,V)),U!==A){const j=z===A?B[0]:this._bufferService.cols;k.appendChild(this._createSelectionElement(A,0,j))}}this._selectionContainer.appendChild(k)}_createSelectionElement(T,B,$,F=1){const z=this._document.createElement("div"),U=B*this.dimensions.css.cell.width;let A=this.dimensions.css.cell.width*($-B);return U+A>this.dimensions.css.canvas.width&&(A=this.dimensions.css.canvas.width-U),z.style.height=F*this.dimensions.css.cell.height+"px",z.style.top=T*this.dimensions.css.cell.height+"px",z.style.left=`${U}px`,z.style.width=`${A}px`,z}handleCursorMove(){}_handleOptionsChanged(){this._updateDimensions(),this._injectCss(this._themeService.colors),this._widthCache.setFont(this._optionsService.rawOptions.fontFamily,this._optionsService.rawOptions.fontSize,this._optionsService.rawOptions.fontWeight,this._optionsService.rawOptions.fontWeightBold),this._setDefaultSpacing()}clear(){for(const T of this._rowElements)T.replaceChildren()}renderRows(T,B){const $=this._bufferService.buffer,F=$.ybase+$.y,z=Math.min($.x,this._bufferService.cols-1),U=this._optionsService.rawOptions.cursorBlink,A=this._optionsService.rawOptions.cursorStyle,k=this._optionsService.rawOptions.cursorInactiveStyle;for(let P=T;P<=B;P++){const D=P+$.ydisp,V=this._rowElements[P],j=$.lines.get(D);if(!V||!j)break;V.replaceChildren(...this._rowFactory.createRow(j,D,D===F,A,k,z,U,this.dimensions.css.cell.width,this._widthCache,-1,-1))}}get _terminalSelector(){return`.${w}${this._terminalClass}`}_handleLinkHover(T){this._setCellUnderline(T.x1,T.x2,T.y1,T.y2,T.cols,!0)}_handleLinkLeave(T){this._setCellUnderline(T.x1,T.x2,T.y1,T.y2,T.cols,!1)}_setCellUnderline(T,B,$,F,z,U){$<0&&(T=0),F<0&&(B=0);const A=this._bufferService.rows-1;$=Math.max(Math.min($,A),0),F=Math.max(Math.min(F,A),0),z=Math.min(z,this._bufferService.cols);const k=this._bufferService.buffer,P=k.ybase+k.y,D=Math.min(k.x,z-1),V=this._optionsService.rawOptions.cursorBlink,j=this._optionsService.rawOptions.cursorStyle,K=this._optionsService.rawOptions.cursorInactiveStyle;for(let J=$;J<=F;++J){const H=J+k.ydisp,L=this._rowElements[J],W=k.lines.get(H);if(!L||!W)break;L.replaceChildren(...this._rowFactory.createRow(W,H,H===P,j,K,D,V,this.dimensions.css.cell.width,this._widthCache,U?J===$?T:0:-1,U?(J===F?B:z)-1:-1))}}};s.DomRenderer=I=a([d(7,_.IInstantiationService),d(8,c.ICharSizeService),d(9,_.IOptionsService),d(10,_.IBufferService),d(11,c.ICoreBrowserService),d(12,c.IThemeService)],I)},3787:function(f,s,o){var a=this&&this.__decorate||function(E,C,y,x){var R,M=arguments.length,I=M<3?C:x===null?x=Object.getOwnPropertyDescriptor(C,y):x;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")I=Reflect.decorate(E,C,y,x);else for(var T=E.length-1;T>=0;T--)(R=E[T])&&(I=(M<3?R(I):M>3?R(C,y,I):R(C,y))||I);return M>3&&I&&Object.defineProperty(C,y,I),I},d=this&&this.__param||function(E,C){return function(y,x){C(y,x,E)}};Object.defineProperty(s,"__esModule",{value:!0}),s.DomRendererRowFactory=void 0;const u=o(2223),g=o(643),b=o(511),S=o(2585),m=o(8055),c=o(4725),p=o(4269),l=o(6171),v=o(3734);let _=s.DomRendererRowFactory=class{constructor(E,C,y,x,R,M,I){this._document=E,this._characterJoinerService=C,this._optionsService=y,this._coreBrowserService=x,this._coreService=R,this._decorationService=M,this._themeService=I,this._workCell=new b.CellData,this._columnSelectMode=!1,this.defaultSpacing=0}handleSelectionChanged(E,C,y){this._selectionStart=E,this._selectionEnd=C,this._columnSelectMode=y}createRow(E,C,y,x,R,M,I,T,B,$,F){const z=[],U=this._characterJoinerService.getJoinedCharacters(C),A=this._themeService.colors;let k,P=E.getNoBgTrimmedLength();y&&P<M+1&&(P=M+1);let D=0,V="",j=0,K=0,J=0,H=!1,L=0,W=!1,G=0;const Z=[],Q=$!==-1&&F!==-1;for(let se=0;se<P;se++){E.loadCell(se,this._workCell);let fe=this._workCell.getWidth();if(fe===0)continue;let de=!1,oe=se,re=this._workCell;if(U.length>0&&se===U[0][0]){de=!0;const we=U.shift();re=new p.JoinedCellData(this._workCell,E.translateToString(!0,we[0],we[1]),we[1]-we[0]),oe=we[1]-1,fe=re.getWidth()}const _e=this._isCellInSelection(se,C),xe=y&&se===M,Ge=Q&&se>=$&&se<=F;let Ee=!1;this._decorationService.forEachDecorationAtCell(se,C,void 0,we=>{Ee=!0});let Se=re.getChars()||g.WHITESPACE_CELL_CHAR;if(Se===" "&&(re.isUnderline()||re.isOverline())&&(Se=""),G=fe*T-B.get(Se,re.isBold(),re.isItalic()),k){if(D&&(_e&&W||!_e&&!W&&re.bg===j)&&(_e&&W&&A.selectionForeground||re.fg===K)&&re.extended.ext===J&&Ge===H&&G===L&&!xe&&!de&&!Ee){re.isInvisible()?V+=g.WHITESPACE_CELL_CHAR:V+=Se,D++;continue}D&&(k.textContent=V),k=this._document.createElement("span"),D=0,V=""}else k=this._document.createElement("span");if(j=re.bg,K=re.fg,J=re.extended.ext,H=Ge,L=G,W=_e,de&&M>=se&&M<=oe&&(M=se),!this._coreService.isCursorHidden&&xe&&this._coreService.isCursorInitialized){if(Z.push("xterm-cursor"),this._coreBrowserService.isFocused)I&&Z.push("xterm-cursor-blink"),Z.push(x==="bar"?"xterm-cursor-bar":x==="underline"?"xterm-cursor-underline":"xterm-cursor-block");else if(R)switch(R){case"outline":Z.push("xterm-cursor-outline");break;case"block":Z.push("xterm-cursor-block");break;case"bar":Z.push("xterm-cursor-bar");break;case"underline":Z.push("xterm-cursor-underline")}}if(re.isBold()&&Z.push("xterm-bold"),re.isItalic()&&Z.push("xterm-italic"),re.isDim()&&Z.push("xterm-dim"),V=re.isInvisible()?g.WHITESPACE_CELL_CHAR:re.getChars()||g.WHITESPACE_CELL_CHAR,re.isUnderline()&&(Z.push(`xterm-underline-${re.extended.underlineStyle}`),V===" "&&(V=""),!re.isUnderlineColorDefault()))if(re.isUnderlineColorRGB())k.style.textDecorationColor=`rgb(${v.AttributeData.toColorRGB(re.getUnderlineColor()).join(",")})`;else{let we=re.getUnderlineColor();this._optionsService.rawOptions.drawBoldTextInBrightColors&&re.isBold()&&we<8&&(we+=8),k.style.textDecorationColor=A.ansi[we].css}re.isOverline()&&(Z.push("xterm-overline"),V===" "&&(V="")),re.isStrikethrough()&&Z.push("xterm-strikethrough"),Ge&&(k.style.textDecoration="underline");let ae=re.getFgColor(),le=re.getFgColorMode(),ve=re.getBgColor(),De=re.getBgColorMode();const Ze=!!re.isInverse();if(Ze){const we=ae;ae=ve,ve=we;const Oe=le;le=De,De=Oe}let Pe,Ke,ze,lt=!1;switch(this._decorationService.forEachDecorationAtCell(se,C,void 0,we=>{we.options.layer!=="top"&&lt||(we.backgroundColorRGB&&(De=50331648,ve=we.backgroundColorRGB.rgba>>8&16777215,Pe=we.backgroundColorRGB),we.foregroundColorRGB&&(le=50331648,ae=we.foregroundColorRGB.rgba>>8&16777215,Ke=we.foregroundColorRGB),lt=we.options.layer==="top")}),!lt&&_e&&(Pe=this._coreBrowserService.isFocused?A.selectionBackgroundOpaque:A.selectionInactiveBackgroundOpaque,ve=Pe.rgba>>8&16777215,De=50331648,lt=!0,A.selectionForeground&&(le=50331648,ae=A.selectionForeground.rgba>>8&16777215,Ke=A.selectionForeground)),lt&&Z.push("xterm-decoration-top"),De){case 16777216:case 33554432:ze=A.ansi[ve],Z.push(`xterm-bg-${ve}`);break;case 50331648:ze=m.channels.toColor(ve>>16,ve>>8&255,255&ve),this._addStyle(k,`background-color:#${w((ve>>>0).toString(16),"0",6)}`);break;default:Ze?(ze=A.foreground,Z.push(`xterm-bg-${u.INVERTED_DEFAULT_COLOR}`)):ze=A.background}switch(Pe||re.isDim()&&(Pe=m.color.multiplyOpacity(ze,.5)),le){case 16777216:case 33554432:re.isBold()&&ae<8&&this._optionsService.rawOptions.drawBoldTextInBrightColors&&(ae+=8),this._applyMinimumContrast(k,ze,A.ansi[ae],re,Pe,void 0)||Z.push(`xterm-fg-${ae}`);break;case 50331648:const we=m.channels.toColor(ae>>16&255,ae>>8&255,255&ae);this._applyMinimumContrast(k,ze,we,re,Pe,Ke)||this._addStyle(k,`color:#${w(ae.toString(16),"0",6)}`);break;default:this._applyMinimumContrast(k,ze,A.foreground,re,Pe,Ke)||Ze&&Z.push(`xterm-fg-${u.INVERTED_DEFAULT_COLOR}`)}Z.length&&(k.className=Z.join(" "),Z.length=0),xe||de||Ee?k.textContent=V:D++,G!==this.defaultSpacing&&(k.style.letterSpacing=`${G}px`),z.push(k),se=oe}return k&&D&&(k.textContent=V),z}_applyMinimumContrast(E,C,y,x,R,M){if(this._optionsService.rawOptions.minimumContrastRatio===1||(0,l.treatGlyphAsBackgroundColor)(x.getCode()))return!1;const I=this._getContrastCache(x);let T;if(R||M||(T=I.getColor(C.rgba,y.rgba)),T===void 0){const B=this._optionsService.rawOptions.minimumContrastRatio/(x.isDim()?2:1);T=m.color.ensureContrastRatio(R||C,M||y,B),I.setColor((R||C).rgba,(M||y).rgba,T??null)}return!!T&&(this._addStyle(E,`color:${T.css}`),!0)}_getContrastCache(E){return E.isDim()?this._themeService.colors.halfContrastCache:this._themeService.colors.contrastCache}_addStyle(E,C){E.setAttribute("style",`${E.getAttribute("style")||""}${C};`)}_isCellInSelection(E,C){const y=this._selectionStart,x=this._selectionEnd;return!(!y||!x)&&(this._columnSelectMode?y[0]<=x[0]?E>=y[0]&&C>=y[1]&&E<x[0]&&C<=x[1]:E<y[0]&&C>=y[1]&&E>=x[0]&&C<=x[1]:C>y[1]&&C<x[1]||y[1]===x[1]&&C===y[1]&&E>=y[0]&&E<x[0]||y[1]<x[1]&&C===x[1]&&E<x[0]||y[1]<x[1]&&C===y[1]&&E>=y[0])}};function w(E,C,y){for(;E.length<y;)E=C+E;return E}s.DomRendererRowFactory=_=a([d(1,c.ICharacterJoinerService),d(2,S.IOptionsService),d(3,c.ICoreBrowserService),d(4,S.ICoreService),d(5,S.IDecorationService),d(6,c.IThemeService)],_)},2550:(f,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.WidthCache=void 0,s.WidthCache=class{constructor(o,a){this._flat=new Float32Array(256),this._font="",this._fontSize=0,this._weight="normal",this._weightBold="bold",this._measureElements=[],this._container=o.createElement("div"),this._container.classList.add("xterm-width-cache-measure-container"),this._container.setAttribute("aria-hidden","true"),this._container.style.whiteSpace="pre",this._container.style.fontKerning="none";const d=o.createElement("span");d.classList.add("xterm-char-measure-element");const u=o.createElement("span");u.classList.add("xterm-char-measure-element"),u.style.fontWeight="bold";const g=o.createElement("span");g.classList.add("xterm-char-measure-element"),g.style.fontStyle="italic";const b=o.createElement("span");b.classList.add("xterm-char-measure-element"),b.style.fontWeight="bold",b.style.fontStyle="italic",this._measureElements=[d,u,g,b],this._container.appendChild(d),this._container.appendChild(u),this._container.appendChild(g),this._container.appendChild(b),a.appendChild(this._container),this.clear()}dispose(){this._container.remove(),this._measureElements.length=0,this._holey=void 0}clear(){this._flat.fill(-9999),this._holey=new Map}setFont(o,a,d,u){o===this._font&&a===this._fontSize&&d===this._weight&&u===this._weightBold||(this._font=o,this._fontSize=a,this._weight=d,this._weightBold=u,this._container.style.fontFamily=this._font,this._container.style.fontSize=`${this._fontSize}px`,this._measureElements[0].style.fontWeight=`${d}`,this._measureElements[1].style.fontWeight=`${u}`,this._measureElements[2].style.fontWeight=`${d}`,this._measureElements[3].style.fontWeight=`${u}`,this.clear())}get(o,a,d){let u=0;if(!a&&!d&&o.length===1&&(u=o.charCodeAt(0))<256){if(this._flat[u]!==-9999)return this._flat[u];const S=this._measure(o,0);return S>0&&(this._flat[u]=S),S}let g=o;a&&(g+="B"),d&&(g+="I");let b=this._holey.get(g);if(b===void 0){let S=0;a&&(S|=1),d&&(S|=2),b=this._measure(o,S),b>0&&this._holey.set(g,b)}return b}_measure(o,a){const d=this._measureElements[a];return d.textContent=o.repeat(32),d.offsetWidth/32}}},2223:(f,s,o)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.TEXT_BASELINE=s.DIM_OPACITY=s.INVERTED_DEFAULT_COLOR=void 0;const a=o(6114);s.INVERTED_DEFAULT_COLOR=257,s.DIM_OPACITY=.5,s.TEXT_BASELINE=a.isFirefox||a.isLegacyEdge?"bottom":"ideographic"},6171:(f,s)=>{function o(d){return 57508<=d&&d<=57558}function a(d){return d>=128512&&d<=128591||d>=127744&&d<=128511||d>=128640&&d<=128767||d>=9728&&d<=9983||d>=9984&&d<=10175||d>=65024&&d<=65039||d>=129280&&d<=129535||d>=127462&&d<=127487}Object.defineProperty(s,"__esModule",{value:!0}),s.computeNextVariantOffset=s.createRenderDimensions=s.treatGlyphAsBackgroundColor=s.allowRescaling=s.isEmoji=s.isRestrictedPowerlineGlyph=s.isPowerlineGlyph=s.throwIfFalsy=void 0,s.throwIfFalsy=function(d){if(!d)throw new Error("value must not be falsy");return d},s.isPowerlineGlyph=o,s.isRestrictedPowerlineGlyph=function(d){return 57520<=d&&d<=57527},s.isEmoji=a,s.allowRescaling=function(d,u,g,b){return u===1&&g>Math.ceil(1.5*b)&&d!==void 0&&d>255&&!a(d)&&!o(d)&&!function(S){return 57344<=S&&S<=63743}(d)},s.treatGlyphAsBackgroundColor=function(d){return o(d)||function(u){return 9472<=u&&u<=9631}(d)},s.createRenderDimensions=function(){return{css:{canvas:{width:0,height:0},cell:{width:0,height:0}},device:{canvas:{width:0,height:0},cell:{width:0,height:0},char:{width:0,height:0,left:0,top:0}}}},s.computeNextVariantOffset=function(d,u,g=0){return(d-(2*Math.round(u)-g))%(2*Math.round(u))}},6052:(f,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.createSelectionRenderModel=void 0;class o{constructor(){this.clear()}clear(){this.hasSelection=!1,this.columnSelectMode=!1,this.viewportStartRow=0,this.viewportEndRow=0,this.viewportCappedStartRow=0,this.viewportCappedEndRow=0,this.startCol=0,this.endCol=0,this.selectionStart=void 0,this.selectionEnd=void 0}update(d,u,g,b=!1){if(this.selectionStart=u,this.selectionEnd=g,!u||!g||u[0]===g[0]&&u[1]===g[1])return void this.clear();const S=d.buffers.active.ydisp,m=u[1]-S,c=g[1]-S,p=Math.max(m,0),l=Math.min(c,d.rows-1);p>=d.rows||l<0?this.clear():(this.hasSelection=!0,this.columnSelectMode=b,this.viewportStartRow=m,this.viewportEndRow=c,this.viewportCappedStartRow=p,this.viewportCappedEndRow=l,this.startCol=u[0],this.endCol=g[0])}isCellSelected(d,u,g){return!!this.hasSelection&&(g-=d.buffer.active.viewportY,this.columnSelectMode?this.startCol<=this.endCol?u>=this.startCol&&g>=this.viewportCappedStartRow&&u<this.endCol&&g<=this.viewportCappedEndRow:u<this.startCol&&g>=this.viewportCappedStartRow&&u>=this.endCol&&g<=this.viewportCappedEndRow:g>this.viewportStartRow&&g<this.viewportEndRow||this.viewportStartRow===this.viewportEndRow&&g===this.viewportStartRow&&u>=this.startCol&&u<this.endCol||this.viewportStartRow<this.viewportEndRow&&g===this.viewportEndRow&&u<this.endCol||this.viewportStartRow<this.viewportEndRow&&g===this.viewportStartRow&&u>=this.startCol)}}s.createSelectionRenderModel=function(){return new o}},456:(f,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.SelectionModel=void 0,s.SelectionModel=class{constructor(o){this._bufferService=o,this.isSelectAllActive=!1,this.selectionStartLength=0}clearSelection(){this.selectionStart=void 0,this.selectionEnd=void 0,this.isSelectAllActive=!1,this.selectionStartLength=0}get finalSelectionStart(){return this.isSelectAllActive?[0,0]:this.selectionEnd&&this.selectionStart&&this.areSelectionValuesReversed()?this.selectionEnd:this.selectionStart}get finalSelectionEnd(){if(this.isSelectAllActive)return[this._bufferService.cols,this._bufferService.buffer.ybase+this._bufferService.rows-1];if(this.selectionStart){if(!this.selectionEnd||this.areSelectionValuesReversed()){const o=this.selectionStart[0]+this.selectionStartLength;return o>this._bufferService.cols?o%this._bufferService.cols==0?[this._bufferService.cols,this.selectionStart[1]+Math.floor(o/this._bufferService.cols)-1]:[o%this._bufferService.cols,this.selectionStart[1]+Math.floor(o/this._bufferService.cols)]:[o,this.selectionStart[1]]}if(this.selectionStartLength&&this.selectionEnd[1]===this.selectionStart[1]){const o=this.selectionStart[0]+this.selectionStartLength;return o>this._bufferService.cols?[o%this._bufferService.cols,this.selectionStart[1]+Math.floor(o/this._bufferService.cols)]:[Math.max(o,this.selectionEnd[0]),this.selectionEnd[1]]}return this.selectionEnd}}areSelectionValuesReversed(){const o=this.selectionStart,a=this.selectionEnd;return!(!o||!a)&&(o[1]>a[1]||o[1]===a[1]&&o[0]>a[0])}handleTrim(o){return this.selectionStart&&(this.selectionStart[1]-=o),this.selectionEnd&&(this.selectionEnd[1]-=o),this.selectionEnd&&this.selectionEnd[1]<0?(this.clearSelection(),!0):(this.selectionStart&&this.selectionStart[1]<0&&(this.selectionStart[1]=0),!1)}}},428:function(f,s,o){var a=this&&this.__decorate||function(l,v,_,w){var E,C=arguments.length,y=C<3?v:w===null?w=Object.getOwnPropertyDescriptor(v,_):w;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")y=Reflect.decorate(l,v,_,w);else for(var x=l.length-1;x>=0;x--)(E=l[x])&&(y=(C<3?E(y):C>3?E(v,_,y):E(v,_))||y);return C>3&&y&&Object.defineProperty(v,_,y),y},d=this&&this.__param||function(l,v){return function(_,w){v(_,w,l)}};Object.defineProperty(s,"__esModule",{value:!0}),s.CharSizeService=void 0;const u=o(2585),g=o(8460),b=o(844);let S=s.CharSizeService=class extends b.Disposable{get hasValidSize(){return this.width>0&&this.height>0}constructor(l,v,_){super(),this._optionsService=_,this.width=0,this.height=0,this._onCharSizeChange=this.register(new g.EventEmitter),this.onCharSizeChange=this._onCharSizeChange.event;try{this._measureStrategy=this.register(new p(this._optionsService))}catch{this._measureStrategy=this.register(new c(l,v,this._optionsService))}this.register(this._optionsService.onMultipleOptionChange(["fontFamily","fontSize"],()=>this.measure()))}measure(){const l=this._measureStrategy.measure();l.width===this.width&&l.height===this.height||(this.width=l.width,this.height=l.height,this._onCharSizeChange.fire())}};s.CharSizeService=S=a([d(2,u.IOptionsService)],S);class m extends b.Disposable{constructor(){super(...arguments),this._result={width:0,height:0}}_validateAndSet(v,_){v!==void 0&&v>0&&_!==void 0&&_>0&&(this._result.width=v,this._result.height=_)}}class c extends m{constructor(v,_,w){super(),this._document=v,this._parentElement=_,this._optionsService=w,this._measureElement=this._document.createElement("span"),this._measureElement.classList.add("xterm-char-measure-element"),this._measureElement.textContent="W".repeat(32),this._measureElement.setAttribute("aria-hidden","true"),this._measureElement.style.whiteSpace="pre",this._measureElement.style.fontKerning="none",this._parentElement.appendChild(this._measureElement)}measure(){return this._measureElement.style.fontFamily=this._optionsService.rawOptions.fontFamily,this._measureElement.style.fontSize=`${this._optionsService.rawOptions.fontSize}px`,this._validateAndSet(Number(this._measureElement.offsetWidth)/32,Number(this._measureElement.offsetHeight)),this._result}}class p extends m{constructor(v){super(),this._optionsService=v,this._canvas=new OffscreenCanvas(100,100),this._ctx=this._canvas.getContext("2d");const _=this._ctx.measureText("W");if(!("width"in _&&"fontBoundingBoxAscent"in _&&"fontBoundingBoxDescent"in _))throw new Error("Required font metrics not supported")}measure(){this._ctx.font=`${this._optionsService.rawOptions.fontSize}px ${this._optionsService.rawOptions.fontFamily}`;const v=this._ctx.measureText("W");return this._validateAndSet(v.width,v.fontBoundingBoxAscent+v.fontBoundingBoxDescent),this._result}}},4269:function(f,s,o){var a=this&&this.__decorate||function(p,l,v,_){var w,E=arguments.length,C=E<3?l:_===null?_=Object.getOwnPropertyDescriptor(l,v):_;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")C=Reflect.decorate(p,l,v,_);else for(var y=p.length-1;y>=0;y--)(w=p[y])&&(C=(E<3?w(C):E>3?w(l,v,C):w(l,v))||C);return E>3&&C&&Object.defineProperty(l,v,C),C},d=this&&this.__param||function(p,l){return function(v,_){l(v,_,p)}};Object.defineProperty(s,"__esModule",{value:!0}),s.CharacterJoinerService=s.JoinedCellData=void 0;const u=o(3734),g=o(643),b=o(511),S=o(2585);class m extends u.AttributeData{constructor(l,v,_){super(),this.content=0,this.combinedData="",this.fg=l.fg,this.bg=l.bg,this.combinedData=v,this._width=_}isCombined(){return 2097152}getWidth(){return this._width}getChars(){return this.combinedData}getCode(){return 2097151}setFromCharData(l){throw new Error("not implemented")}getAsCharData(){return[this.fg,this.getChars(),this.getWidth(),this.getCode()]}}s.JoinedCellData=m;let c=s.CharacterJoinerService=class Eu{constructor(l){this._bufferService=l,this._characterJoiners=[],this._nextCharacterJoinerId=0,this._workCell=new b.CellData}register(l){const v={id:this._nextCharacterJoinerId++,handler:l};return this._characterJoiners.push(v),v.id}deregister(l){for(let v=0;v<this._characterJoiners.length;v++)if(this._characterJoiners[v].id===l)return this._characterJoiners.splice(v,1),!0;return!1}getJoinedCharacters(l){if(this._characterJoiners.length===0)return[];const v=this._bufferService.buffer.lines.get(l);if(!v||v.length===0)return[];const _=[],w=v.translateToString(!0);let E=0,C=0,y=0,x=v.getFg(0),R=v.getBg(0);for(let M=0;M<v.getTrimmedLength();M++)if(v.loadCell(M,this._workCell),this._workCell.getWidth()!==0){if(this._workCell.fg!==x||this._workCell.bg!==R){if(M-E>1){const I=this._getJoinedRanges(w,y,C,v,E);for(let T=0;T<I.length;T++)_.push(I[T])}E=M,y=C,x=this._workCell.fg,R=this._workCell.bg}C+=this._workCell.getChars().length||g.WHITESPACE_CELL_CHAR.length}if(this._bufferService.cols-E>1){const M=this._getJoinedRanges(w,y,C,v,E);for(let I=0;I<M.length;I++)_.push(M[I])}return _}_getJoinedRanges(l,v,_,w,E){const C=l.substring(v,_);let y=[];try{y=this._characterJoiners[0].handler(C)}catch(x){console.error(x)}for(let x=1;x<this._characterJoiners.length;x++)try{const R=this._characterJoiners[x].handler(C);for(let M=0;M<R.length;M++)Eu._mergeRanges(y,R[M])}catch(R){console.error(R)}return this._stringRangesToCellRanges(y,w,E),y}_stringRangesToCellRanges(l,v,_){let w=0,E=!1,C=0,y=l[w];if(y){for(let x=_;x<this._bufferService.cols;x++){const R=v.getWidth(x),M=v.getString(x).length||g.WHITESPACE_CELL_CHAR.length;if(R!==0){if(!E&&y[0]<=C&&(y[0]=x,E=!0),y[1]<=C){if(y[1]=x,y=l[++w],!y)break;y[0]<=C?(y[0]=x,E=!0):E=!1}C+=M}}y&&(y[1]=this._bufferService.cols)}}static _mergeRanges(l,v){let _=!1;for(let w=0;w<l.length;w++){const E=l[w];if(_){if(v[1]<=E[0])return l[w-1][1]=v[1],l;if(v[1]<=E[1])return l[w-1][1]=Math.max(v[1],E[1]),l.splice(w,1),l;l.splice(w,1),w--}else{if(v[1]<=E[0])return l.splice(w,0,v),l;if(v[1]<=E[1])return E[0]=Math.min(v[0],E[0]),l;v[0]<E[1]&&(E[0]=Math.min(v[0],E[0]),_=!0)}}return _?l[l.length-1][1]=v[1]:l.push(v),l}};s.CharacterJoinerService=c=a([d(0,S.IBufferService)],c)},5114:(f,s,o)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.CoreBrowserService=void 0;const a=o(844),d=o(8460),u=o(3656);class g extends a.Disposable{constructor(m,c,p){super(),this._textarea=m,this._window=c,this.mainDocument=p,this._isFocused=!1,this._cachedIsFocused=void 0,this._screenDprMonitor=new b(this._window),this._onDprChange=this.register(new d.EventEmitter),this.onDprChange=this._onDprChange.event,this._onWindowChange=this.register(new d.EventEmitter),this.onWindowChange=this._onWindowChange.event,this.register(this.onWindowChange(l=>this._screenDprMonitor.setWindow(l))),this.register((0,d.forwardEvent)(this._screenDprMonitor.onDprChange,this._onDprChange)),this._textarea.addEventListener("focus",()=>this._isFocused=!0),this._textarea.addEventListener("blur",()=>this._isFocused=!1)}get window(){return this._window}set window(m){this._window!==m&&(this._window=m,this._onWindowChange.fire(this._window))}get dpr(){return this.window.devicePixelRatio}get isFocused(){return this._cachedIsFocused===void 0&&(this._cachedIsFocused=this._isFocused&&this._textarea.ownerDocument.hasFocus(),queueMicrotask(()=>this._cachedIsFocused=void 0)),this._cachedIsFocused}}s.CoreBrowserService=g;class b extends a.Disposable{constructor(m){super(),this._parentWindow=m,this._windowResizeListener=this.register(new a.MutableDisposable),this._onDprChange=this.register(new d.EventEmitter),this.onDprChange=this._onDprChange.event,this._outerListener=()=>this._setDprAndFireIfDiffers(),this._currentDevicePixelRatio=this._parentWindow.devicePixelRatio,this._updateDpr(),this._setWindowResizeListener(),this.register((0,a.toDisposable)(()=>this.clearListener()))}setWindow(m){this._parentWindow=m,this._setWindowResizeListener(),this._setDprAndFireIfDiffers()}_setWindowResizeListener(){this._windowResizeListener.value=(0,u.addDisposableDomListener)(this._parentWindow,"resize",()=>this._setDprAndFireIfDiffers())}_setDprAndFireIfDiffers(){this._parentWindow.devicePixelRatio!==this._currentDevicePixelRatio&&this._onDprChange.fire(this._parentWindow.devicePixelRatio),this._updateDpr()}_updateDpr(){this._outerListener&&(this._resolutionMediaMatchList?.removeListener(this._outerListener),this._currentDevicePixelRatio=this._parentWindow.devicePixelRatio,this._resolutionMediaMatchList=this._parentWindow.matchMedia(`screen and (resolution: ${this._parentWindow.devicePixelRatio}dppx)`),this._resolutionMediaMatchList.addListener(this._outerListener))}clearListener(){this._resolutionMediaMatchList&&this._outerListener&&(this._resolutionMediaMatchList.removeListener(this._outerListener),this._resolutionMediaMatchList=void 0,this._outerListener=void 0)}}},779:(f,s,o)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.LinkProviderService=void 0;const a=o(844);class d extends a.Disposable{constructor(){super(),this.linkProviders=[],this.register((0,a.toDisposable)(()=>this.linkProviders.length=0))}registerLinkProvider(g){return this.linkProviders.push(g),{dispose:()=>{const b=this.linkProviders.indexOf(g);b!==-1&&this.linkProviders.splice(b,1)}}}}s.LinkProviderService=d},8934:function(f,s,o){var a=this&&this.__decorate||function(S,m,c,p){var l,v=arguments.length,_=v<3?m:p===null?p=Object.getOwnPropertyDescriptor(m,c):p;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")_=Reflect.decorate(S,m,c,p);else for(var w=S.length-1;w>=0;w--)(l=S[w])&&(_=(v<3?l(_):v>3?l(m,c,_):l(m,c))||_);return v>3&&_&&Object.defineProperty(m,c,_),_},d=this&&this.__param||function(S,m){return function(c,p){m(c,p,S)}};Object.defineProperty(s,"__esModule",{value:!0}),s.MouseService=void 0;const u=o(4725),g=o(9806);let b=s.MouseService=class{constructor(S,m){this._renderService=S,this._charSizeService=m}getCoords(S,m,c,p,l){return(0,g.getCoords)(window,S,m,c,p,this._charSizeService.hasValidSize,this._renderService.dimensions.css.cell.width,this._renderService.dimensions.css.cell.height,l)}getMouseReportCoords(S,m){const c=(0,g.getCoordsRelativeToElement)(window,S,m);if(this._charSizeService.hasValidSize)return c[0]=Math.min(Math.max(c[0],0),this._renderService.dimensions.css.canvas.width-1),c[1]=Math.min(Math.max(c[1],0),this._renderService.dimensions.css.canvas.height-1),{col:Math.floor(c[0]/this._renderService.dimensions.css.cell.width),row:Math.floor(c[1]/this._renderService.dimensions.css.cell.height),x:Math.floor(c[0]),y:Math.floor(c[1])}}};s.MouseService=b=a([d(0,u.IRenderService),d(1,u.ICharSizeService)],b)},3230:function(f,s,o){var a=this&&this.__decorate||function(l,v,_,w){var E,C=arguments.length,y=C<3?v:w===null?w=Object.getOwnPropertyDescriptor(v,_):w;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")y=Reflect.decorate(l,v,_,w);else for(var x=l.length-1;x>=0;x--)(E=l[x])&&(y=(C<3?E(y):C>3?E(v,_,y):E(v,_))||y);return C>3&&y&&Object.defineProperty(v,_,y),y},d=this&&this.__param||function(l,v){return function(_,w){v(_,w,l)}};Object.defineProperty(s,"__esModule",{value:!0}),s.RenderService=void 0;const u=o(6193),g=o(4725),b=o(8460),S=o(844),m=o(7226),c=o(2585);let p=s.RenderService=class extends S.Disposable{get dimensions(){return this._renderer.value.dimensions}constructor(l,v,_,w,E,C,y,x){super(),this._rowCount=l,this._charSizeService=w,this._renderer=this.register(new S.MutableDisposable),this._pausedResizeTask=new m.DebouncedIdleTask,this._observerDisposable=this.register(new S.MutableDisposable),this._isPaused=!1,this._needsFullRefresh=!1,this._isNextRenderRedrawOnly=!0,this._needsSelectionRefresh=!1,this._canvasWidth=0,this._canvasHeight=0,this._selectionState={start:void 0,end:void 0,columnSelectMode:!1},this._onDimensionsChange=this.register(new b.EventEmitter),this.onDimensionsChange=this._onDimensionsChange.event,this._onRenderedViewportChange=this.register(new b.EventEmitter),this.onRenderedViewportChange=this._onRenderedViewportChange.event,this._onRender=this.register(new b.EventEmitter),this.onRender=this._onRender.event,this._onRefreshRequest=this.register(new b.EventEmitter),this.onRefreshRequest=this._onRefreshRequest.event,this._renderDebouncer=new u.RenderDebouncer((R,M)=>this._renderRows(R,M),y),this.register(this._renderDebouncer),this.register(y.onDprChange(()=>this.handleDevicePixelRatioChange())),this.register(C.onResize(()=>this._fullRefresh())),this.register(C.buffers.onBufferActivate(()=>this._renderer.value?.clear())),this.register(_.onOptionChange(()=>this._handleOptionsChanged())),this.register(this._charSizeService.onCharSizeChange(()=>this.handleCharSizeChanged())),this.register(E.onDecorationRegistered(()=>this._fullRefresh())),this.register(E.onDecorationRemoved(()=>this._fullRefresh())),this.register(_.onMultipleOptionChange(["customGlyphs","drawBoldTextInBrightColors","letterSpacing","lineHeight","fontFamily","fontSize","fontWeight","fontWeightBold","minimumContrastRatio","rescaleOverlappingGlyphs"],()=>{this.clear(),this.handleResize(C.cols,C.rows),this._fullRefresh()})),this.register(_.onMultipleOptionChange(["cursorBlink","cursorStyle"],()=>this.refreshRows(C.buffer.y,C.buffer.y,!0))),this.register(x.onChangeColors(()=>this._fullRefresh())),this._registerIntersectionObserver(y.window,v),this.register(y.onWindowChange(R=>this._registerIntersectionObserver(R,v)))}_registerIntersectionObserver(l,v){if("IntersectionObserver"in l){const _=new l.IntersectionObserver(w=>this._handleIntersectionChange(w[w.length-1]),{threshold:0});_.observe(v),this._observerDisposable.value=(0,S.toDisposable)(()=>_.disconnect())}}_handleIntersectionChange(l){this._isPaused=l.isIntersecting===void 0?l.intersectionRatio===0:!l.isIntersecting,this._isPaused||this._charSizeService.hasValidSize||this._charSizeService.measure(),!this._isPaused&&this._needsFullRefresh&&(this._pausedResizeTask.flush(),this.refreshRows(0,this._rowCount-1),this._needsFullRefresh=!1)}refreshRows(l,v,_=!1){this._isPaused?this._needsFullRefresh=!0:(_||(this._isNextRenderRedrawOnly=!1),this._renderDebouncer.refresh(l,v,this._rowCount))}_renderRows(l,v){this._renderer.value&&(l=Math.min(l,this._rowCount-1),v=Math.min(v,this._rowCount-1),this._renderer.value.renderRows(l,v),this._needsSelectionRefresh&&(this._renderer.value.handleSelectionChanged(this._selectionState.start,this._selectionState.end,this._selectionState.columnSelectMode),this._needsSelectionRefresh=!1),this._isNextRenderRedrawOnly||this._onRenderedViewportChange.fire({start:l,end:v}),this._onRender.fire({start:l,end:v}),this._isNextRenderRedrawOnly=!0)}resize(l,v){this._rowCount=v,this._fireOnCanvasResize()}_handleOptionsChanged(){this._renderer.value&&(this.refreshRows(0,this._rowCount-1),this._fireOnCanvasResize())}_fireOnCanvasResize(){this._renderer.value&&(this._renderer.value.dimensions.css.canvas.width===this._canvasWidth&&this._renderer.value.dimensions.css.canvas.height===this._canvasHeight||this._onDimensionsChange.fire(this._renderer.value.dimensions))}hasRenderer(){return!!this._renderer.value}setRenderer(l){this._renderer.value=l,this._renderer.value&&(this._renderer.value.onRequestRedraw(v=>this.refreshRows(v.start,v.end,!0)),this._needsSelectionRefresh=!0,this._fullRefresh())}addRefreshCallback(l){return this._renderDebouncer.addRefreshCallback(l)}_fullRefresh(){this._isPaused?this._needsFullRefresh=!0:this.refreshRows(0,this._rowCount-1)}clearTextureAtlas(){this._renderer.value&&(this._renderer.value.clearTextureAtlas?.(),this._fullRefresh())}handleDevicePixelRatioChange(){this._charSizeService.measure(),this._renderer.value&&(this._renderer.value.handleDevicePixelRatioChange(),this.refreshRows(0,this._rowCount-1))}handleResize(l,v){this._renderer.value&&(this._isPaused?this._pausedResizeTask.set(()=>this._renderer.value?.handleResize(l,v)):this._renderer.value.handleResize(l,v),this._fullRefresh())}handleCharSizeChanged(){this._renderer.value?.handleCharSizeChanged()}handleBlur(){this._renderer.value?.handleBlur()}handleFocus(){this._renderer.value?.handleFocus()}handleSelectionChanged(l,v,_){this._selectionState.start=l,this._selectionState.end=v,this._selectionState.columnSelectMode=_,this._renderer.value?.handleSelectionChanged(l,v,_)}handleCursorMove(){this._renderer.value?.handleCursorMove()}clear(){this._renderer.value?.clear()}};s.RenderService=p=a([d(2,c.IOptionsService),d(3,g.ICharSizeService),d(4,c.IDecorationService),d(5,c.IBufferService),d(6,g.ICoreBrowserService),d(7,g.IThemeService)],p)},9312:function(f,s,o){var a=this&&this.__decorate||function(y,x,R,M){var I,T=arguments.length,B=T<3?x:M===null?M=Object.getOwnPropertyDescriptor(x,R):M;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")B=Reflect.decorate(y,x,R,M);else for(var $=y.length-1;$>=0;$--)(I=y[$])&&(B=(T<3?I(B):T>3?I(x,R,B):I(x,R))||B);return T>3&&B&&Object.defineProperty(x,R,B),B},d=this&&this.__param||function(y,x){return function(R,M){x(R,M,y)}};Object.defineProperty(s,"__esModule",{value:!0}),s.SelectionService=void 0;const u=o(9806),g=o(9504),b=o(456),S=o(4725),m=o(8460),c=o(844),p=o(6114),l=o(4841),v=o(511),_=o(2585),w="",E=new RegExp(w,"g");let C=s.SelectionService=class extends c.Disposable{constructor(y,x,R,M,I,T,B,$,F){super(),this._element=y,this._screenElement=x,this._linkifier=R,this._bufferService=M,this._coreService=I,this._mouseService=T,this._optionsService=B,this._renderService=$,this._coreBrowserService=F,this._dragScrollAmount=0,this._enabled=!0,this._workCell=new v.CellData,this._mouseDownTimeStamp=0,this._oldHasSelection=!1,this._oldSelectionStart=void 0,this._oldSelectionEnd=void 0,this._onLinuxMouseSelection=this.register(new m.EventEmitter),this.onLinuxMouseSelection=this._onLinuxMouseSelection.event,this._onRedrawRequest=this.register(new m.EventEmitter),this.onRequestRedraw=this._onRedrawRequest.event,this._onSelectionChange=this.register(new m.EventEmitter),this.onSelectionChange=this._onSelectionChange.event,this._onRequestScrollLines=this.register(new m.EventEmitter),this.onRequestScrollLines=this._onRequestScrollLines.event,this._mouseMoveListener=z=>this._handleMouseMove(z),this._mouseUpListener=z=>this._handleMouseUp(z),this._coreService.onUserInput(()=>{this.hasSelection&&this.clearSelection()}),this._trimListener=this._bufferService.buffer.lines.onTrim(z=>this._handleTrim(z)),this.register(this._bufferService.buffers.onBufferActivate(z=>this._handleBufferActivate(z))),this.enable(),this._model=new b.SelectionModel(this._bufferService),this._activeSelectionMode=0,this.register((0,c.toDisposable)(()=>{this._removeMouseDownListeners()}))}reset(){this.clearSelection()}disable(){this.clearSelection(),this._enabled=!1}enable(){this._enabled=!0}get selectionStart(){return this._model.finalSelectionStart}get selectionEnd(){return this._model.finalSelectionEnd}get hasSelection(){const y=this._model.finalSelectionStart,x=this._model.finalSelectionEnd;return!(!y||!x||y[0]===x[0]&&y[1]===x[1])}get selectionText(){const y=this._model.finalSelectionStart,x=this._model.finalSelectionEnd;if(!y||!x)return"";const R=this._bufferService.buffer,M=[];if(this._activeSelectionMode===3){if(y[0]===x[0])return"";const I=y[0]<x[0]?y[0]:x[0],T=y[0]<x[0]?x[0]:y[0];for(let B=y[1];B<=x[1];B++){const $=R.translateBufferLineToString(B,!0,I,T);M.push($)}}else{const I=y[1]===x[1]?x[0]:void 0;M.push(R.translateBufferLineToString(y[1],!0,y[0],I));for(let T=y[1]+1;T<=x[1]-1;T++){const B=R.lines.get(T),$=R.translateBufferLineToString(T,!0);B?.isWrapped?M[M.length-1]+=$:M.push($)}if(y[1]!==x[1]){const T=R.lines.get(x[1]),B=R.translateBufferLineToString(x[1],!0,0,x[0]);T&&T.isWrapped?M[M.length-1]+=B:M.push(B)}}return M.map(I=>I.replace(E," ")).join(p.isWindows?`\r
`:`
`)}clearSelection(){this._model.clearSelection(),this._removeMouseDownListeners(),this.refresh(),this._onSelectionChange.fire()}refresh(y){this._refreshAnimationFrame||(this._refreshAnimationFrame=this._coreBrowserService.window.requestAnimationFrame(()=>this._refresh())),p.isLinux&&y&&this.selectionText.length&&this._onLinuxMouseSelection.fire(this.selectionText)}_refresh(){this._refreshAnimationFrame=void 0,this._onRedrawRequest.fire({start:this._model.finalSelectionStart,end:this._model.finalSelectionEnd,columnSelectMode:this._activeSelectionMode===3})}_isClickInSelection(y){const x=this._getMouseBufferCoords(y),R=this._model.finalSelectionStart,M=this._model.finalSelectionEnd;return!!(R&&M&&x)&&this._areCoordsInSelection(x,R,M)}isCellInSelection(y,x){const R=this._model.finalSelectionStart,M=this._model.finalSelectionEnd;return!(!R||!M)&&this._areCoordsInSelection([y,x],R,M)}_areCoordsInSelection(y,x,R){return y[1]>x[1]&&y[1]<R[1]||x[1]===R[1]&&y[1]===x[1]&&y[0]>=x[0]&&y[0]<R[0]||x[1]<R[1]&&y[1]===R[1]&&y[0]<R[0]||x[1]<R[1]&&y[1]===x[1]&&y[0]>=x[0]}_selectWordAtCursor(y,x){const R=this._linkifier.currentLink?.link?.range;if(R)return this._model.selectionStart=[R.start.x-1,R.start.y-1],this._model.selectionStartLength=(0,l.getRangeLength)(R,this._bufferService.cols),this._model.selectionEnd=void 0,!0;const M=this._getMouseBufferCoords(y);return!!M&&(this._selectWordAt(M,x),this._model.selectionEnd=void 0,!0)}selectAll(){this._model.isSelectAllActive=!0,this.refresh(),this._onSelectionChange.fire()}selectLines(y,x){this._model.clearSelection(),y=Math.max(y,0),x=Math.min(x,this._bufferService.buffer.lines.length-1),this._model.selectionStart=[0,y],this._model.selectionEnd=[this._bufferService.cols,x],this.refresh(),this._onSelectionChange.fire()}_handleTrim(y){this._model.handleTrim(y)&&this.refresh()}_getMouseBufferCoords(y){const x=this._mouseService.getCoords(y,this._screenElement,this._bufferService.cols,this._bufferService.rows,!0);if(x)return x[0]--,x[1]--,x[1]+=this._bufferService.buffer.ydisp,x}_getMouseEventScrollAmount(y){let x=(0,u.getCoordsRelativeToElement)(this._coreBrowserService.window,y,this._screenElement)[1];const R=this._renderService.dimensions.css.canvas.height;return x>=0&&x<=R?0:(x>R&&(x-=R),x=Math.min(Math.max(x,-50),50),x/=50,x/Math.abs(x)+Math.round(14*x))}shouldForceSelection(y){return p.isMac?y.altKey&&this._optionsService.rawOptions.macOptionClickForcesSelection:y.shiftKey}handleMouseDown(y){if(this._mouseDownTimeStamp=y.timeStamp,(y.button!==2||!this.hasSelection)&&y.button===0){if(!this._enabled){if(!this.shouldForceSelection(y))return;y.stopPropagation()}y.preventDefault(),this._dragScrollAmount=0,this._enabled&&y.shiftKey?this._handleIncrementalClick(y):y.detail===1?this._handleSingleClick(y):y.detail===2?this._handleDoubleClick(y):y.detail===3&&this._handleTripleClick(y),this._addMouseDownListeners(),this.refresh(!0)}}_addMouseDownListeners(){this._screenElement.ownerDocument&&(this._screenElement.ownerDocument.addEventListener("mousemove",this._mouseMoveListener),this._screenElement.ownerDocument.addEventListener("mouseup",this._mouseUpListener)),this._dragScrollIntervalTimer=this._coreBrowserService.window.setInterval(()=>this._dragScroll(),50)}_removeMouseDownListeners(){this._screenElement.ownerDocument&&(this._screenElement.ownerDocument.removeEventListener("mousemove",this._mouseMoveListener),this._screenElement.ownerDocument.removeEventListener("mouseup",this._mouseUpListener)),this._coreBrowserService.window.clearInterval(this._dragScrollIntervalTimer),this._dragScrollIntervalTimer=void 0}_handleIncrementalClick(y){this._model.selectionStart&&(this._model.selectionEnd=this._getMouseBufferCoords(y))}_handleSingleClick(y){if(this._model.selectionStartLength=0,this._model.isSelectAllActive=!1,this._activeSelectionMode=this.shouldColumnSelect(y)?3:0,this._model.selectionStart=this._getMouseBufferCoords(y),!this._model.selectionStart)return;this._model.selectionEnd=void 0;const x=this._bufferService.buffer.lines.get(this._model.selectionStart[1]);x&&x.length!==this._model.selectionStart[0]&&x.hasWidth(this._model.selectionStart[0])===0&&this._model.selectionStart[0]++}_handleDoubleClick(y){this._selectWordAtCursor(y,!0)&&(this._activeSelectionMode=1)}_handleTripleClick(y){const x=this._getMouseBufferCoords(y);x&&(this._activeSelectionMode=2,this._selectLineAt(x[1]))}shouldColumnSelect(y){return y.altKey&&!(p.isMac&&this._optionsService.rawOptions.macOptionClickForcesSelection)}_handleMouseMove(y){if(y.stopImmediatePropagation(),!this._model.selectionStart)return;const x=this._model.selectionEnd?[this._model.selectionEnd[0],this._model.selectionEnd[1]]:null;if(this._model.selectionEnd=this._getMouseBufferCoords(y),!this._model.selectionEnd)return void this.refresh(!0);this._activeSelectionMode===2?this._model.selectionEnd[1]<this._model.selectionStart[1]?this._model.selectionEnd[0]=0:this._model.selectionEnd[0]=this._bufferService.cols:this._activeSelectionMode===1&&this._selectToWordAt(this._model.selectionEnd),this._dragScrollAmount=this._getMouseEventScrollAmount(y),this._activeSelectionMode!==3&&(this._dragScrollAmount>0?this._model.selectionEnd[0]=this._bufferService.cols:this._dragScrollAmount<0&&(this._model.selectionEnd[0]=0));const R=this._bufferService.buffer;if(this._model.selectionEnd[1]<R.lines.length){const M=R.lines.get(this._model.selectionEnd[1]);M&&M.hasWidth(this._model.selectionEnd[0])===0&&this._model.selectionEnd[0]<this._bufferService.cols&&this._model.selectionEnd[0]++}x&&x[0]===this._model.selectionEnd[0]&&x[1]===this._model.selectionEnd[1]||this.refresh(!0)}_dragScroll(){if(this._model.selectionEnd&&this._model.selectionStart&&this._dragScrollAmount){this._onRequestScrollLines.fire({amount:this._dragScrollAmount,suppressScrollEvent:!1});const y=this._bufferService.buffer;this._dragScrollAmount>0?(this._activeSelectionMode!==3&&(this._model.selectionEnd[0]=this._bufferService.cols),this._model.selectionEnd[1]=Math.min(y.ydisp+this._bufferService.rows,y.lines.length-1)):(this._activeSelectionMode!==3&&(this._model.selectionEnd[0]=0),this._model.selectionEnd[1]=y.ydisp),this.refresh()}}_handleMouseUp(y){const x=y.timeStamp-this._mouseDownTimeStamp;if(this._removeMouseDownListeners(),this.selectionText.length<=1&&x<500&&y.altKey&&this._optionsService.rawOptions.altClickMovesCursor){if(this._bufferService.buffer.ybase===this._bufferService.buffer.ydisp){const R=this._mouseService.getCoords(y,this._element,this._bufferService.cols,this._bufferService.rows,!1);if(R&&R[0]!==void 0&&R[1]!==void 0){const M=(0,g.moveToCellSequence)(R[0]-1,R[1]-1,this._bufferService,this._coreService.decPrivateModes.applicationCursorKeys);this._coreService.triggerDataEvent(M,!0)}}}else this._fireEventIfSelectionChanged()}_fireEventIfSelectionChanged(){const y=this._model.finalSelectionStart,x=this._model.finalSelectionEnd,R=!(!y||!x||y[0]===x[0]&&y[1]===x[1]);R?y&&x&&(this._oldSelectionStart&&this._oldSelectionEnd&&y[0]===this._oldSelectionStart[0]&&y[1]===this._oldSelectionStart[1]&&x[0]===this._oldSelectionEnd[0]&&x[1]===this._oldSelectionEnd[1]||this._fireOnSelectionChange(y,x,R)):this._oldHasSelection&&this._fireOnSelectionChange(y,x,R)}_fireOnSelectionChange(y,x,R){this._oldSelectionStart=y,this._oldSelectionEnd=x,this._oldHasSelection=R,this._onSelectionChange.fire()}_handleBufferActivate(y){this.clearSelection(),this._trimListener.dispose(),this._trimListener=y.activeBuffer.lines.onTrim(x=>this._handleTrim(x))}_convertViewportColToCharacterIndex(y,x){let R=x;for(let M=0;x>=M;M++){const I=y.loadCell(M,this._workCell).getChars().length;this._workCell.getWidth()===0?R--:I>1&&x!==M&&(R+=I-1)}return R}setSelection(y,x,R){this._model.clearSelection(),this._removeMouseDownListeners(),this._model.selectionStart=[y,x],this._model.selectionStartLength=R,this.refresh(),this._fireEventIfSelectionChanged()}rightClickSelect(y){this._isClickInSelection(y)||(this._selectWordAtCursor(y,!1)&&this.refresh(!0),this._fireEventIfSelectionChanged())}_getWordAt(y,x,R=!0,M=!0){if(y[0]>=this._bufferService.cols)return;const I=this._bufferService.buffer,T=I.lines.get(y[1]);if(!T)return;const B=I.translateBufferLineToString(y[1],!1);let $=this._convertViewportColToCharacterIndex(T,y[0]),F=$;const z=y[0]-$;let U=0,A=0,k=0,P=0;if(B.charAt($)===" "){for(;$>0&&B.charAt($-1)===" ";)$--;for(;F<B.length&&B.charAt(F+1)===" ";)F++}else{let j=y[0],K=y[0];T.getWidth(j)===0&&(U++,j--),T.getWidth(K)===2&&(A++,K++);const J=T.getString(K).length;for(J>1&&(P+=J-1,F+=J-1);j>0&&$>0&&!this._isCharWordSeparator(T.loadCell(j-1,this._workCell));){T.loadCell(j-1,this._workCell);const H=this._workCell.getChars().length;this._workCell.getWidth()===0?(U++,j--):H>1&&(k+=H-1,$-=H-1),$--,j--}for(;K<T.length&&F+1<B.length&&!this._isCharWordSeparator(T.loadCell(K+1,this._workCell));){T.loadCell(K+1,this._workCell);const H=this._workCell.getChars().length;this._workCell.getWidth()===2?(A++,K++):H>1&&(P+=H-1,F+=H-1),F++,K++}}F++;let D=$+z-U+k,V=Math.min(this._bufferService.cols,F-$+U+A-k-P);if(x||B.slice($,F).trim()!==""){if(R&&D===0&&T.getCodePoint(0)!==32){const j=I.lines.get(y[1]-1);if(j&&T.isWrapped&&j.getCodePoint(this._bufferService.cols-1)!==32){const K=this._getWordAt([this._bufferService.cols-1,y[1]-1],!1,!0,!1);if(K){const J=this._bufferService.cols-K.start;D-=J,V+=J}}}if(M&&D+V===this._bufferService.cols&&T.getCodePoint(this._bufferService.cols-1)!==32){const j=I.lines.get(y[1]+1);if(j?.isWrapped&&j.getCodePoint(0)!==32){const K=this._getWordAt([0,y[1]+1],!1,!1,!0);K&&(V+=K.length)}}return{start:D,length:V}}}_selectWordAt(y,x){const R=this._getWordAt(y,x);if(R){for(;R.start<0;)R.start+=this._bufferService.cols,y[1]--;this._model.selectionStart=[R.start,y[1]],this._model.selectionStartLength=R.length}}_selectToWordAt(y){const x=this._getWordAt(y,!0);if(x){let R=y[1];for(;x.start<0;)x.start+=this._bufferService.cols,R--;if(!this._model.areSelectionValuesReversed())for(;x.start+x.length>this._bufferService.cols;)x.length-=this._bufferService.cols,R++;this._model.selectionEnd=[this._model.areSelectionValuesReversed()?x.start:x.start+x.length,R]}}_isCharWordSeparator(y){return y.getWidth()!==0&&this._optionsService.rawOptions.wordSeparator.indexOf(y.getChars())>=0}_selectLineAt(y){const x=this._bufferService.buffer.getWrappedRangeForLine(y),R={start:{x:0,y:x.first},end:{x:this._bufferService.cols-1,y:x.last}};this._model.selectionStart=[0,x.first],this._model.selectionEnd=void 0,this._model.selectionStartLength=(0,l.getRangeLength)(R,this._bufferService.cols)}};s.SelectionService=C=a([d(3,_.IBufferService),d(4,_.ICoreService),d(5,S.IMouseService),d(6,_.IOptionsService),d(7,S.IRenderService),d(8,S.ICoreBrowserService)],C)},4725:(f,s,o)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.ILinkProviderService=s.IThemeService=s.ICharacterJoinerService=s.ISelectionService=s.IRenderService=s.IMouseService=s.ICoreBrowserService=s.ICharSizeService=void 0;const a=o(8343);s.ICharSizeService=(0,a.createDecorator)("CharSizeService"),s.ICoreBrowserService=(0,a.createDecorator)("CoreBrowserService"),s.IMouseService=(0,a.createDecorator)("MouseService"),s.IRenderService=(0,a.createDecorator)("RenderService"),s.ISelectionService=(0,a.createDecorator)("SelectionService"),s.ICharacterJoinerService=(0,a.createDecorator)("CharacterJoinerService"),s.IThemeService=(0,a.createDecorator)("ThemeService"),s.ILinkProviderService=(0,a.createDecorator)("LinkProviderService")},6731:function(f,s,o){var a=this&&this.__decorate||function(C,y,x,R){var M,I=arguments.length,T=I<3?y:R===null?R=Object.getOwnPropertyDescriptor(y,x):R;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")T=Reflect.decorate(C,y,x,R);else for(var B=C.length-1;B>=0;B--)(M=C[B])&&(T=(I<3?M(T):I>3?M(y,x,T):M(y,x))||T);return I>3&&T&&Object.defineProperty(y,x,T),T},d=this&&this.__param||function(C,y){return function(x,R){y(x,R,C)}};Object.defineProperty(s,"__esModule",{value:!0}),s.ThemeService=s.DEFAULT_ANSI_COLORS=void 0;const u=o(7239),g=o(8055),b=o(8460),S=o(844),m=o(2585),c=g.css.toColor("#ffffff"),p=g.css.toColor("#000000"),l=g.css.toColor("#ffffff"),v=g.css.toColor("#000000"),_={css:"rgba(255, 255, 255, 0.3)",rgba:4294967117};s.DEFAULT_ANSI_COLORS=Object.freeze((()=>{const C=[g.css.toColor("#2e3436"),g.css.toColor("#cc0000"),g.css.toColor("#4e9a06"),g.css.toColor("#c4a000"),g.css.toColor("#3465a4"),g.css.toColor("#75507b"),g.css.toColor("#06989a"),g.css.toColor("#d3d7cf"),g.css.toColor("#555753"),g.css.toColor("#ef2929"),g.css.toColor("#8ae234"),g.css.toColor("#fce94f"),g.css.toColor("#729fcf"),g.css.toColor("#ad7fa8"),g.css.toColor("#34e2e2"),g.css.toColor("#eeeeec")],y=[0,95,135,175,215,255];for(let x=0;x<216;x++){const R=y[x/36%6|0],M=y[x/6%6|0],I=y[x%6];C.push({css:g.channels.toCss(R,M,I),rgba:g.channels.toRgba(R,M,I)})}for(let x=0;x<24;x++){const R=8+10*x;C.push({css:g.channels.toCss(R,R,R),rgba:g.channels.toRgba(R,R,R)})}return C})());let w=s.ThemeService=class extends S.Disposable{get colors(){return this._colors}constructor(C){super(),this._optionsService=C,this._contrastCache=new u.ColorContrastCache,this._halfContrastCache=new u.ColorContrastCache,this._onChangeColors=this.register(new b.EventEmitter),this.onChangeColors=this._onChangeColors.event,this._colors={foreground:c,background:p,cursor:l,cursorAccent:v,selectionForeground:void 0,selectionBackgroundTransparent:_,selectionBackgroundOpaque:g.color.blend(p,_),selectionInactiveBackgroundTransparent:_,selectionInactiveBackgroundOpaque:g.color.blend(p,_),ansi:s.DEFAULT_ANSI_COLORS.slice(),contrastCache:this._contrastCache,halfContrastCache:this._halfContrastCache},this._updateRestoreColors(),this._setTheme(this._optionsService.rawOptions.theme),this.register(this._optionsService.onSpecificOptionChange("minimumContrastRatio",()=>this._contrastCache.clear())),this.register(this._optionsService.onSpecificOptionChange("theme",()=>this._setTheme(this._optionsService.rawOptions.theme)))}_setTheme(C={}){const y=this._colors;if(y.foreground=E(C.foreground,c),y.background=E(C.background,p),y.cursor=E(C.cursor,l),y.cursorAccent=E(C.cursorAccent,v),y.selectionBackgroundTransparent=E(C.selectionBackground,_),y.selectionBackgroundOpaque=g.color.blend(y.background,y.selectionBackgroundTransparent),y.selectionInactiveBackgroundTransparent=E(C.selectionInactiveBackground,y.selectionBackgroundTransparent),y.selectionInactiveBackgroundOpaque=g.color.blend(y.background,y.selectionInactiveBackgroundTransparent),y.selectionForeground=C.selectionForeground?E(C.selectionForeground,g.NULL_COLOR):void 0,y.selectionForeground===g.NULL_COLOR&&(y.selectionForeground=void 0),g.color.isOpaque(y.selectionBackgroundTransparent)&&(y.selectionBackgroundTransparent=g.color.opacity(y.selectionBackgroundTransparent,.3)),g.color.isOpaque(y.selectionInactiveBackgroundTransparent)&&(y.selectionInactiveBackgroundTransparent=g.color.opacity(y.selectionInactiveBackgroundTransparent,.3)),y.ansi=s.DEFAULT_ANSI_COLORS.slice(),y.ansi[0]=E(C.black,s.DEFAULT_ANSI_COLORS[0]),y.ansi[1]=E(C.red,s.DEFAULT_ANSI_COLORS[1]),y.ansi[2]=E(C.green,s.DEFAULT_ANSI_COLORS[2]),y.ansi[3]=E(C.yellow,s.DEFAULT_ANSI_COLORS[3]),y.ansi[4]=E(C.blue,s.DEFAULT_ANSI_COLORS[4]),y.ansi[5]=E(C.magenta,s.DEFAULT_ANSI_COLORS[5]),y.ansi[6]=E(C.cyan,s.DEFAULT_ANSI_COLORS[6]),y.ansi[7]=E(C.white,s.DEFAULT_ANSI_COLORS[7]),y.ansi[8]=E(C.brightBlack,s.DEFAULT_ANSI_COLORS[8]),y.ansi[9]=E(C.brightRed,s.DEFAULT_ANSI_COLORS[9]),y.ansi[10]=E(C.brightGreen,s.DEFAULT_ANSI_COLORS[10]),y.ansi[11]=E(C.brightYellow,s.DEFAULT_ANSI_COLORS[11]),y.ansi[12]=E(C.brightBlue,s.DEFAULT_ANSI_COLORS[12]),y.ansi[13]=E(C.brightMagenta,s.DEFAULT_ANSI_COLORS[13]),y.ansi[14]=E(C.brightCyan,s.DEFAULT_ANSI_COLORS[14]),y.ansi[15]=E(C.brightWhite,s.DEFAULT_ANSI_COLORS[15]),C.extendedAnsi){const x=Math.min(y.ansi.length-16,C.extendedAnsi.length);for(let R=0;R<x;R++)y.ansi[R+16]=E(C.extendedAnsi[R],s.DEFAULT_ANSI_COLORS[R+16])}this._contrastCache.clear(),this._halfContrastCache.clear(),this._updateRestoreColors(),this._onChangeColors.fire(this.colors)}restoreColor(C){this._restoreColor(C),this._onChangeColors.fire(this.colors)}_restoreColor(C){if(C!==void 0)switch(C){case 256:this._colors.foreground=this._restoreColors.foreground;break;case 257:this._colors.background=this._restoreColors.background;break;case 258:this._colors.cursor=this._restoreColors.cursor;break;default:this._colors.ansi[C]=this._restoreColors.ansi[C]}else for(let y=0;y<this._restoreColors.ansi.length;++y)this._colors.ansi[y]=this._restoreColors.ansi[y]}modifyColors(C){C(this._colors),this._onChangeColors.fire(this.colors)}_updateRestoreColors(){this._restoreColors={foreground:this._colors.foreground,background:this._colors.background,cursor:this._colors.cursor,ansi:this._colors.ansi.slice()}}};function E(C,y){if(C!==void 0)try{return g.css.toColor(C)}catch{}return y}s.ThemeService=w=a([d(0,m.IOptionsService)],w)},6349:(f,s,o)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.CircularList=void 0;const a=o(8460),d=o(844);class u extends d.Disposable{constructor(b){super(),this._maxLength=b,this.onDeleteEmitter=this.register(new a.EventEmitter),this.onDelete=this.onDeleteEmitter.event,this.onInsertEmitter=this.register(new a.EventEmitter),this.onInsert=this.onInsertEmitter.event,this.onTrimEmitter=this.register(new a.EventEmitter),this.onTrim=this.onTrimEmitter.event,this._array=new Array(this._maxLength),this._startIndex=0,this._length=0}get maxLength(){return this._maxLength}set maxLength(b){if(this._maxLength===b)return;const S=new Array(b);for(let m=0;m<Math.min(b,this.length);m++)S[m]=this._array[this._getCyclicIndex(m)];this._array=S,this._maxLength=b,this._startIndex=0}get length(){return this._length}set length(b){if(b>this._length)for(let S=this._length;S<b;S++)this._array[S]=void 0;this._length=b}get(b){return this._array[this._getCyclicIndex(b)]}set(b,S){this._array[this._getCyclicIndex(b)]=S}push(b){this._array[this._getCyclicIndex(this._length)]=b,this._length===this._maxLength?(this._startIndex=++this._startIndex%this._maxLength,this.onTrimEmitter.fire(1)):this._length++}recycle(){if(this._length!==this._maxLength)throw new Error("Can only recycle when the buffer is full");return this._startIndex=++this._startIndex%this._maxLength,this.onTrimEmitter.fire(1),this._array[this._getCyclicIndex(this._length-1)]}get isFull(){return this._length===this._maxLength}pop(){return this._array[this._getCyclicIndex(this._length---1)]}splice(b,S,...m){if(S){for(let c=b;c<this._length-S;c++)this._array[this._getCyclicIndex(c)]=this._array[this._getCyclicIndex(c+S)];this._length-=S,this.onDeleteEmitter.fire({index:b,amount:S})}for(let c=this._length-1;c>=b;c--)this._array[this._getCyclicIndex(c+m.length)]=this._array[this._getCyclicIndex(c)];for(let c=0;c<m.length;c++)this._array[this._getCyclicIndex(b+c)]=m[c];if(m.length&&this.onInsertEmitter.fire({index:b,amount:m.length}),this._length+m.length>this._maxLength){const c=this._length+m.length-this._maxLength;this._startIndex+=c,this._length=this._maxLength,this.onTrimEmitter.fire(c)}else this._length+=m.length}trimStart(b){b>this._length&&(b=this._length),this._startIndex+=b,this._length-=b,this.onTrimEmitter.fire(b)}shiftElements(b,S,m){if(!(S<=0)){if(b<0||b>=this._length)throw new Error("start argument out of range");if(b+m<0)throw new Error("Cannot shift elements in list beyond index 0");if(m>0){for(let p=S-1;p>=0;p--)this.set(b+p+m,this.get(b+p));const c=b+S+m-this._length;if(c>0)for(this._length+=c;this._length>this._maxLength;)this._length--,this._startIndex++,this.onTrimEmitter.fire(1)}else for(let c=0;c<S;c++)this.set(b+c+m,this.get(b+c))}}_getCyclicIndex(b){return(this._startIndex+b)%this._maxLength}}s.CircularList=u},1439:(f,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.clone=void 0,s.clone=function o(a,d=5){if(typeof a!="object")return a;const u=Array.isArray(a)?[]:{};for(const g in a)u[g]=d<=1?a[g]:a[g]&&o(a[g],d-1);return u}},8055:(f,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.contrastRatio=s.toPaddedHex=s.rgba=s.rgb=s.css=s.color=s.channels=s.NULL_COLOR=void 0;let o=0,a=0,d=0,u=0;var g,b,S,m,c;function p(v){const _=v.toString(16);return _.length<2?"0"+_:_}function l(v,_){return v<_?(_+.05)/(v+.05):(v+.05)/(_+.05)}s.NULL_COLOR={css:"#00000000",rgba:0},function(v){v.toCss=function(_,w,E,C){return C!==void 0?`#${p(_)}${p(w)}${p(E)}${p(C)}`:`#${p(_)}${p(w)}${p(E)}`},v.toRgba=function(_,w,E,C=255){return(_<<24|w<<16|E<<8|C)>>>0},v.toColor=function(_,w,E,C){return{css:v.toCss(_,w,E,C),rgba:v.toRgba(_,w,E,C)}}}(g||(s.channels=g={})),function(v){function _(w,E){return u=Math.round(255*E),[o,a,d]=c.toChannels(w.rgba),{css:g.toCss(o,a,d,u),rgba:g.toRgba(o,a,d,u)}}v.blend=function(w,E){if(u=(255&E.rgba)/255,u===1)return{css:E.css,rgba:E.rgba};const C=E.rgba>>24&255,y=E.rgba>>16&255,x=E.rgba>>8&255,R=w.rgba>>24&255,M=w.rgba>>16&255,I=w.rgba>>8&255;return o=R+Math.round((C-R)*u),a=M+Math.round((y-M)*u),d=I+Math.round((x-I)*u),{css:g.toCss(o,a,d),rgba:g.toRgba(o,a,d)}},v.isOpaque=function(w){return(255&w.rgba)==255},v.ensureContrastRatio=function(w,E,C){const y=c.ensureContrastRatio(w.rgba,E.rgba,C);if(y)return g.toColor(y>>24&255,y>>16&255,y>>8&255)},v.opaque=function(w){const E=(255|w.rgba)>>>0;return[o,a,d]=c.toChannels(E),{css:g.toCss(o,a,d),rgba:E}},v.opacity=_,v.multiplyOpacity=function(w,E){return u=255&w.rgba,_(w,u*E/255)},v.toColorRGB=function(w){return[w.rgba>>24&255,w.rgba>>16&255,w.rgba>>8&255]}}(b||(s.color=b={})),function(v){let _,w;try{const E=document.createElement("canvas");E.width=1,E.height=1;const C=E.getContext("2d",{willReadFrequently:!0});C&&(_=C,_.globalCompositeOperation="copy",w=_.createLinearGradient(0,0,1,1))}catch{}v.toColor=function(E){if(E.match(/#[\da-f]{3,8}/i))switch(E.length){case 4:return o=parseInt(E.slice(1,2).repeat(2),16),a=parseInt(E.slice(2,3).repeat(2),16),d=parseInt(E.slice(3,4).repeat(2),16),g.toColor(o,a,d);case 5:return o=parseInt(E.slice(1,2).repeat(2),16),a=parseInt(E.slice(2,3).repeat(2),16),d=parseInt(E.slice(3,4).repeat(2),16),u=parseInt(E.slice(4,5).repeat(2),16),g.toColor(o,a,d,u);case 7:return{css:E,rgba:(parseInt(E.slice(1),16)<<8|255)>>>0};case 9:return{css:E,rgba:parseInt(E.slice(1),16)>>>0}}const C=E.match(/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(,\s*(0|1|\d?\.(\d+))\s*)?\)/);if(C)return o=parseInt(C[1]),a=parseInt(C[2]),d=parseInt(C[3]),u=Math.round(255*(C[5]===void 0?1:parseFloat(C[5]))),g.toColor(o,a,d,u);if(!_||!w)throw new Error("css.toColor: Unsupported css format");if(_.fillStyle=w,_.fillStyle=E,typeof _.fillStyle!="string")throw new Error("css.toColor: Unsupported css format");if(_.fillRect(0,0,1,1),[o,a,d,u]=_.getImageData(0,0,1,1).data,u!==255)throw new Error("css.toColor: Unsupported css format");return{rgba:g.toRgba(o,a,d,u),css:E}}}(S||(s.css=S={})),function(v){function _(w,E,C){const y=w/255,x=E/255,R=C/255;return .2126*(y<=.03928?y/12.92:Math.pow((y+.055)/1.055,2.4))+.7152*(x<=.03928?x/12.92:Math.pow((x+.055)/1.055,2.4))+.0722*(R<=.03928?R/12.92:Math.pow((R+.055)/1.055,2.4))}v.relativeLuminance=function(w){return _(w>>16&255,w>>8&255,255&w)},v.relativeLuminance2=_}(m||(s.rgb=m={})),function(v){function _(E,C,y){const x=E>>24&255,R=E>>16&255,M=E>>8&255;let I=C>>24&255,T=C>>16&255,B=C>>8&255,$=l(m.relativeLuminance2(I,T,B),m.relativeLuminance2(x,R,M));for(;$<y&&(I>0||T>0||B>0);)I-=Math.max(0,Math.ceil(.1*I)),T-=Math.max(0,Math.ceil(.1*T)),B-=Math.max(0,Math.ceil(.1*B)),$=l(m.relativeLuminance2(I,T,B),m.relativeLuminance2(x,R,M));return(I<<24|T<<16|B<<8|255)>>>0}function w(E,C,y){const x=E>>24&255,R=E>>16&255,M=E>>8&255;let I=C>>24&255,T=C>>16&255,B=C>>8&255,$=l(m.relativeLuminance2(I,T,B),m.relativeLuminance2(x,R,M));for(;$<y&&(I<255||T<255||B<255);)I=Math.min(255,I+Math.ceil(.1*(255-I))),T=Math.min(255,T+Math.ceil(.1*(255-T))),B=Math.min(255,B+Math.ceil(.1*(255-B))),$=l(m.relativeLuminance2(I,T,B),m.relativeLuminance2(x,R,M));return(I<<24|T<<16|B<<8|255)>>>0}v.blend=function(E,C){if(u=(255&C)/255,u===1)return C;const y=C>>24&255,x=C>>16&255,R=C>>8&255,M=E>>24&255,I=E>>16&255,T=E>>8&255;return o=M+Math.round((y-M)*u),a=I+Math.round((x-I)*u),d=T+Math.round((R-T)*u),g.toRgba(o,a,d)},v.ensureContrastRatio=function(E,C,y){const x=m.relativeLuminance(E>>8),R=m.relativeLuminance(C>>8);if(l(x,R)<y){if(R<x){const T=_(E,C,y),B=l(x,m.relativeLuminance(T>>8));if(B<y){const $=w(E,C,y);return B>l(x,m.relativeLuminance($>>8))?T:$}return T}const M=w(E,C,y),I=l(x,m.relativeLuminance(M>>8));if(I<y){const T=_(E,C,y);return I>l(x,m.relativeLuminance(T>>8))?M:T}return M}},v.reduceLuminance=_,v.increaseLuminance=w,v.toChannels=function(E){return[E>>24&255,E>>16&255,E>>8&255,255&E]}}(c||(s.rgba=c={})),s.toPaddedHex=p,s.contrastRatio=l},8969:(f,s,o)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.CoreTerminal=void 0;const a=o(844),d=o(2585),u=o(4348),g=o(7866),b=o(744),S=o(7302),m=o(6975),c=o(8460),p=o(1753),l=o(1480),v=o(7994),_=o(9282),w=o(5435),E=o(5981),C=o(2660);let y=!1;class x extends a.Disposable{get onScroll(){return this._onScrollApi||(this._onScrollApi=this.register(new c.EventEmitter),this._onScroll.event(M=>{this._onScrollApi?.fire(M.position)})),this._onScrollApi.event}get cols(){return this._bufferService.cols}get rows(){return this._bufferService.rows}get buffers(){return this._bufferService.buffers}get options(){return this.optionsService.options}set options(M){for(const I in M)this.optionsService.options[I]=M[I]}constructor(M){super(),this._windowsWrappingHeuristics=this.register(new a.MutableDisposable),this._onBinary=this.register(new c.EventEmitter),this.onBinary=this._onBinary.event,this._onData=this.register(new c.EventEmitter),this.onData=this._onData.event,this._onLineFeed=this.register(new c.EventEmitter),this.onLineFeed=this._onLineFeed.event,this._onResize=this.register(new c.EventEmitter),this.onResize=this._onResize.event,this._onWriteParsed=this.register(new c.EventEmitter),this.onWriteParsed=this._onWriteParsed.event,this._onScroll=this.register(new c.EventEmitter),this._instantiationService=new u.InstantiationService,this.optionsService=this.register(new S.OptionsService(M)),this._instantiationService.setService(d.IOptionsService,this.optionsService),this._bufferService=this.register(this._instantiationService.createInstance(b.BufferService)),this._instantiationService.setService(d.IBufferService,this._bufferService),this._logService=this.register(this._instantiationService.createInstance(g.LogService)),this._instantiationService.setService(d.ILogService,this._logService),this.coreService=this.register(this._instantiationService.createInstance(m.CoreService)),this._instantiationService.setService(d.ICoreService,this.coreService),this.coreMouseService=this.register(this._instantiationService.createInstance(p.CoreMouseService)),this._instantiationService.setService(d.ICoreMouseService,this.coreMouseService),this.unicodeService=this.register(this._instantiationService.createInstance(l.UnicodeService)),this._instantiationService.setService(d.IUnicodeService,this.unicodeService),this._charsetService=this._instantiationService.createInstance(v.CharsetService),this._instantiationService.setService(d.ICharsetService,this._charsetService),this._oscLinkService=this._instantiationService.createInstance(C.OscLinkService),this._instantiationService.setService(d.IOscLinkService,this._oscLinkService),this._inputHandler=this.register(new w.InputHandler(this._bufferService,this._charsetService,this.coreService,this._logService,this.optionsService,this._oscLinkService,this.coreMouseService,this.unicodeService)),this.register((0,c.forwardEvent)(this._inputHandler.onLineFeed,this._onLineFeed)),this.register(this._inputHandler),this.register((0,c.forwardEvent)(this._bufferService.onResize,this._onResize)),this.register((0,c.forwardEvent)(this.coreService.onData,this._onData)),this.register((0,c.forwardEvent)(this.coreService.onBinary,this._onBinary)),this.register(this.coreService.onRequestScrollToBottom(()=>this.scrollToBottom())),this.register(this.coreService.onUserInput(()=>this._writeBuffer.handleUserInput())),this.register(this.optionsService.onMultipleOptionChange(["windowsMode","windowsPty"],()=>this._handleWindowsPtyOptionChange())),this.register(this._bufferService.onScroll(I=>{this._onScroll.fire({position:this._bufferService.buffer.ydisp,source:0}),this._inputHandler.markRangeDirty(this._bufferService.buffer.scrollTop,this._bufferService.buffer.scrollBottom)})),this.register(this._inputHandler.onScroll(I=>{this._onScroll.fire({position:this._bufferService.buffer.ydisp,source:0}),this._inputHandler.markRangeDirty(this._bufferService.buffer.scrollTop,this._bufferService.buffer.scrollBottom)})),this._writeBuffer=this.register(new E.WriteBuffer((I,T)=>this._inputHandler.parse(I,T))),this.register((0,c.forwardEvent)(this._writeBuffer.onWriteParsed,this._onWriteParsed))}write(M,I){this._writeBuffer.write(M,I)}writeSync(M,I){this._logService.logLevel<=d.LogLevelEnum.WARN&&!y&&(this._logService.warn("writeSync is unreliable and will be removed soon."),y=!0),this._writeBuffer.writeSync(M,I)}input(M,I=!0){this.coreService.triggerDataEvent(M,I)}resize(M,I){isNaN(M)||isNaN(I)||(M=Math.max(M,b.MINIMUM_COLS),I=Math.max(I,b.MINIMUM_ROWS),this._bufferService.resize(M,I))}scroll(M,I=!1){this._bufferService.scroll(M,I)}scrollLines(M,I,T){this._bufferService.scrollLines(M,I,T)}scrollPages(M){this.scrollLines(M*(this.rows-1))}scrollToTop(){this.scrollLines(-this._bufferService.buffer.ydisp)}scrollToBottom(){this.scrollLines(this._bufferService.buffer.ybase-this._bufferService.buffer.ydisp)}scrollToLine(M){const I=M-this._bufferService.buffer.ydisp;I!==0&&this.scrollLines(I)}registerEscHandler(M,I){return this._inputHandler.registerEscHandler(M,I)}registerDcsHandler(M,I){return this._inputHandler.registerDcsHandler(M,I)}registerCsiHandler(M,I){return this._inputHandler.registerCsiHandler(M,I)}registerOscHandler(M,I){return this._inputHandler.registerOscHandler(M,I)}_setup(){this._handleWindowsPtyOptionChange()}reset(){this._inputHandler.reset(),this._bufferService.reset(),this._charsetService.reset(),this.coreService.reset(),this.coreMouseService.reset()}_handleWindowsPtyOptionChange(){let M=!1;const I=this.optionsService.rawOptions.windowsPty;I&&I.buildNumber!==void 0&&I.buildNumber!==void 0?M=I.backend==="conpty"&&I.buildNumber<21376:this.optionsService.rawOptions.windowsMode&&(M=!0),M?this._enableWindowsWrappingHeuristics():this._windowsWrappingHeuristics.clear()}_enableWindowsWrappingHeuristics(){if(!this._windowsWrappingHeuristics.value){const M=[];M.push(this.onLineFeed(_.updateWindowsModeWrappedState.bind(null,this._bufferService))),M.push(this.registerCsiHandler({final:"H"},()=>((0,_.updateWindowsModeWrappedState)(this._bufferService),!1))),this._windowsWrappingHeuristics.value=(0,a.toDisposable)(()=>{for(const I of M)I.dispose()})}}}s.CoreTerminal=x},8460:(f,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.runAndSubscribe=s.forwardEvent=s.EventEmitter=void 0,s.EventEmitter=class{constructor(){this._listeners=[],this._disposed=!1}get event(){return this._event||(this._event=o=>(this._listeners.push(o),{dispose:()=>{if(!this._disposed){for(let a=0;a<this._listeners.length;a++)if(this._listeners[a]===o)return void this._listeners.splice(a,1)}}})),this._event}fire(o,a){const d=[];for(let u=0;u<this._listeners.length;u++)d.push(this._listeners[u]);for(let u=0;u<d.length;u++)d[u].call(void 0,o,a)}dispose(){this.clearListeners(),this._disposed=!0}clearListeners(){this._listeners&&(this._listeners.length=0)}},s.forwardEvent=function(o,a){return o(d=>a.fire(d))},s.runAndSubscribe=function(o,a){return a(void 0),o(d=>a(d))}},5435:function(f,s,o){var a=this&&this.__decorate||function(U,A,k,P){var D,V=arguments.length,j=V<3?A:P===null?P=Object.getOwnPropertyDescriptor(A,k):P;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")j=Reflect.decorate(U,A,k,P);else for(var K=U.length-1;K>=0;K--)(D=U[K])&&(j=(V<3?D(j):V>3?D(A,k,j):D(A,k))||j);return V>3&&j&&Object.defineProperty(A,k,j),j},d=this&&this.__param||function(U,A){return function(k,P){A(k,P,U)}};Object.defineProperty(s,"__esModule",{value:!0}),s.InputHandler=s.WindowsOptionsReportType=void 0;const u=o(2584),g=o(7116),b=o(2015),S=o(844),m=o(482),c=o(8437),p=o(8460),l=o(643),v=o(511),_=o(3734),w=o(2585),E=o(1480),C=o(6242),y=o(6351),x=o(5941),R={"(":0,")":1,"*":2,"+":3,"-":1,".":2},M=131072;function I(U,A){if(U>24)return A.setWinLines||!1;switch(U){case 1:return!!A.restoreWin;case 2:return!!A.minimizeWin;case 3:return!!A.setWinPosition;case 4:return!!A.setWinSizePixels;case 5:return!!A.raiseWin;case 6:return!!A.lowerWin;case 7:return!!A.refreshWin;case 8:return!!A.setWinSizeChars;case 9:return!!A.maximizeWin;case 10:return!!A.fullscreenWin;case 11:return!!A.getWinState;case 13:return!!A.getWinPosition;case 14:return!!A.getWinSizePixels;case 15:return!!A.getScreenSizePixels;case 16:return!!A.getCellSizePixels;case 18:return!!A.getWinSizeChars;case 19:return!!A.getScreenSizeChars;case 20:return!!A.getIconTitle;case 21:return!!A.getWinTitle;case 22:return!!A.pushTitle;case 23:return!!A.popTitle;case 24:return!!A.setWinLines}return!1}var T;(function(U){U[U.GET_WIN_SIZE_PIXELS=0]="GET_WIN_SIZE_PIXELS",U[U.GET_CELL_SIZE_PIXELS=1]="GET_CELL_SIZE_PIXELS"})(T||(s.WindowsOptionsReportType=T={}));let B=0;class $ extends S.Disposable{getAttrData(){return this._curAttrData}constructor(A,k,P,D,V,j,K,J,H=new b.EscapeSequenceParser){super(),this._bufferService=A,this._charsetService=k,this._coreService=P,this._logService=D,this._optionsService=V,this._oscLinkService=j,this._coreMouseService=K,this._unicodeService=J,this._parser=H,this._parseBuffer=new Uint32Array(4096),this._stringDecoder=new m.StringToUtf32,this._utf8Decoder=new m.Utf8ToUtf32,this._workCell=new v.CellData,this._windowTitle="",this._iconName="",this._windowTitleStack=[],this._iconNameStack=[],this._curAttrData=c.DEFAULT_ATTR_DATA.clone(),this._eraseAttrDataInternal=c.DEFAULT_ATTR_DATA.clone(),this._onRequestBell=this.register(new p.EventEmitter),this.onRequestBell=this._onRequestBell.event,this._onRequestRefreshRows=this.register(new p.EventEmitter),this.onRequestRefreshRows=this._onRequestRefreshRows.event,this._onRequestReset=this.register(new p.EventEmitter),this.onRequestReset=this._onRequestReset.event,this._onRequestSendFocus=this.register(new p.EventEmitter),this.onRequestSendFocus=this._onRequestSendFocus.event,this._onRequestSyncScrollBar=this.register(new p.EventEmitter),this.onRequestSyncScrollBar=this._onRequestSyncScrollBar.event,this._onRequestWindowsOptionsReport=this.register(new p.EventEmitter),this.onRequestWindowsOptionsReport=this._onRequestWindowsOptionsReport.event,this._onA11yChar=this.register(new p.EventEmitter),this.onA11yChar=this._onA11yChar.event,this._onA11yTab=this.register(new p.EventEmitter),this.onA11yTab=this._onA11yTab.event,this._onCursorMove=this.register(new p.EventEmitter),this.onCursorMove=this._onCursorMove.event,this._onLineFeed=this.register(new p.EventEmitter),this.onLineFeed=this._onLineFeed.event,this._onScroll=this.register(new p.EventEmitter),this.onScroll=this._onScroll.event,this._onTitleChange=this.register(new p.EventEmitter),this.onTitleChange=this._onTitleChange.event,this._onColor=this.register(new p.EventEmitter),this.onColor=this._onColor.event,this._parseStack={paused:!1,cursorStartX:0,cursorStartY:0,decodedLength:0,position:0},this._specialColors=[256,257,258],this.register(this._parser),this._dirtyRowTracker=new F(this._bufferService),this._activeBuffer=this._bufferService.buffer,this.register(this._bufferService.buffers.onBufferActivate(L=>this._activeBuffer=L.activeBuffer)),this._parser.setCsiHandlerFallback((L,W)=>{this._logService.debug("Unknown CSI code: ",{identifier:this._parser.identToString(L),params:W.toArray()})}),this._parser.setEscHandlerFallback(L=>{this._logService.debug("Unknown ESC code: ",{identifier:this._parser.identToString(L)})}),this._parser.setExecuteHandlerFallback(L=>{this._logService.debug("Unknown EXECUTE code: ",{code:L})}),this._parser.setOscHandlerFallback((L,W,G)=>{this._logService.debug("Unknown OSC code: ",{identifier:L,action:W,data:G})}),this._parser.setDcsHandlerFallback((L,W,G)=>{W==="HOOK"&&(G=G.toArray()),this._logService.debug("Unknown DCS code: ",{identifier:this._parser.identToString(L),action:W,payload:G})}),this._parser.setPrintHandler((L,W,G)=>this.print(L,W,G)),this._parser.registerCsiHandler({final:"@"},L=>this.insertChars(L)),this._parser.registerCsiHandler({intermediates:" ",final:"@"},L=>this.scrollLeft(L)),this._parser.registerCsiHandler({final:"A"},L=>this.cursorUp(L)),this._parser.registerCsiHandler({intermediates:" ",final:"A"},L=>this.scrollRight(L)),this._parser.registerCsiHandler({final:"B"},L=>this.cursorDown(L)),this._parser.registerCsiHandler({final:"C"},L=>this.cursorForward(L)),this._parser.registerCsiHandler({final:"D"},L=>this.cursorBackward(L)),this._parser.registerCsiHandler({final:"E"},L=>this.cursorNextLine(L)),this._parser.registerCsiHandler({final:"F"},L=>this.cursorPrecedingLine(L)),this._parser.registerCsiHandler({final:"G"},L=>this.cursorCharAbsolute(L)),this._parser.registerCsiHandler({final:"H"},L=>this.cursorPosition(L)),this._parser.registerCsiHandler({final:"I"},L=>this.cursorForwardTab(L)),this._parser.registerCsiHandler({final:"J"},L=>this.eraseInDisplay(L,!1)),this._parser.registerCsiHandler({prefix:"?",final:"J"},L=>this.eraseInDisplay(L,!0)),this._parser.registerCsiHandler({final:"K"},L=>this.eraseInLine(L,!1)),this._parser.registerCsiHandler({prefix:"?",final:"K"},L=>this.eraseInLine(L,!0)),this._parser.registerCsiHandler({final:"L"},L=>this.insertLines(L)),this._parser.registerCsiHandler({final:"M"},L=>this.deleteLines(L)),this._parser.registerCsiHandler({final:"P"},L=>this.deleteChars(L)),this._parser.registerCsiHandler({final:"S"},L=>this.scrollUp(L)),this._parser.registerCsiHandler({final:"T"},L=>this.scrollDown(L)),this._parser.registerCsiHandler({final:"X"},L=>this.eraseChars(L)),this._parser.registerCsiHandler({final:"Z"},L=>this.cursorBackwardTab(L)),this._parser.registerCsiHandler({final:"`"},L=>this.charPosAbsolute(L)),this._parser.registerCsiHandler({final:"a"},L=>this.hPositionRelative(L)),this._parser.registerCsiHandler({final:"b"},L=>this.repeatPrecedingCharacter(L)),this._parser.registerCsiHandler({final:"c"},L=>this.sendDeviceAttributesPrimary(L)),this._parser.registerCsiHandler({prefix:">",final:"c"},L=>this.sendDeviceAttributesSecondary(L)),this._parser.registerCsiHandler({final:"d"},L=>this.linePosAbsolute(L)),this._parser.registerCsiHandler({final:"e"},L=>this.vPositionRelative(L)),this._parser.registerCsiHandler({final:"f"},L=>this.hVPosition(L)),this._parser.registerCsiHandler({final:"g"},L=>this.tabClear(L)),this._parser.registerCsiHandler({final:"h"},L=>this.setMode(L)),this._parser.registerCsiHandler({prefix:"?",final:"h"},L=>this.setModePrivate(L)),this._parser.registerCsiHandler({final:"l"},L=>this.resetMode(L)),this._parser.registerCsiHandler({prefix:"?",final:"l"},L=>this.resetModePrivate(L)),this._parser.registerCsiHandler({final:"m"},L=>this.charAttributes(L)),this._parser.registerCsiHandler({final:"n"},L=>this.deviceStatus(L)),this._parser.registerCsiHandler({prefix:"?",final:"n"},L=>this.deviceStatusPrivate(L)),this._parser.registerCsiHandler({intermediates:"!",final:"p"},L=>this.softReset(L)),this._parser.registerCsiHandler({intermediates:" ",final:"q"},L=>this.setCursorStyle(L)),this._parser.registerCsiHandler({final:"r"},L=>this.setScrollRegion(L)),this._parser.registerCsiHandler({final:"s"},L=>this.saveCursor(L)),this._parser.registerCsiHandler({final:"t"},L=>this.windowOptions(L)),this._parser.registerCsiHandler({final:"u"},L=>this.restoreCursor(L)),this._parser.registerCsiHandler({intermediates:"'",final:"}"},L=>this.insertColumns(L)),this._parser.registerCsiHandler({intermediates:"'",final:"~"},L=>this.deleteColumns(L)),this._parser.registerCsiHandler({intermediates:'"',final:"q"},L=>this.selectProtected(L)),this._parser.registerCsiHandler({intermediates:"$",final:"p"},L=>this.requestMode(L,!0)),this._parser.registerCsiHandler({prefix:"?",intermediates:"$",final:"p"},L=>this.requestMode(L,!1)),this._parser.setExecuteHandler(u.C0.BEL,()=>this.bell()),this._parser.setExecuteHandler(u.C0.LF,()=>this.lineFeed()),this._parser.setExecuteHandler(u.C0.VT,()=>this.lineFeed()),this._parser.setExecuteHandler(u.C0.FF,()=>this.lineFeed()),this._parser.setExecuteHandler(u.C0.CR,()=>this.carriageReturn()),this._parser.setExecuteHandler(u.C0.BS,()=>this.backspace()),this._parser.setExecuteHandler(u.C0.HT,()=>this.tab()),this._parser.setExecuteHandler(u.C0.SO,()=>this.shiftOut()),this._parser.setExecuteHandler(u.C0.SI,()=>this.shiftIn()),this._parser.setExecuteHandler(u.C1.IND,()=>this.index()),this._parser.setExecuteHandler(u.C1.NEL,()=>this.nextLine()),this._parser.setExecuteHandler(u.C1.HTS,()=>this.tabSet()),this._parser.registerOscHandler(0,new C.OscHandler(L=>(this.setTitle(L),this.setIconName(L),!0))),this._parser.registerOscHandler(1,new C.OscHandler(L=>this.setIconName(L))),this._parser.registerOscHandler(2,new C.OscHandler(L=>this.setTitle(L))),this._parser.registerOscHandler(4,new C.OscHandler(L=>this.setOrReportIndexedColor(L))),this._parser.registerOscHandler(8,new C.OscHandler(L=>this.setHyperlink(L))),this._parser.registerOscHandler(10,new C.OscHandler(L=>this.setOrReportFgColor(L))),this._parser.registerOscHandler(11,new C.OscHandler(L=>this.setOrReportBgColor(L))),this._parser.registerOscHandler(12,new C.OscHandler(L=>this.setOrReportCursorColor(L))),this._parser.registerOscHandler(104,new C.OscHandler(L=>this.restoreIndexedColor(L))),this._parser.registerOscHandler(110,new C.OscHandler(L=>this.restoreFgColor(L))),this._parser.registerOscHandler(111,new C.OscHandler(L=>this.restoreBgColor(L))),this._parser.registerOscHandler(112,new C.OscHandler(L=>this.restoreCursorColor(L))),this._parser.registerEscHandler({final:"7"},()=>this.saveCursor()),this._parser.registerEscHandler({final:"8"},()=>this.restoreCursor()),this._parser.registerEscHandler({final:"D"},()=>this.index()),this._parser.registerEscHandler({final:"E"},()=>this.nextLine()),this._parser.registerEscHandler({final:"H"},()=>this.tabSet()),this._parser.registerEscHandler({final:"M"},()=>this.reverseIndex()),this._parser.registerEscHandler({final:"="},()=>this.keypadApplicationMode()),this._parser.registerEscHandler({final:">"},()=>this.keypadNumericMode()),this._parser.registerEscHandler({final:"c"},()=>this.fullReset()),this._parser.registerEscHandler({final:"n"},()=>this.setgLevel(2)),this._parser.registerEscHandler({final:"o"},()=>this.setgLevel(3)),this._parser.registerEscHandler({final:"|"},()=>this.setgLevel(3)),this._parser.registerEscHandler({final:"}"},()=>this.setgLevel(2)),this._parser.registerEscHandler({final:"~"},()=>this.setgLevel(1)),this._parser.registerEscHandler({intermediates:"%",final:"@"},()=>this.selectDefaultCharset()),this._parser.registerEscHandler({intermediates:"%",final:"G"},()=>this.selectDefaultCharset());for(const L in g.CHARSETS)this._parser.registerEscHandler({intermediates:"(",final:L},()=>this.selectCharset("("+L)),this._parser.registerEscHandler({intermediates:")",final:L},()=>this.selectCharset(")"+L)),this._parser.registerEscHandler({intermediates:"*",final:L},()=>this.selectCharset("*"+L)),this._parser.registerEscHandler({intermediates:"+",final:L},()=>this.selectCharset("+"+L)),this._parser.registerEscHandler({intermediates:"-",final:L},()=>this.selectCharset("-"+L)),this._parser.registerEscHandler({intermediates:".",final:L},()=>this.selectCharset("."+L)),this._parser.registerEscHandler({intermediates:"/",final:L},()=>this.selectCharset("/"+L));this._parser.registerEscHandler({intermediates:"#",final:"8"},()=>this.screenAlignmentPattern()),this._parser.setErrorHandler(L=>(this._logService.error("Parsing error: ",L),L)),this._parser.registerDcsHandler({intermediates:"$",final:"q"},new y.DcsHandler((L,W)=>this.requestStatusString(L,W)))}_preserveStack(A,k,P,D){this._parseStack.paused=!0,this._parseStack.cursorStartX=A,this._parseStack.cursorStartY=k,this._parseStack.decodedLength=P,this._parseStack.position=D}_logSlowResolvingAsync(A){this._logService.logLevel<=w.LogLevelEnum.WARN&&Promise.race([A,new Promise((k,P)=>setTimeout(()=>P("#SLOW_TIMEOUT"),5e3))]).catch(k=>{if(k!=="#SLOW_TIMEOUT")throw k;console.warn("async parser handler taking longer than 5000 ms")})}_getCurrentLinkId(){return this._curAttrData.extended.urlId}parse(A,k){let P,D=this._activeBuffer.x,V=this._activeBuffer.y,j=0;const K=this._parseStack.paused;if(K){if(P=this._parser.parse(this._parseBuffer,this._parseStack.decodedLength,k))return this._logSlowResolvingAsync(P),P;D=this._parseStack.cursorStartX,V=this._parseStack.cursorStartY,this._parseStack.paused=!1,A.length>M&&(j=this._parseStack.position+M)}if(this._logService.logLevel<=w.LogLevelEnum.DEBUG&&this._logService.debug("parsing data"+(typeof A=="string"?` "${A}"`:` "${Array.prototype.map.call(A,L=>String.fromCharCode(L)).join("")}"`),typeof A=="string"?A.split("").map(L=>L.charCodeAt(0)):A),this._parseBuffer.length<A.length&&this._parseBuffer.length<M&&(this._parseBuffer=new Uint32Array(Math.min(A.length,M))),K||this._dirtyRowTracker.clearRange(),A.length>M)for(let L=j;L<A.length;L+=M){const W=L+M<A.length?L+M:A.length,G=typeof A=="string"?this._stringDecoder.decode(A.substring(L,W),this._parseBuffer):this._utf8Decoder.decode(A.subarray(L,W),this._parseBuffer);if(P=this._parser.parse(this._parseBuffer,G))return this._preserveStack(D,V,G,L),this._logSlowResolvingAsync(P),P}else if(!K){const L=typeof A=="string"?this._stringDecoder.decode(A,this._parseBuffer):this._utf8Decoder.decode(A,this._parseBuffer);if(P=this._parser.parse(this._parseBuffer,L))return this._preserveStack(D,V,L,0),this._logSlowResolvingAsync(P),P}this._activeBuffer.x===D&&this._activeBuffer.y===V||this._onCursorMove.fire();const J=this._dirtyRowTracker.end+(this._bufferService.buffer.ybase-this._bufferService.buffer.ydisp),H=this._dirtyRowTracker.start+(this._bufferService.buffer.ybase-this._bufferService.buffer.ydisp);H<this._bufferService.rows&&this._onRequestRefreshRows.fire(Math.min(H,this._bufferService.rows-1),Math.min(J,this._bufferService.rows-1))}print(A,k,P){let D,V;const j=this._charsetService.charset,K=this._optionsService.rawOptions.screenReaderMode,J=this._bufferService.cols,H=this._coreService.decPrivateModes.wraparound,L=this._coreService.modes.insertMode,W=this._curAttrData;let G=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._activeBuffer.x&&P-k>0&&G.getWidth(this._activeBuffer.x-1)===2&&G.setCellFromCodepoint(this._activeBuffer.x-1,0,1,W);let Z=this._parser.precedingJoinState;for(let Q=k;Q<P;++Q){if(D=A[Q],D<127&&j){const oe=j[String.fromCharCode(D)];oe&&(D=oe.charCodeAt(0))}const se=this._unicodeService.charProperties(D,Z);V=E.UnicodeService.extractWidth(se);const fe=E.UnicodeService.extractShouldJoin(se),de=fe?E.UnicodeService.extractWidth(Z):0;if(Z=se,K&&this._onA11yChar.fire((0,m.stringFromCodePoint)(D)),this._getCurrentLinkId()&&this._oscLinkService.addLineToLink(this._getCurrentLinkId(),this._activeBuffer.ybase+this._activeBuffer.y),this._activeBuffer.x+V-de>J){if(H){const oe=G;let re=this._activeBuffer.x-de;for(this._activeBuffer.x=de,this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData(),!0)):(this._activeBuffer.y>=this._bufferService.rows&&(this._activeBuffer.y=this._bufferService.rows-1),this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!0),G=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y),de>0&&G instanceof c.BufferLine&&G.copyCellsFrom(oe,re,0,de,!1);re<J;)oe.setCellFromCodepoint(re++,0,1,W)}else if(this._activeBuffer.x=J-1,V===2)continue}if(fe&&this._activeBuffer.x){const oe=G.getWidth(this._activeBuffer.x-1)?1:2;G.addCodepointToCell(this._activeBuffer.x-oe,D,V);for(let re=V-de;--re>=0;)G.setCellFromCodepoint(this._activeBuffer.x++,0,0,W)}else if(L&&(G.insertCells(this._activeBuffer.x,V-de,this._activeBuffer.getNullCell(W)),G.getWidth(J-1)===2&&G.setCellFromCodepoint(J-1,l.NULL_CELL_CODE,l.NULL_CELL_WIDTH,W)),G.setCellFromCodepoint(this._activeBuffer.x++,D,V,W),V>0)for(;--V;)G.setCellFromCodepoint(this._activeBuffer.x++,0,0,W)}this._parser.precedingJoinState=Z,this._activeBuffer.x<J&&P-k>0&&G.getWidth(this._activeBuffer.x)===0&&!G.hasContent(this._activeBuffer.x)&&G.setCellFromCodepoint(this._activeBuffer.x,0,1,W),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}registerCsiHandler(A,k){return A.final!=="t"||A.prefix||A.intermediates?this._parser.registerCsiHandler(A,k):this._parser.registerCsiHandler(A,P=>!I(P.params[0],this._optionsService.rawOptions.windowOptions)||k(P))}registerDcsHandler(A,k){return this._parser.registerDcsHandler(A,new y.DcsHandler(k))}registerEscHandler(A,k){return this._parser.registerEscHandler(A,k)}registerOscHandler(A,k){return this._parser.registerOscHandler(A,new C.OscHandler(k))}bell(){return this._onRequestBell.fire(),!0}lineFeed(){return this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._optionsService.rawOptions.convertEol&&(this._activeBuffer.x=0),this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData())):this._activeBuffer.y>=this._bufferService.rows?this._activeBuffer.y=this._bufferService.rows-1:this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!1,this._activeBuffer.x>=this._bufferService.cols&&this._activeBuffer.x--,this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._onLineFeed.fire(),!0}carriageReturn(){return this._activeBuffer.x=0,!0}backspace(){if(!this._coreService.decPrivateModes.reverseWraparound)return this._restrictCursor(),this._activeBuffer.x>0&&this._activeBuffer.x--,!0;if(this._restrictCursor(this._bufferService.cols),this._activeBuffer.x>0)this._activeBuffer.x--;else if(this._activeBuffer.x===0&&this._activeBuffer.y>this._activeBuffer.scrollTop&&this._activeBuffer.y<=this._activeBuffer.scrollBottom&&this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y)?.isWrapped){this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!1,this._activeBuffer.y--,this._activeBuffer.x=this._bufferService.cols-1;const A=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);A.hasWidth(this._activeBuffer.x)&&!A.hasContent(this._activeBuffer.x)&&this._activeBuffer.x--}return this._restrictCursor(),!0}tab(){if(this._activeBuffer.x>=this._bufferService.cols)return!0;const A=this._activeBuffer.x;return this._activeBuffer.x=this._activeBuffer.nextStop(),this._optionsService.rawOptions.screenReaderMode&&this._onA11yTab.fire(this._activeBuffer.x-A),!0}shiftOut(){return this._charsetService.setgLevel(1),!0}shiftIn(){return this._charsetService.setgLevel(0),!0}_restrictCursor(A=this._bufferService.cols-1){this._activeBuffer.x=Math.min(A,Math.max(0,this._activeBuffer.x)),this._activeBuffer.y=this._coreService.decPrivateModes.origin?Math.min(this._activeBuffer.scrollBottom,Math.max(this._activeBuffer.scrollTop,this._activeBuffer.y)):Math.min(this._bufferService.rows-1,Math.max(0,this._activeBuffer.y)),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}_setCursor(A,k){this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._coreService.decPrivateModes.origin?(this._activeBuffer.x=A,this._activeBuffer.y=this._activeBuffer.scrollTop+k):(this._activeBuffer.x=A,this._activeBuffer.y=k),this._restrictCursor(),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}_moveCursor(A,k){this._restrictCursor(),this._setCursor(this._activeBuffer.x+A,this._activeBuffer.y+k)}cursorUp(A){const k=this._activeBuffer.y-this._activeBuffer.scrollTop;return k>=0?this._moveCursor(0,-Math.min(k,A.params[0]||1)):this._moveCursor(0,-(A.params[0]||1)),!0}cursorDown(A){const k=this._activeBuffer.scrollBottom-this._activeBuffer.y;return k>=0?this._moveCursor(0,Math.min(k,A.params[0]||1)):this._moveCursor(0,A.params[0]||1),!0}cursorForward(A){return this._moveCursor(A.params[0]||1,0),!0}cursorBackward(A){return this._moveCursor(-(A.params[0]||1),0),!0}cursorNextLine(A){return this.cursorDown(A),this._activeBuffer.x=0,!0}cursorPrecedingLine(A){return this.cursorUp(A),this._activeBuffer.x=0,!0}cursorCharAbsolute(A){return this._setCursor((A.params[0]||1)-1,this._activeBuffer.y),!0}cursorPosition(A){return this._setCursor(A.length>=2?(A.params[1]||1)-1:0,(A.params[0]||1)-1),!0}charPosAbsolute(A){return this._setCursor((A.params[0]||1)-1,this._activeBuffer.y),!0}hPositionRelative(A){return this._moveCursor(A.params[0]||1,0),!0}linePosAbsolute(A){return this._setCursor(this._activeBuffer.x,(A.params[0]||1)-1),!0}vPositionRelative(A){return this._moveCursor(0,A.params[0]||1),!0}hVPosition(A){return this.cursorPosition(A),!0}tabClear(A){const k=A.params[0];return k===0?delete this._activeBuffer.tabs[this._activeBuffer.x]:k===3&&(this._activeBuffer.tabs={}),!0}cursorForwardTab(A){if(this._activeBuffer.x>=this._bufferService.cols)return!0;let k=A.params[0]||1;for(;k--;)this._activeBuffer.x=this._activeBuffer.nextStop();return!0}cursorBackwardTab(A){if(this._activeBuffer.x>=this._bufferService.cols)return!0;let k=A.params[0]||1;for(;k--;)this._activeBuffer.x=this._activeBuffer.prevStop();return!0}selectProtected(A){const k=A.params[0];return k===1&&(this._curAttrData.bg|=536870912),k!==2&&k!==0||(this._curAttrData.bg&=-536870913),!0}_eraseInBufferLine(A,k,P,D=!1,V=!1){const j=this._activeBuffer.lines.get(this._activeBuffer.ybase+A);j.replaceCells(k,P,this._activeBuffer.getNullCell(this._eraseAttrData()),V),D&&(j.isWrapped=!1)}_resetBufferLine(A,k=!1){const P=this._activeBuffer.lines.get(this._activeBuffer.ybase+A);P&&(P.fill(this._activeBuffer.getNullCell(this._eraseAttrData()),k),this._bufferService.buffer.clearMarkers(this._activeBuffer.ybase+A),P.isWrapped=!1)}eraseInDisplay(A,k=!1){let P;switch(this._restrictCursor(this._bufferService.cols),A.params[0]){case 0:for(P=this._activeBuffer.y,this._dirtyRowTracker.markDirty(P),this._eraseInBufferLine(P++,this._activeBuffer.x,this._bufferService.cols,this._activeBuffer.x===0,k);P<this._bufferService.rows;P++)this._resetBufferLine(P,k);this._dirtyRowTracker.markDirty(P);break;case 1:for(P=this._activeBuffer.y,this._dirtyRowTracker.markDirty(P),this._eraseInBufferLine(P,0,this._activeBuffer.x+1,!0,k),this._activeBuffer.x+1>=this._bufferService.cols&&(this._activeBuffer.lines.get(P+1).isWrapped=!1);P--;)this._resetBufferLine(P,k);this._dirtyRowTracker.markDirty(0);break;case 2:for(P=this._bufferService.rows,this._dirtyRowTracker.markDirty(P-1);P--;)this._resetBufferLine(P,k);this._dirtyRowTracker.markDirty(0);break;case 3:const D=this._activeBuffer.lines.length-this._bufferService.rows;D>0&&(this._activeBuffer.lines.trimStart(D),this._activeBuffer.ybase=Math.max(this._activeBuffer.ybase-D,0),this._activeBuffer.ydisp=Math.max(this._activeBuffer.ydisp-D,0),this._onScroll.fire(0))}return!0}eraseInLine(A,k=!1){switch(this._restrictCursor(this._bufferService.cols),A.params[0]){case 0:this._eraseInBufferLine(this._activeBuffer.y,this._activeBuffer.x,this._bufferService.cols,this._activeBuffer.x===0,k);break;case 1:this._eraseInBufferLine(this._activeBuffer.y,0,this._activeBuffer.x+1,!1,k);break;case 2:this._eraseInBufferLine(this._activeBuffer.y,0,this._bufferService.cols,!0,k)}return this._dirtyRowTracker.markDirty(this._activeBuffer.y),!0}insertLines(A){this._restrictCursor();let k=A.params[0]||1;if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const P=this._activeBuffer.ybase+this._activeBuffer.y,D=this._bufferService.rows-1-this._activeBuffer.scrollBottom,V=this._bufferService.rows-1+this._activeBuffer.ybase-D+1;for(;k--;)this._activeBuffer.lines.splice(V-1,1),this._activeBuffer.lines.splice(P,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.y,this._activeBuffer.scrollBottom),this._activeBuffer.x=0,!0}deleteLines(A){this._restrictCursor();let k=A.params[0]||1;if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const P=this._activeBuffer.ybase+this._activeBuffer.y;let D;for(D=this._bufferService.rows-1-this._activeBuffer.scrollBottom,D=this._bufferService.rows-1+this._activeBuffer.ybase-D;k--;)this._activeBuffer.lines.splice(P,1),this._activeBuffer.lines.splice(D,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.y,this._activeBuffer.scrollBottom),this._activeBuffer.x=0,!0}insertChars(A){this._restrictCursor();const k=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return k&&(k.insertCells(this._activeBuffer.x,A.params[0]||1,this._activeBuffer.getNullCell(this._eraseAttrData())),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}deleteChars(A){this._restrictCursor();const k=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return k&&(k.deleteCells(this._activeBuffer.x,A.params[0]||1,this._activeBuffer.getNullCell(this._eraseAttrData())),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}scrollUp(A){let k=A.params[0]||1;for(;k--;)this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollTop,1),this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollBottom,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollDown(A){let k=A.params[0]||1;for(;k--;)this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollBottom,1),this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollTop,0,this._activeBuffer.getBlankLine(c.DEFAULT_ATTR_DATA));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollLeft(A){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const k=A.params[0]||1;for(let P=this._activeBuffer.scrollTop;P<=this._activeBuffer.scrollBottom;++P){const D=this._activeBuffer.lines.get(this._activeBuffer.ybase+P);D.deleteCells(0,k,this._activeBuffer.getNullCell(this._eraseAttrData())),D.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollRight(A){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const k=A.params[0]||1;for(let P=this._activeBuffer.scrollTop;P<=this._activeBuffer.scrollBottom;++P){const D=this._activeBuffer.lines.get(this._activeBuffer.ybase+P);D.insertCells(0,k,this._activeBuffer.getNullCell(this._eraseAttrData())),D.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}insertColumns(A){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const k=A.params[0]||1;for(let P=this._activeBuffer.scrollTop;P<=this._activeBuffer.scrollBottom;++P){const D=this._activeBuffer.lines.get(this._activeBuffer.ybase+P);D.insertCells(this._activeBuffer.x,k,this._activeBuffer.getNullCell(this._eraseAttrData())),D.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}deleteColumns(A){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const k=A.params[0]||1;for(let P=this._activeBuffer.scrollTop;P<=this._activeBuffer.scrollBottom;++P){const D=this._activeBuffer.lines.get(this._activeBuffer.ybase+P);D.deleteCells(this._activeBuffer.x,k,this._activeBuffer.getNullCell(this._eraseAttrData())),D.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}eraseChars(A){this._restrictCursor();const k=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return k&&(k.replaceCells(this._activeBuffer.x,this._activeBuffer.x+(A.params[0]||1),this._activeBuffer.getNullCell(this._eraseAttrData())),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}repeatPrecedingCharacter(A){const k=this._parser.precedingJoinState;if(!k)return!0;const P=A.params[0]||1,D=E.UnicodeService.extractWidth(k),V=this._activeBuffer.x-D,j=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).getString(V),K=new Uint32Array(j.length*P);let J=0;for(let L=0;L<j.length;){const W=j.codePointAt(L)||0;K[J++]=W,L+=W>65535?2:1}let H=J;for(let L=1;L<P;++L)K.copyWithin(H,0,J),H+=J;return this.print(K,0,H),!0}sendDeviceAttributesPrimary(A){return A.params[0]>0||(this._is("xterm")||this._is("rxvt-unicode")||this._is("screen")?this._coreService.triggerDataEvent(u.C0.ESC+"[?1;2c"):this._is("linux")&&this._coreService.triggerDataEvent(u.C0.ESC+"[?6c")),!0}sendDeviceAttributesSecondary(A){return A.params[0]>0||(this._is("xterm")?this._coreService.triggerDataEvent(u.C0.ESC+"[>0;276;0c"):this._is("rxvt-unicode")?this._coreService.triggerDataEvent(u.C0.ESC+"[>85;95;0c"):this._is("linux")?this._coreService.triggerDataEvent(A.params[0]+"c"):this._is("screen")&&this._coreService.triggerDataEvent(u.C0.ESC+"[>83;40003;0c")),!0}_is(A){return(this._optionsService.rawOptions.termName+"").indexOf(A)===0}setMode(A){for(let k=0;k<A.length;k++)switch(A.params[k]){case 4:this._coreService.modes.insertMode=!0;break;case 20:this._optionsService.options.convertEol=!0}return!0}setModePrivate(A){for(let k=0;k<A.length;k++)switch(A.params[k]){case 1:this._coreService.decPrivateModes.applicationCursorKeys=!0;break;case 2:this._charsetService.setgCharset(0,g.DEFAULT_CHARSET),this._charsetService.setgCharset(1,g.DEFAULT_CHARSET),this._charsetService.setgCharset(2,g.DEFAULT_CHARSET),this._charsetService.setgCharset(3,g.DEFAULT_CHARSET);break;case 3:this._optionsService.rawOptions.windowOptions.setWinLines&&(this._bufferService.resize(132,this._bufferService.rows),this._onRequestReset.fire());break;case 6:this._coreService.decPrivateModes.origin=!0,this._setCursor(0,0);break;case 7:this._coreService.decPrivateModes.wraparound=!0;break;case 12:this._optionsService.options.cursorBlink=!0;break;case 45:this._coreService.decPrivateModes.reverseWraparound=!0;break;case 66:this._logService.debug("Serial port requested application keypad."),this._coreService.decPrivateModes.applicationKeypad=!0,this._onRequestSyncScrollBar.fire();break;case 9:this._coreMouseService.activeProtocol="X10";break;case 1e3:this._coreMouseService.activeProtocol="VT200";break;case 1002:this._coreMouseService.activeProtocol="DRAG";break;case 1003:this._coreMouseService.activeProtocol="ANY";break;case 1004:this._coreService.decPrivateModes.sendFocus=!0,this._onRequestSendFocus.fire();break;case 1005:this._logService.debug("DECSET 1005 not supported (see #2507)");break;case 1006:this._coreMouseService.activeEncoding="SGR";break;case 1015:this._logService.debug("DECSET 1015 not supported (see #2507)");break;case 1016:this._coreMouseService.activeEncoding="SGR_PIXELS";break;case 25:this._coreService.isCursorHidden=!1;break;case 1048:this.saveCursor();break;case 1049:this.saveCursor();case 47:case 1047:this._bufferService.buffers.activateAltBuffer(this._eraseAttrData()),this._coreService.isCursorInitialized=!0,this._onRequestRefreshRows.fire(0,this._bufferService.rows-1),this._onRequestSyncScrollBar.fire();break;case 2004:this._coreService.decPrivateModes.bracketedPasteMode=!0}return!0}resetMode(A){for(let k=0;k<A.length;k++)switch(A.params[k]){case 4:this._coreService.modes.insertMode=!1;break;case 20:this._optionsService.options.convertEol=!1}return!0}resetModePrivate(A){for(let k=0;k<A.length;k++)switch(A.params[k]){case 1:this._coreService.decPrivateModes.applicationCursorKeys=!1;break;case 3:this._optionsService.rawOptions.windowOptions.setWinLines&&(this._bufferService.resize(80,this._bufferService.rows),this._onRequestReset.fire());break;case 6:this._coreService.decPrivateModes.origin=!1,this._setCursor(0,0);break;case 7:this._coreService.decPrivateModes.wraparound=!1;break;case 12:this._optionsService.options.cursorBlink=!1;break;case 45:this._coreService.decPrivateModes.reverseWraparound=!1;break;case 66:this._logService.debug("Switching back to normal keypad."),this._coreService.decPrivateModes.applicationKeypad=!1,this._onRequestSyncScrollBar.fire();break;case 9:case 1e3:case 1002:case 1003:this._coreMouseService.activeProtocol="NONE";break;case 1004:this._coreService.decPrivateModes.sendFocus=!1;break;case 1005:this._logService.debug("DECRST 1005 not supported (see #2507)");break;case 1006:case 1016:this._coreMouseService.activeEncoding="DEFAULT";break;case 1015:this._logService.debug("DECRST 1015 not supported (see #2507)");break;case 25:this._coreService.isCursorHidden=!0;break;case 1048:this.restoreCursor();break;case 1049:case 47:case 1047:this._bufferService.buffers.activateNormalBuffer(),A.params[k]===1049&&this.restoreCursor(),this._coreService.isCursorInitialized=!0,this._onRequestRefreshRows.fire(0,this._bufferService.rows-1),this._onRequestSyncScrollBar.fire();break;case 2004:this._coreService.decPrivateModes.bracketedPasteMode=!1}return!0}requestMode(A,k){const P=this._coreService.decPrivateModes,{activeProtocol:D,activeEncoding:V}=this._coreMouseService,j=this._coreService,{buffers:K,cols:J}=this._bufferService,{active:H,alt:L}=K,W=this._optionsService.rawOptions,G=fe=>fe?1:2,Z=A.params[0];return Q=Z,se=k?Z===2?4:Z===4?G(j.modes.insertMode):Z===12?3:Z===20?G(W.convertEol):0:Z===1?G(P.applicationCursorKeys):Z===3?W.windowOptions.setWinLines?J===80?2:J===132?1:0:0:Z===6?G(P.origin):Z===7?G(P.wraparound):Z===8?3:Z===9?G(D==="X10"):Z===12?G(W.cursorBlink):Z===25?G(!j.isCursorHidden):Z===45?G(P.reverseWraparound):Z===66?G(P.applicationKeypad):Z===67?4:Z===1e3?G(D==="VT200"):Z===1002?G(D==="DRAG"):Z===1003?G(D==="ANY"):Z===1004?G(P.sendFocus):Z===1005?4:Z===1006?G(V==="SGR"):Z===1015?4:Z===1016?G(V==="SGR_PIXELS"):Z===1048?1:Z===47||Z===1047||Z===1049?G(H===L):Z===2004?G(P.bracketedPasteMode):0,j.triggerDataEvent(`${u.C0.ESC}[${k?"":"?"}${Q};${se}$y`),!0;var Q,se}_updateAttrColor(A,k,P,D,V){return k===2?(A|=50331648,A&=-16777216,A|=_.AttributeData.fromColorRGB([P,D,V])):k===5&&(A&=-50331904,A|=33554432|255&P),A}_extractColor(A,k,P){const D=[0,0,-1,0,0,0];let V=0,j=0;do{if(D[j+V]=A.params[k+j],A.hasSubParams(k+j)){const K=A.getSubParams(k+j);let J=0;do D[1]===5&&(V=1),D[j+J+1+V]=K[J];while(++J<K.length&&J+j+1+V<D.length);break}if(D[1]===5&&j+V>=2||D[1]===2&&j+V>=5)break;D[1]&&(V=1)}while(++j+k<A.length&&j+V<D.length);for(let K=2;K<D.length;++K)D[K]===-1&&(D[K]=0);switch(D[0]){case 38:P.fg=this._updateAttrColor(P.fg,D[1],D[3],D[4],D[5]);break;case 48:P.bg=this._updateAttrColor(P.bg,D[1],D[3],D[4],D[5]);break;case 58:P.extended=P.extended.clone(),P.extended.underlineColor=this._updateAttrColor(P.extended.underlineColor,D[1],D[3],D[4],D[5])}return j}_processUnderline(A,k){k.extended=k.extended.clone(),(!~A||A>5)&&(A=1),k.extended.underlineStyle=A,k.fg|=268435456,A===0&&(k.fg&=-268435457),k.updateExtended()}_processSGR0(A){A.fg=c.DEFAULT_ATTR_DATA.fg,A.bg=c.DEFAULT_ATTR_DATA.bg,A.extended=A.extended.clone(),A.extended.underlineStyle=0,A.extended.underlineColor&=-67108864,A.updateExtended()}charAttributes(A){if(A.length===1&&A.params[0]===0)return this._processSGR0(this._curAttrData),!0;const k=A.length;let P;const D=this._curAttrData;for(let V=0;V<k;V++)P=A.params[V],P>=30&&P<=37?(D.fg&=-50331904,D.fg|=16777216|P-30):P>=40&&P<=47?(D.bg&=-50331904,D.bg|=16777216|P-40):P>=90&&P<=97?(D.fg&=-50331904,D.fg|=16777224|P-90):P>=100&&P<=107?(D.bg&=-50331904,D.bg|=16777224|P-100):P===0?this._processSGR0(D):P===1?D.fg|=134217728:P===3?D.bg|=67108864:P===4?(D.fg|=268435456,this._processUnderline(A.hasSubParams(V)?A.getSubParams(V)[0]:1,D)):P===5?D.fg|=536870912:P===7?D.fg|=67108864:P===8?D.fg|=1073741824:P===9?D.fg|=2147483648:P===2?D.bg|=134217728:P===21?this._processUnderline(2,D):P===22?(D.fg&=-134217729,D.bg&=-134217729):P===23?D.bg&=-67108865:P===24?(D.fg&=-268435457,this._processUnderline(0,D)):P===25?D.fg&=-536870913:P===27?D.fg&=-67108865:P===28?D.fg&=-1073741825:P===29?D.fg&=2147483647:P===39?(D.fg&=-67108864,D.fg|=16777215&c.DEFAULT_ATTR_DATA.fg):P===49?(D.bg&=-67108864,D.bg|=16777215&c.DEFAULT_ATTR_DATA.bg):P===38||P===48||P===58?V+=this._extractColor(A,V,D):P===53?D.bg|=1073741824:P===55?D.bg&=-1073741825:P===59?(D.extended=D.extended.clone(),D.extended.underlineColor=-1,D.updateExtended()):P===100?(D.fg&=-67108864,D.fg|=16777215&c.DEFAULT_ATTR_DATA.fg,D.bg&=-67108864,D.bg|=16777215&c.DEFAULT_ATTR_DATA.bg):this._logService.debug("Unknown SGR attribute: %d.",P);return!0}deviceStatus(A){switch(A.params[0]){case 5:this._coreService.triggerDataEvent(`${u.C0.ESC}[0n`);break;case 6:const k=this._activeBuffer.y+1,P=this._activeBuffer.x+1;this._coreService.triggerDataEvent(`${u.C0.ESC}[${k};${P}R`)}return!0}deviceStatusPrivate(A){if(A.params[0]===6){const k=this._activeBuffer.y+1,P=this._activeBuffer.x+1;this._coreService.triggerDataEvent(`${u.C0.ESC}[?${k};${P}R`)}return!0}softReset(A){return this._coreService.isCursorHidden=!1,this._onRequestSyncScrollBar.fire(),this._activeBuffer.scrollTop=0,this._activeBuffer.scrollBottom=this._bufferService.rows-1,this._curAttrData=c.DEFAULT_ATTR_DATA.clone(),this._coreService.reset(),this._charsetService.reset(),this._activeBuffer.savedX=0,this._activeBuffer.savedY=this._activeBuffer.ybase,this._activeBuffer.savedCurAttrData.fg=this._curAttrData.fg,this._activeBuffer.savedCurAttrData.bg=this._curAttrData.bg,this._activeBuffer.savedCharset=this._charsetService.charset,this._coreService.decPrivateModes.origin=!1,!0}setCursorStyle(A){const k=A.params[0]||1;switch(k){case 1:case 2:this._optionsService.options.cursorStyle="block";break;case 3:case 4:this._optionsService.options.cursorStyle="underline";break;case 5:case 6:this._optionsService.options.cursorStyle="bar"}const P=k%2==1;return this._optionsService.options.cursorBlink=P,!0}setScrollRegion(A){const k=A.params[0]||1;let P;return(A.length<2||(P=A.params[1])>this._bufferService.rows||P===0)&&(P=this._bufferService.rows),P>k&&(this._activeBuffer.scrollTop=k-1,this._activeBuffer.scrollBottom=P-1,this._setCursor(0,0)),!0}windowOptions(A){if(!I(A.params[0],this._optionsService.rawOptions.windowOptions))return!0;const k=A.length>1?A.params[1]:0;switch(A.params[0]){case 14:k!==2&&this._onRequestWindowsOptionsReport.fire(T.GET_WIN_SIZE_PIXELS);break;case 16:this._onRequestWindowsOptionsReport.fire(T.GET_CELL_SIZE_PIXELS);break;case 18:this._bufferService&&this._coreService.triggerDataEvent(`${u.C0.ESC}[8;${this._bufferService.rows};${this._bufferService.cols}t`);break;case 22:k!==0&&k!==2||(this._windowTitleStack.push(this._windowTitle),this._windowTitleStack.length>10&&this._windowTitleStack.shift()),k!==0&&k!==1||(this._iconNameStack.push(this._iconName),this._iconNameStack.length>10&&this._iconNameStack.shift());break;case 23:k!==0&&k!==2||this._windowTitleStack.length&&this.setTitle(this._windowTitleStack.pop()),k!==0&&k!==1||this._iconNameStack.length&&this.setIconName(this._iconNameStack.pop())}return!0}saveCursor(A){return this._activeBuffer.savedX=this._activeBuffer.x,this._activeBuffer.savedY=this._activeBuffer.ybase+this._activeBuffer.y,this._activeBuffer.savedCurAttrData.fg=this._curAttrData.fg,this._activeBuffer.savedCurAttrData.bg=this._curAttrData.bg,this._activeBuffer.savedCharset=this._charsetService.charset,!0}restoreCursor(A){return this._activeBuffer.x=this._activeBuffer.savedX||0,this._activeBuffer.y=Math.max(this._activeBuffer.savedY-this._activeBuffer.ybase,0),this._curAttrData.fg=this._activeBuffer.savedCurAttrData.fg,this._curAttrData.bg=this._activeBuffer.savedCurAttrData.bg,this._charsetService.charset=this._savedCharset,this._activeBuffer.savedCharset&&(this._charsetService.charset=this._activeBuffer.savedCharset),this._restrictCursor(),!0}setTitle(A){return this._windowTitle=A,this._onTitleChange.fire(A),!0}setIconName(A){return this._iconName=A,!0}setOrReportIndexedColor(A){const k=[],P=A.split(";");for(;P.length>1;){const D=P.shift(),V=P.shift();if(/^\d+$/.exec(D)){const j=parseInt(D);if(z(j))if(V==="?")k.push({type:0,index:j});else{const K=(0,x.parseColor)(V);K&&k.push({type:1,index:j,color:K})}}}return k.length&&this._onColor.fire(k),!0}setHyperlink(A){const k=A.split(";");return!(k.length<2)&&(k[1]?this._createHyperlink(k[0],k[1]):!k[0]&&this._finishHyperlink())}_createHyperlink(A,k){this._getCurrentLinkId()&&this._finishHyperlink();const P=A.split(":");let D;const V=P.findIndex(j=>j.startsWith("id="));return V!==-1&&(D=P[V].slice(3)||void 0),this._curAttrData.extended=this._curAttrData.extended.clone(),this._curAttrData.extended.urlId=this._oscLinkService.registerLink({id:D,uri:k}),this._curAttrData.updateExtended(),!0}_finishHyperlink(){return this._curAttrData.extended=this._curAttrData.extended.clone(),this._curAttrData.extended.urlId=0,this._curAttrData.updateExtended(),!0}_setOrReportSpecialColor(A,k){const P=A.split(";");for(let D=0;D<P.length&&!(k>=this._specialColors.length);++D,++k)if(P[D]==="?")this._onColor.fire([{type:0,index:this._specialColors[k]}]);else{const V=(0,x.parseColor)(P[D]);V&&this._onColor.fire([{type:1,index:this._specialColors[k],color:V}])}return!0}setOrReportFgColor(A){return this._setOrReportSpecialColor(A,0)}setOrReportBgColor(A){return this._setOrReportSpecialColor(A,1)}setOrReportCursorColor(A){return this._setOrReportSpecialColor(A,2)}restoreIndexedColor(A){if(!A)return this._onColor.fire([{type:2}]),!0;const k=[],P=A.split(";");for(let D=0;D<P.length;++D)if(/^\d+$/.exec(P[D])){const V=parseInt(P[D]);z(V)&&k.push({type:2,index:V})}return k.length&&this._onColor.fire(k),!0}restoreFgColor(A){return this._onColor.fire([{type:2,index:256}]),!0}restoreBgColor(A){return this._onColor.fire([{type:2,index:257}]),!0}restoreCursorColor(A){return this._onColor.fire([{type:2,index:258}]),!0}nextLine(){return this._activeBuffer.x=0,this.index(),!0}keypadApplicationMode(){return this._logService.debug("Serial port requested application keypad."),this._coreService.decPrivateModes.applicationKeypad=!0,this._onRequestSyncScrollBar.fire(),!0}keypadNumericMode(){return this._logService.debug("Switching back to normal keypad."),this._coreService.decPrivateModes.applicationKeypad=!1,this._onRequestSyncScrollBar.fire(),!0}selectDefaultCharset(){return this._charsetService.setgLevel(0),this._charsetService.setgCharset(0,g.DEFAULT_CHARSET),!0}selectCharset(A){return A.length!==2?(this.selectDefaultCharset(),!0):(A[0]==="/"||this._charsetService.setgCharset(R[A[0]],g.CHARSETS[A[1]]||g.DEFAULT_CHARSET),!0)}index(){return this._restrictCursor(),this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData())):this._activeBuffer.y>=this._bufferService.rows&&(this._activeBuffer.y=this._bufferService.rows-1),this._restrictCursor(),!0}tabSet(){return this._activeBuffer.tabs[this._activeBuffer.x]=!0,!0}reverseIndex(){if(this._restrictCursor(),this._activeBuffer.y===this._activeBuffer.scrollTop){const A=this._activeBuffer.scrollBottom-this._activeBuffer.scrollTop;this._activeBuffer.lines.shiftElements(this._activeBuffer.ybase+this._activeBuffer.y,A,1),this._activeBuffer.lines.set(this._activeBuffer.ybase+this._activeBuffer.y,this._activeBuffer.getBlankLine(this._eraseAttrData())),this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom)}else this._activeBuffer.y--,this._restrictCursor();return!0}fullReset(){return this._parser.reset(),this._onRequestReset.fire(),!0}reset(){this._curAttrData=c.DEFAULT_ATTR_DATA.clone(),this._eraseAttrDataInternal=c.DEFAULT_ATTR_DATA.clone()}_eraseAttrData(){return this._eraseAttrDataInternal.bg&=-67108864,this._eraseAttrDataInternal.bg|=67108863&this._curAttrData.bg,this._eraseAttrDataInternal}setgLevel(A){return this._charsetService.setgLevel(A),!0}screenAlignmentPattern(){const A=new v.CellData;A.content=4194373,A.fg=this._curAttrData.fg,A.bg=this._curAttrData.bg,this._setCursor(0,0);for(let k=0;k<this._bufferService.rows;++k){const P=this._activeBuffer.ybase+this._activeBuffer.y+k,D=this._activeBuffer.lines.get(P);D&&(D.fill(A),D.isWrapped=!1)}return this._dirtyRowTracker.markAllDirty(),this._setCursor(0,0),!0}requestStatusString(A,k){const P=this._bufferService.buffer,D=this._optionsService.rawOptions;return(V=>(this._coreService.triggerDataEvent(`${u.C0.ESC}${V}${u.C0.ESC}\\`),!0))(A==='"q'?`P1$r${this._curAttrData.isProtected()?1:0}"q`:A==='"p'?'P1$r61;1"p':A==="r"?`P1$r${P.scrollTop+1};${P.scrollBottom+1}r`:A==="m"?"P1$r0m":A===" q"?`P1$r${{block:2,underline:4,bar:6}[D.cursorStyle]-(D.cursorBlink?1:0)} q`:"P0$r")}markRangeDirty(A,k){this._dirtyRowTracker.markRangeDirty(A,k)}}s.InputHandler=$;let F=class{constructor(U){this._bufferService=U,this.clearRange()}clearRange(){this.start=this._bufferService.buffer.y,this.end=this._bufferService.buffer.y}markDirty(U){U<this.start?this.start=U:U>this.end&&(this.end=U)}markRangeDirty(U,A){U>A&&(B=U,U=A,A=B),U<this.start&&(this.start=U),A>this.end&&(this.end=A)}markAllDirty(){this.markRangeDirty(0,this._bufferService.rows-1)}};function z(U){return 0<=U&&U<256}F=a([d(0,w.IBufferService)],F)},844:(f,s)=>{function o(a){for(const d of a)d.dispose();a.length=0}Object.defineProperty(s,"__esModule",{value:!0}),s.getDisposeArrayDisposable=s.disposeArray=s.toDisposable=s.MutableDisposable=s.Disposable=void 0,s.Disposable=class{constructor(){this._disposables=[],this._isDisposed=!1}dispose(){this._isDisposed=!0;for(const a of this._disposables)a.dispose();this._disposables.length=0}register(a){return this._disposables.push(a),a}unregister(a){const d=this._disposables.indexOf(a);d!==-1&&this._disposables.splice(d,1)}},s.MutableDisposable=class{constructor(){this._isDisposed=!1}get value(){return this._isDisposed?void 0:this._value}set value(a){this._isDisposed||a===this._value||(this._value?.dispose(),this._value=a)}clear(){this.value=void 0}dispose(){this._isDisposed=!0,this._value?.dispose(),this._value=void 0}},s.toDisposable=function(a){return{dispose:a}},s.disposeArray=o,s.getDisposeArrayDisposable=function(a){return{dispose:()=>o(a)}}},1505:(f,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.FourKeyMap=s.TwoKeyMap=void 0;class o{constructor(){this._data={}}set(d,u,g){this._data[d]||(this._data[d]={}),this._data[d][u]=g}get(d,u){return this._data[d]?this._data[d][u]:void 0}clear(){this._data={}}}s.TwoKeyMap=o,s.FourKeyMap=class{constructor(){this._data=new o}set(a,d,u,g,b){this._data.get(a,d)||this._data.set(a,d,new o),this._data.get(a,d).set(u,g,b)}get(a,d,u,g){return this._data.get(a,d)?.get(u,g)}clear(){this._data.clear()}}},6114:(f,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.isChromeOS=s.isLinux=s.isWindows=s.isIphone=s.isIpad=s.isMac=s.getSafariVersion=s.isSafari=s.isLegacyEdge=s.isFirefox=s.isNode=void 0,s.isNode=typeof process<"u"&&"title"in process;const o=s.isNode?"node":navigator.userAgent,a=s.isNode?"node":navigator.platform;s.isFirefox=o.includes("Firefox"),s.isLegacyEdge=o.includes("Edge"),s.isSafari=/^((?!chrome|android).)*safari/i.test(o),s.getSafariVersion=function(){if(!s.isSafari)return 0;const d=o.match(/Version\/(\d+)/);return d===null||d.length<2?0:parseInt(d[1])},s.isMac=["Macintosh","MacIntel","MacPPC","Mac68K"].includes(a),s.isIpad=a==="iPad",s.isIphone=a==="iPhone",s.isWindows=["Windows","Win16","Win32","WinCE"].includes(a),s.isLinux=a.indexOf("Linux")>=0,s.isChromeOS=/\bCrOS\b/.test(o)},6106:(f,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.SortedList=void 0;let o=0;s.SortedList=class{constructor(a){this._getKey=a,this._array=[]}clear(){this._array.length=0}insert(a){this._array.length!==0?(o=this._search(this._getKey(a)),this._array.splice(o,0,a)):this._array.push(a)}delete(a){if(this._array.length===0)return!1;const d=this._getKey(a);if(d===void 0||(o=this._search(d),o===-1)||this._getKey(this._array[o])!==d)return!1;do if(this._array[o]===a)return this._array.splice(o,1),!0;while(++o<this._array.length&&this._getKey(this._array[o])===d);return!1}*getKeyIterator(a){if(this._array.length!==0&&(o=this._search(a),!(o<0||o>=this._array.length)&&this._getKey(this._array[o])===a))do yield this._array[o];while(++o<this._array.length&&this._getKey(this._array[o])===a)}forEachByKey(a,d){if(this._array.length!==0&&(o=this._search(a),!(o<0||o>=this._array.length)&&this._getKey(this._array[o])===a))do d(this._array[o]);while(++o<this._array.length&&this._getKey(this._array[o])===a)}values(){return[...this._array].values()}_search(a){let d=0,u=this._array.length-1;for(;u>=d;){let g=d+u>>1;const b=this._getKey(this._array[g]);if(b>a)u=g-1;else{if(!(b<a)){for(;g>0&&this._getKey(this._array[g-1])===a;)g--;return g}d=g+1}}return d}}},7226:(f,s,o)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.DebouncedIdleTask=s.IdleTaskQueue=s.PriorityTaskQueue=void 0;const a=o(6114);class d{constructor(){this._tasks=[],this._i=0}enqueue(b){this._tasks.push(b),this._start()}flush(){for(;this._i<this._tasks.length;)this._tasks[this._i]()||this._i++;this.clear()}clear(){this._idleCallback&&(this._cancelCallback(this._idleCallback),this._idleCallback=void 0),this._i=0,this._tasks.length=0}_start(){this._idleCallback||(this._idleCallback=this._requestCallback(this._process.bind(this)))}_process(b){this._idleCallback=void 0;let S=0,m=0,c=b.timeRemaining(),p=0;for(;this._i<this._tasks.length;){if(S=Date.now(),this._tasks[this._i]()||this._i++,S=Math.max(1,Date.now()-S),m=Math.max(S,m),p=b.timeRemaining(),1.5*m>p)return c-S<-20&&console.warn(`task queue exceeded allotted deadline by ${Math.abs(Math.round(c-S))}ms`),void this._start();c=p}this.clear()}}class u extends d{_requestCallback(b){return setTimeout(()=>b(this._createDeadline(16)))}_cancelCallback(b){clearTimeout(b)}_createDeadline(b){const S=Date.now()+b;return{timeRemaining:()=>Math.max(0,S-Date.now())}}}s.PriorityTaskQueue=u,s.IdleTaskQueue=!a.isNode&&"requestIdleCallback"in window?class extends d{_requestCallback(g){return requestIdleCallback(g)}_cancelCallback(g){cancelIdleCallback(g)}}:u,s.DebouncedIdleTask=class{constructor(){this._queue=new s.IdleTaskQueue}set(g){this._queue.clear(),this._queue.enqueue(g)}flush(){this._queue.flush()}}},9282:(f,s,o)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.updateWindowsModeWrappedState=void 0;const a=o(643);s.updateWindowsModeWrappedState=function(d){const u=d.buffer.lines.get(d.buffer.ybase+d.buffer.y-1),g=u?.get(d.cols-1),b=d.buffer.lines.get(d.buffer.ybase+d.buffer.y);b&&g&&(b.isWrapped=g[a.CHAR_DATA_CODE_INDEX]!==a.NULL_CELL_CODE&&g[a.CHAR_DATA_CODE_INDEX]!==a.WHITESPACE_CELL_CODE)}},3734:(f,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.ExtendedAttrs=s.AttributeData=void 0;class o{constructor(){this.fg=0,this.bg=0,this.extended=new a}static toColorRGB(u){return[u>>>16&255,u>>>8&255,255&u]}static fromColorRGB(u){return(255&u[0])<<16|(255&u[1])<<8|255&u[2]}clone(){const u=new o;return u.fg=this.fg,u.bg=this.bg,u.extended=this.extended.clone(),u}isInverse(){return 67108864&this.fg}isBold(){return 134217728&this.fg}isUnderline(){return this.hasExtendedAttrs()&&this.extended.underlineStyle!==0?1:268435456&this.fg}isBlink(){return 536870912&this.fg}isInvisible(){return 1073741824&this.fg}isItalic(){return 67108864&this.bg}isDim(){return 134217728&this.bg}isStrikethrough(){return 2147483648&this.fg}isProtected(){return 536870912&this.bg}isOverline(){return 1073741824&this.bg}getFgColorMode(){return 50331648&this.fg}getBgColorMode(){return 50331648&this.bg}isFgRGB(){return(50331648&this.fg)==50331648}isBgRGB(){return(50331648&this.bg)==50331648}isFgPalette(){return(50331648&this.fg)==16777216||(50331648&this.fg)==33554432}isBgPalette(){return(50331648&this.bg)==16777216||(50331648&this.bg)==33554432}isFgDefault(){return(50331648&this.fg)==0}isBgDefault(){return(50331648&this.bg)==0}isAttributeDefault(){return this.fg===0&&this.bg===0}getFgColor(){switch(50331648&this.fg){case 16777216:case 33554432:return 255&this.fg;case 50331648:return 16777215&this.fg;default:return-1}}getBgColor(){switch(50331648&this.bg){case 16777216:case 33554432:return 255&this.bg;case 50331648:return 16777215&this.bg;default:return-1}}hasExtendedAttrs(){return 268435456&this.bg}updateExtended(){this.extended.isEmpty()?this.bg&=-268435457:this.bg|=268435456}getUnderlineColor(){if(268435456&this.bg&&~this.extended.underlineColor)switch(50331648&this.extended.underlineColor){case 16777216:case 33554432:return 255&this.extended.underlineColor;case 50331648:return 16777215&this.extended.underlineColor;default:return this.getFgColor()}return this.getFgColor()}getUnderlineColorMode(){return 268435456&this.bg&&~this.extended.underlineColor?50331648&this.extended.underlineColor:this.getFgColorMode()}isUnderlineColorRGB(){return 268435456&this.bg&&~this.extended.underlineColor?(50331648&this.extended.underlineColor)==50331648:this.isFgRGB()}isUnderlineColorPalette(){return 268435456&this.bg&&~this.extended.underlineColor?(50331648&this.extended.underlineColor)==16777216||(50331648&this.extended.underlineColor)==33554432:this.isFgPalette()}isUnderlineColorDefault(){return 268435456&this.bg&&~this.extended.underlineColor?(50331648&this.extended.underlineColor)==0:this.isFgDefault()}getUnderlineStyle(){return 268435456&this.fg?268435456&this.bg?this.extended.underlineStyle:1:0}getUnderlineVariantOffset(){return this.extended.underlineVariantOffset}}s.AttributeData=o;class a{get ext(){return this._urlId?-469762049&this._ext|this.underlineStyle<<26:this._ext}set ext(u){this._ext=u}get underlineStyle(){return this._urlId?5:(469762048&this._ext)>>26}set underlineStyle(u){this._ext&=-469762049,this._ext|=u<<26&469762048}get underlineColor(){return 67108863&this._ext}set underlineColor(u){this._ext&=-67108864,this._ext|=67108863&u}get urlId(){return this._urlId}set urlId(u){this._urlId=u}get underlineVariantOffset(){const u=(3758096384&this._ext)>>29;return u<0?4294967288^u:u}set underlineVariantOffset(u){this._ext&=536870911,this._ext|=u<<29&3758096384}constructor(u=0,g=0){this._ext=0,this._urlId=0,this._ext=u,this._urlId=g}clone(){return new a(this._ext,this._urlId)}isEmpty(){return this.underlineStyle===0&&this._urlId===0}}s.ExtendedAttrs=a},9092:(f,s,o)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.Buffer=s.MAX_BUFFER_SIZE=void 0;const a=o(6349),d=o(7226),u=o(3734),g=o(8437),b=o(4634),S=o(511),m=o(643),c=o(4863),p=o(7116);s.MAX_BUFFER_SIZE=4294967295,s.Buffer=class{constructor(l,v,_){this._hasScrollback=l,this._optionsService=v,this._bufferService=_,this.ydisp=0,this.ybase=0,this.y=0,this.x=0,this.tabs={},this.savedY=0,this.savedX=0,this.savedCurAttrData=g.DEFAULT_ATTR_DATA.clone(),this.savedCharset=p.DEFAULT_CHARSET,this.markers=[],this._nullCell=S.CellData.fromCharData([0,m.NULL_CELL_CHAR,m.NULL_CELL_WIDTH,m.NULL_CELL_CODE]),this._whitespaceCell=S.CellData.fromCharData([0,m.WHITESPACE_CELL_CHAR,m.WHITESPACE_CELL_WIDTH,m.WHITESPACE_CELL_CODE]),this._isClearing=!1,this._memoryCleanupQueue=new d.IdleTaskQueue,this._memoryCleanupPosition=0,this._cols=this._bufferService.cols,this._rows=this._bufferService.rows,this.lines=new a.CircularList(this._getCorrectBufferLength(this._rows)),this.scrollTop=0,this.scrollBottom=this._rows-1,this.setupTabStops()}getNullCell(l){return l?(this._nullCell.fg=l.fg,this._nullCell.bg=l.bg,this._nullCell.extended=l.extended):(this._nullCell.fg=0,this._nullCell.bg=0,this._nullCell.extended=new u.ExtendedAttrs),this._nullCell}getWhitespaceCell(l){return l?(this._whitespaceCell.fg=l.fg,this._whitespaceCell.bg=l.bg,this._whitespaceCell.extended=l.extended):(this._whitespaceCell.fg=0,this._whitespaceCell.bg=0,this._whitespaceCell.extended=new u.ExtendedAttrs),this._whitespaceCell}getBlankLine(l,v){return new g.BufferLine(this._bufferService.cols,this.getNullCell(l),v)}get hasScrollback(){return this._hasScrollback&&this.lines.maxLength>this._rows}get isCursorInViewport(){const l=this.ybase+this.y-this.ydisp;return l>=0&&l<this._rows}_getCorrectBufferLength(l){if(!this._hasScrollback)return l;const v=l+this._optionsService.rawOptions.scrollback;return v>s.MAX_BUFFER_SIZE?s.MAX_BUFFER_SIZE:v}fillViewportRows(l){if(this.lines.length===0){l===void 0&&(l=g.DEFAULT_ATTR_DATA);let v=this._rows;for(;v--;)this.lines.push(this.getBlankLine(l))}}clear(){this.ydisp=0,this.ybase=0,this.y=0,this.x=0,this.lines=new a.CircularList(this._getCorrectBufferLength(this._rows)),this.scrollTop=0,this.scrollBottom=this._rows-1,this.setupTabStops()}resize(l,v){const _=this.getNullCell(g.DEFAULT_ATTR_DATA);let w=0;const E=this._getCorrectBufferLength(v);if(E>this.lines.maxLength&&(this.lines.maxLength=E),this.lines.length>0){if(this._cols<l)for(let y=0;y<this.lines.length;y++)w+=+this.lines.get(y).resize(l,_);let C=0;if(this._rows<v)for(let y=this._rows;y<v;y++)this.lines.length<v+this.ybase&&(this._optionsService.rawOptions.windowsMode||this._optionsService.rawOptions.windowsPty.backend!==void 0||this._optionsService.rawOptions.windowsPty.buildNumber!==void 0?this.lines.push(new g.BufferLine(l,_)):this.ybase>0&&this.lines.length<=this.ybase+this.y+C+1?(this.ybase--,C++,this.ydisp>0&&this.ydisp--):this.lines.push(new g.BufferLine(l,_)));else for(let y=this._rows;y>v;y--)this.lines.length>v+this.ybase&&(this.lines.length>this.ybase+this.y+1?this.lines.pop():(this.ybase++,this.ydisp++));if(E<this.lines.maxLength){const y=this.lines.length-E;y>0&&(this.lines.trimStart(y),this.ybase=Math.max(this.ybase-y,0),this.ydisp=Math.max(this.ydisp-y,0),this.savedY=Math.max(this.savedY-y,0)),this.lines.maxLength=E}this.x=Math.min(this.x,l-1),this.y=Math.min(this.y,v-1),C&&(this.y+=C),this.savedX=Math.min(this.savedX,l-1),this.scrollTop=0}if(this.scrollBottom=v-1,this._isReflowEnabled&&(this._reflow(l,v),this._cols>l))for(let C=0;C<this.lines.length;C++)w+=+this.lines.get(C).resize(l,_);this._cols=l,this._rows=v,this._memoryCleanupQueue.clear(),w>.1*this.lines.length&&(this._memoryCleanupPosition=0,this._memoryCleanupQueue.enqueue(()=>this._batchedMemoryCleanup()))}_batchedMemoryCleanup(){let l=!0;this._memoryCleanupPosition>=this.lines.length&&(this._memoryCleanupPosition=0,l=!1);let v=0;for(;this._memoryCleanupPosition<this.lines.length;)if(v+=this.lines.get(this._memoryCleanupPosition++).cleanupMemory(),v>100)return!0;return l}get _isReflowEnabled(){const l=this._optionsService.rawOptions.windowsPty;return l&&l.buildNumber?this._hasScrollback&&l.backend==="conpty"&&l.buildNumber>=21376:this._hasScrollback&&!this._optionsService.rawOptions.windowsMode}_reflow(l,v){this._cols!==l&&(l>this._cols?this._reflowLarger(l,v):this._reflowSmaller(l,v))}_reflowLarger(l,v){const _=(0,b.reflowLargerGetLinesToRemove)(this.lines,this._cols,l,this.ybase+this.y,this.getNullCell(g.DEFAULT_ATTR_DATA));if(_.length>0){const w=(0,b.reflowLargerCreateNewLayout)(this.lines,_);(0,b.reflowLargerApplyNewLayout)(this.lines,w.layout),this._reflowLargerAdjustViewport(l,v,w.countRemoved)}}_reflowLargerAdjustViewport(l,v,_){const w=this.getNullCell(g.DEFAULT_ATTR_DATA);let E=_;for(;E-- >0;)this.ybase===0?(this.y>0&&this.y--,this.lines.length<v&&this.lines.push(new g.BufferLine(l,w))):(this.ydisp===this.ybase&&this.ydisp--,this.ybase--);this.savedY=Math.max(this.savedY-_,0)}_reflowSmaller(l,v){const _=this.getNullCell(g.DEFAULT_ATTR_DATA),w=[];let E=0;for(let C=this.lines.length-1;C>=0;C--){let y=this.lines.get(C);if(!y||!y.isWrapped&&y.getTrimmedLength()<=l)continue;const x=[y];for(;y.isWrapped&&C>0;)y=this.lines.get(--C),x.unshift(y);const R=this.ybase+this.y;if(R>=C&&R<C+x.length)continue;const M=x[x.length-1].getTrimmedLength(),I=(0,b.reflowSmallerGetNewLineLengths)(x,this._cols,l),T=I.length-x.length;let B;B=this.ybase===0&&this.y!==this.lines.length-1?Math.max(0,this.y-this.lines.maxLength+T):Math.max(0,this.lines.length-this.lines.maxLength+T);const $=[];for(let P=0;P<T;P++){const D=this.getBlankLine(g.DEFAULT_ATTR_DATA,!0);$.push(D)}$.length>0&&(w.push({start:C+x.length+E,newLines:$}),E+=$.length),x.push(...$);let F=I.length-1,z=I[F];z===0&&(F--,z=I[F]);let U=x.length-T-1,A=M;for(;U>=0;){const P=Math.min(A,z);if(x[F]===void 0)break;if(x[F].copyCellsFrom(x[U],A-P,z-P,P,!0),z-=P,z===0&&(F--,z=I[F]),A-=P,A===0){U--;const D=Math.max(U,0);A=(0,b.getWrappedLineTrimmedLength)(x,D,this._cols)}}for(let P=0;P<x.length;P++)I[P]<l&&x[P].setCell(I[P],_);let k=T-B;for(;k-- >0;)this.ybase===0?this.y<v-1?(this.y++,this.lines.pop()):(this.ybase++,this.ydisp++):this.ybase<Math.min(this.lines.maxLength,this.lines.length+E)-v&&(this.ybase===this.ydisp&&this.ydisp++,this.ybase++);this.savedY=Math.min(this.savedY+T,this.ybase+v-1)}if(w.length>0){const C=[],y=[];for(let F=0;F<this.lines.length;F++)y.push(this.lines.get(F));const x=this.lines.length;let R=x-1,M=0,I=w[M];this.lines.length=Math.min(this.lines.maxLength,this.lines.length+E);let T=0;for(let F=Math.min(this.lines.maxLength-1,x+E-1);F>=0;F--)if(I&&I.start>R+T){for(let z=I.newLines.length-1;z>=0;z--)this.lines.set(F--,I.newLines[z]);F++,C.push({index:R+1,amount:I.newLines.length}),T+=I.newLines.length,I=w[++M]}else this.lines.set(F,y[R--]);let B=0;for(let F=C.length-1;F>=0;F--)C[F].index+=B,this.lines.onInsertEmitter.fire(C[F]),B+=C[F].amount;const $=Math.max(0,x+E-this.lines.maxLength);$>0&&this.lines.onTrimEmitter.fire($)}}translateBufferLineToString(l,v,_=0,w){const E=this.lines.get(l);return E?E.translateToString(v,_,w):""}getWrappedRangeForLine(l){let v=l,_=l;for(;v>0&&this.lines.get(v).isWrapped;)v--;for(;_+1<this.lines.length&&this.lines.get(_+1).isWrapped;)_++;return{first:v,last:_}}setupTabStops(l){for(l!=null?this.tabs[l]||(l=this.prevStop(l)):(this.tabs={},l=0);l<this._cols;l+=this._optionsService.rawOptions.tabStopWidth)this.tabs[l]=!0}prevStop(l){for(l==null&&(l=this.x);!this.tabs[--l]&&l>0;);return l>=this._cols?this._cols-1:l<0?0:l}nextStop(l){for(l==null&&(l=this.x);!this.tabs[++l]&&l<this._cols;);return l>=this._cols?this._cols-1:l<0?0:l}clearMarkers(l){this._isClearing=!0;for(let v=0;v<this.markers.length;v++)this.markers[v].line===l&&(this.markers[v].dispose(),this.markers.splice(v--,1));this._isClearing=!1}clearAllMarkers(){this._isClearing=!0;for(let l=0;l<this.markers.length;l++)this.markers[l].dispose(),this.markers.splice(l--,1);this._isClearing=!1}addMarker(l){const v=new c.Marker(l);return this.markers.push(v),v.register(this.lines.onTrim(_=>{v.line-=_,v.line<0&&v.dispose()})),v.register(this.lines.onInsert(_=>{v.line>=_.index&&(v.line+=_.amount)})),v.register(this.lines.onDelete(_=>{v.line>=_.index&&v.line<_.index+_.amount&&v.dispose(),v.line>_.index&&(v.line-=_.amount)})),v.register(v.onDispose(()=>this._removeMarker(v))),v}_removeMarker(l){this._isClearing||this.markers.splice(this.markers.indexOf(l),1)}}},8437:(f,s,o)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.BufferLine=s.DEFAULT_ATTR_DATA=void 0;const a=o(3734),d=o(511),u=o(643),g=o(482);s.DEFAULT_ATTR_DATA=Object.freeze(new a.AttributeData);let b=0;class S{constructor(c,p,l=!1){this.isWrapped=l,this._combined={},this._extendedAttrs={},this._data=new Uint32Array(3*c);const v=p||d.CellData.fromCharData([0,u.NULL_CELL_CHAR,u.NULL_CELL_WIDTH,u.NULL_CELL_CODE]);for(let _=0;_<c;++_)this.setCell(_,v);this.length=c}get(c){const p=this._data[3*c+0],l=2097151&p;return[this._data[3*c+1],2097152&p?this._combined[c]:l?(0,g.stringFromCodePoint)(l):"",p>>22,2097152&p?this._combined[c].charCodeAt(this._combined[c].length-1):l]}set(c,p){this._data[3*c+1]=p[u.CHAR_DATA_ATTR_INDEX],p[u.CHAR_DATA_CHAR_INDEX].length>1?(this._combined[c]=p[1],this._data[3*c+0]=2097152|c|p[u.CHAR_DATA_WIDTH_INDEX]<<22):this._data[3*c+0]=p[u.CHAR_DATA_CHAR_INDEX].charCodeAt(0)|p[u.CHAR_DATA_WIDTH_INDEX]<<22}getWidth(c){return this._data[3*c+0]>>22}hasWidth(c){return 12582912&this._data[3*c+0]}getFg(c){return this._data[3*c+1]}getBg(c){return this._data[3*c+2]}hasContent(c){return 4194303&this._data[3*c+0]}getCodePoint(c){const p=this._data[3*c+0];return 2097152&p?this._combined[c].charCodeAt(this._combined[c].length-1):2097151&p}isCombined(c){return 2097152&this._data[3*c+0]}getString(c){const p=this._data[3*c+0];return 2097152&p?this._combined[c]:2097151&p?(0,g.stringFromCodePoint)(2097151&p):""}isProtected(c){return 536870912&this._data[3*c+2]}loadCell(c,p){return b=3*c,p.content=this._data[b+0],p.fg=this._data[b+1],p.bg=this._data[b+2],2097152&p.content&&(p.combinedData=this._combined[c]),268435456&p.bg&&(p.extended=this._extendedAttrs[c]),p}setCell(c,p){2097152&p.content&&(this._combined[c]=p.combinedData),268435456&p.bg&&(this._extendedAttrs[c]=p.extended),this._data[3*c+0]=p.content,this._data[3*c+1]=p.fg,this._data[3*c+2]=p.bg}setCellFromCodepoint(c,p,l,v){268435456&v.bg&&(this._extendedAttrs[c]=v.extended),this._data[3*c+0]=p|l<<22,this._data[3*c+1]=v.fg,this._data[3*c+2]=v.bg}addCodepointToCell(c,p,l){let v=this._data[3*c+0];2097152&v?this._combined[c]+=(0,g.stringFromCodePoint)(p):2097151&v?(this._combined[c]=(0,g.stringFromCodePoint)(2097151&v)+(0,g.stringFromCodePoint)(p),v&=-2097152,v|=2097152):v=p|4194304,l&&(v&=-12582913,v|=l<<22),this._data[3*c+0]=v}insertCells(c,p,l){if((c%=this.length)&&this.getWidth(c-1)===2&&this.setCellFromCodepoint(c-1,0,1,l),p<this.length-c){const v=new d.CellData;for(let _=this.length-c-p-1;_>=0;--_)this.setCell(c+p+_,this.loadCell(c+_,v));for(let _=0;_<p;++_)this.setCell(c+_,l)}else for(let v=c;v<this.length;++v)this.setCell(v,l);this.getWidth(this.length-1)===2&&this.setCellFromCodepoint(this.length-1,0,1,l)}deleteCells(c,p,l){if(c%=this.length,p<this.length-c){const v=new d.CellData;for(let _=0;_<this.length-c-p;++_)this.setCell(c+_,this.loadCell(c+p+_,v));for(let _=this.length-p;_<this.length;++_)this.setCell(_,l)}else for(let v=c;v<this.length;++v)this.setCell(v,l);c&&this.getWidth(c-1)===2&&this.setCellFromCodepoint(c-1,0,1,l),this.getWidth(c)!==0||this.hasContent(c)||this.setCellFromCodepoint(c,0,1,l)}replaceCells(c,p,l,v=!1){if(v)for(c&&this.getWidth(c-1)===2&&!this.isProtected(c-1)&&this.setCellFromCodepoint(c-1,0,1,l),p<this.length&&this.getWidth(p-1)===2&&!this.isProtected(p)&&this.setCellFromCodepoint(p,0,1,l);c<p&&c<this.length;)this.isProtected(c)||this.setCell(c,l),c++;else for(c&&this.getWidth(c-1)===2&&this.setCellFromCodepoint(c-1,0,1,l),p<this.length&&this.getWidth(p-1)===2&&this.setCellFromCodepoint(p,0,1,l);c<p&&c<this.length;)this.setCell(c++,l)}resize(c,p){if(c===this.length)return 4*this._data.length*2<this._data.buffer.byteLength;const l=3*c;if(c>this.length){if(this._data.buffer.byteLength>=4*l)this._data=new Uint32Array(this._data.buffer,0,l);else{const v=new Uint32Array(l);v.set(this._data),this._data=v}for(let v=this.length;v<c;++v)this.setCell(v,p)}else{this._data=this._data.subarray(0,l);const v=Object.keys(this._combined);for(let w=0;w<v.length;w++){const E=parseInt(v[w],10);E>=c&&delete this._combined[E]}const _=Object.keys(this._extendedAttrs);for(let w=0;w<_.length;w++){const E=parseInt(_[w],10);E>=c&&delete this._extendedAttrs[E]}}return this.length=c,4*l*2<this._data.buffer.byteLength}cleanupMemory(){if(4*this._data.length*2<this._data.buffer.byteLength){const c=new Uint32Array(this._data.length);return c.set(this._data),this._data=c,1}return 0}fill(c,p=!1){if(p)for(let l=0;l<this.length;++l)this.isProtected(l)||this.setCell(l,c);else{this._combined={},this._extendedAttrs={};for(let l=0;l<this.length;++l)this.setCell(l,c)}}copyFrom(c){this.length!==c.length?this._data=new Uint32Array(c._data):this._data.set(c._data),this.length=c.length,this._combined={};for(const p in c._combined)this._combined[p]=c._combined[p];this._extendedAttrs={};for(const p in c._extendedAttrs)this._extendedAttrs[p]=c._extendedAttrs[p];this.isWrapped=c.isWrapped}clone(){const c=new S(0);c._data=new Uint32Array(this._data),c.length=this.length;for(const p in this._combined)c._combined[p]=this._combined[p];for(const p in this._extendedAttrs)c._extendedAttrs[p]=this._extendedAttrs[p];return c.isWrapped=this.isWrapped,c}getTrimmedLength(){for(let c=this.length-1;c>=0;--c)if(4194303&this._data[3*c+0])return c+(this._data[3*c+0]>>22);return 0}getNoBgTrimmedLength(){for(let c=this.length-1;c>=0;--c)if(4194303&this._data[3*c+0]||50331648&this._data[3*c+2])return c+(this._data[3*c+0]>>22);return 0}copyCellsFrom(c,p,l,v,_){const w=c._data;if(_)for(let C=v-1;C>=0;C--){for(let y=0;y<3;y++)this._data[3*(l+C)+y]=w[3*(p+C)+y];268435456&w[3*(p+C)+2]&&(this._extendedAttrs[l+C]=c._extendedAttrs[p+C])}else for(let C=0;C<v;C++){for(let y=0;y<3;y++)this._data[3*(l+C)+y]=w[3*(p+C)+y];268435456&w[3*(p+C)+2]&&(this._extendedAttrs[l+C]=c._extendedAttrs[p+C])}const E=Object.keys(c._combined);for(let C=0;C<E.length;C++){const y=parseInt(E[C],10);y>=p&&(this._combined[y-p+l]=c._combined[y])}}translateToString(c,p,l,v){p=p??0,l=l??this.length,c&&(l=Math.min(l,this.getTrimmedLength())),v&&(v.length=0);let _="";for(;p<l;){const w=this._data[3*p+0],E=2097151&w,C=2097152&w?this._combined[p]:E?(0,g.stringFromCodePoint)(E):u.WHITESPACE_CELL_CHAR;if(_+=C,v)for(let y=0;y<C.length;++y)v.push(p);p+=w>>22||1}return v&&v.push(p),_}}s.BufferLine=S},4841:(f,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.getRangeLength=void 0,s.getRangeLength=function(o,a){if(o.start.y>o.end.y)throw new Error(`Buffer range end (${o.end.x}, ${o.end.y}) cannot be before start (${o.start.x}, ${o.start.y})`);return a*(o.end.y-o.start.y)+(o.end.x-o.start.x+1)}},4634:(f,s)=>{function o(a,d,u){if(d===a.length-1)return a[d].getTrimmedLength();const g=!a[d].hasContent(u-1)&&a[d].getWidth(u-1)===1,b=a[d+1].getWidth(0)===2;return g&&b?u-1:u}Object.defineProperty(s,"__esModule",{value:!0}),s.getWrappedLineTrimmedLength=s.reflowSmallerGetNewLineLengths=s.reflowLargerApplyNewLayout=s.reflowLargerCreateNewLayout=s.reflowLargerGetLinesToRemove=void 0,s.reflowLargerGetLinesToRemove=function(a,d,u,g,b){const S=[];for(let m=0;m<a.length-1;m++){let c=m,p=a.get(++c);if(!p.isWrapped)continue;const l=[a.get(m)];for(;c<a.length&&p.isWrapped;)l.push(p),p=a.get(++c);if(g>=m&&g<c){m+=l.length-1;continue}let v=0,_=o(l,v,d),w=1,E=0;for(;w<l.length;){const y=o(l,w,d),x=y-E,R=u-_,M=Math.min(x,R);l[v].copyCellsFrom(l[w],E,_,M,!1),_+=M,_===u&&(v++,_=0),E+=M,E===y&&(w++,E=0),_===0&&v!==0&&l[v-1].getWidth(u-1)===2&&(l[v].copyCellsFrom(l[v-1],u-1,_++,1,!1),l[v-1].setCell(u-1,b))}l[v].replaceCells(_,u,b);let C=0;for(let y=l.length-1;y>0&&(y>v||l[y].getTrimmedLength()===0);y--)C++;C>0&&(S.push(m+l.length-C),S.push(C)),m+=l.length-1}return S},s.reflowLargerCreateNewLayout=function(a,d){const u=[];let g=0,b=d[g],S=0;for(let m=0;m<a.length;m++)if(b===m){const c=d[++g];a.onDeleteEmitter.fire({index:m-S,amount:c}),m+=c-1,S+=c,b=d[++g]}else u.push(m);return{layout:u,countRemoved:S}},s.reflowLargerApplyNewLayout=function(a,d){const u=[];for(let g=0;g<d.length;g++)u.push(a.get(d[g]));for(let g=0;g<u.length;g++)a.set(g,u[g]);a.length=d.length},s.reflowSmallerGetNewLineLengths=function(a,d,u){const g=[],b=a.map((p,l)=>o(a,l,d)).reduce((p,l)=>p+l);let S=0,m=0,c=0;for(;c<b;){if(b-c<u){g.push(b-c);break}S+=u;const p=o(a,m,d);S>p&&(S-=p,m++);const l=a[m].getWidth(S-1)===2;l&&S--;const v=l?u-1:u;g.push(v),c+=v}return g},s.getWrappedLineTrimmedLength=o},5295:(f,s,o)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.BufferSet=void 0;const a=o(8460),d=o(844),u=o(9092);class g extends d.Disposable{constructor(S,m){super(),this._optionsService=S,this._bufferService=m,this._onBufferActivate=this.register(new a.EventEmitter),this.onBufferActivate=this._onBufferActivate.event,this.reset(),this.register(this._optionsService.onSpecificOptionChange("scrollback",()=>this.resize(this._bufferService.cols,this._bufferService.rows))),this.register(this._optionsService.onSpecificOptionChange("tabStopWidth",()=>this.setupTabStops()))}reset(){this._normal=new u.Buffer(!0,this._optionsService,this._bufferService),this._normal.fillViewportRows(),this._alt=new u.Buffer(!1,this._optionsService,this._bufferService),this._activeBuffer=this._normal,this._onBufferActivate.fire({activeBuffer:this._normal,inactiveBuffer:this._alt}),this.setupTabStops()}get alt(){return this._alt}get active(){return this._activeBuffer}get normal(){return this._normal}activateNormalBuffer(){this._activeBuffer!==this._normal&&(this._normal.x=this._alt.x,this._normal.y=this._alt.y,this._alt.clearAllMarkers(),this._alt.clear(),this._activeBuffer=this._normal,this._onBufferActivate.fire({activeBuffer:this._normal,inactiveBuffer:this._alt}))}activateAltBuffer(S){this._activeBuffer!==this._alt&&(this._alt.fillViewportRows(S),this._alt.x=this._normal.x,this._alt.y=this._normal.y,this._activeBuffer=this._alt,this._onBufferActivate.fire({activeBuffer:this._alt,inactiveBuffer:this._normal}))}resize(S,m){this._normal.resize(S,m),this._alt.resize(S,m),this.setupTabStops(S)}setupTabStops(S){this._normal.setupTabStops(S),this._alt.setupTabStops(S)}}s.BufferSet=g},511:(f,s,o)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.CellData=void 0;const a=o(482),d=o(643),u=o(3734);class g extends u.AttributeData{constructor(){super(...arguments),this.content=0,this.fg=0,this.bg=0,this.extended=new u.ExtendedAttrs,this.combinedData=""}static fromCharData(S){const m=new g;return m.setFromCharData(S),m}isCombined(){return 2097152&this.content}getWidth(){return this.content>>22}getChars(){return 2097152&this.content?this.combinedData:2097151&this.content?(0,a.stringFromCodePoint)(2097151&this.content):""}getCode(){return this.isCombined()?this.combinedData.charCodeAt(this.combinedData.length-1):2097151&this.content}setFromCharData(S){this.fg=S[d.CHAR_DATA_ATTR_INDEX],this.bg=0;let m=!1;if(S[d.CHAR_DATA_CHAR_INDEX].length>2)m=!0;else if(S[d.CHAR_DATA_CHAR_INDEX].length===2){const c=S[d.CHAR_DATA_CHAR_INDEX].charCodeAt(0);if(55296<=c&&c<=56319){const p=S[d.CHAR_DATA_CHAR_INDEX].charCodeAt(1);56320<=p&&p<=57343?this.content=1024*(c-55296)+p-56320+65536|S[d.CHAR_DATA_WIDTH_INDEX]<<22:m=!0}else m=!0}else this.content=S[d.CHAR_DATA_CHAR_INDEX].charCodeAt(0)|S[d.CHAR_DATA_WIDTH_INDEX]<<22;m&&(this.combinedData=S[d.CHAR_DATA_CHAR_INDEX],this.content=2097152|S[d.CHAR_DATA_WIDTH_INDEX]<<22)}getAsCharData(){return[this.fg,this.getChars(),this.getWidth(),this.getCode()]}}s.CellData=g},643:(f,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.WHITESPACE_CELL_CODE=s.WHITESPACE_CELL_WIDTH=s.WHITESPACE_CELL_CHAR=s.NULL_CELL_CODE=s.NULL_CELL_WIDTH=s.NULL_CELL_CHAR=s.CHAR_DATA_CODE_INDEX=s.CHAR_DATA_WIDTH_INDEX=s.CHAR_DATA_CHAR_INDEX=s.CHAR_DATA_ATTR_INDEX=s.DEFAULT_EXT=s.DEFAULT_ATTR=s.DEFAULT_COLOR=void 0,s.DEFAULT_COLOR=0,s.DEFAULT_ATTR=256|s.DEFAULT_COLOR<<9,s.DEFAULT_EXT=0,s.CHAR_DATA_ATTR_INDEX=0,s.CHAR_DATA_CHAR_INDEX=1,s.CHAR_DATA_WIDTH_INDEX=2,s.CHAR_DATA_CODE_INDEX=3,s.NULL_CELL_CHAR="",s.NULL_CELL_WIDTH=1,s.NULL_CELL_CODE=0,s.WHITESPACE_CELL_CHAR=" ",s.WHITESPACE_CELL_WIDTH=1,s.WHITESPACE_CELL_CODE=32},4863:(f,s,o)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.Marker=void 0;const a=o(8460),d=o(844);class u{get id(){return this._id}constructor(b){this.line=b,this.isDisposed=!1,this._disposables=[],this._id=u._nextId++,this._onDispose=this.register(new a.EventEmitter),this.onDispose=this._onDispose.event}dispose(){this.isDisposed||(this.isDisposed=!0,this.line=-1,this._onDispose.fire(),(0,d.disposeArray)(this._disposables),this._disposables.length=0)}register(b){return this._disposables.push(b),b}}s.Marker=u,u._nextId=1},7116:(f,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.DEFAULT_CHARSET=s.CHARSETS=void 0,s.CHARSETS={},s.DEFAULT_CHARSET=s.CHARSETS.B,s.CHARSETS[0]={"`":"",a:"",b:"",c:"",d:"",e:"",f:"",g:"",h:"",i:"",j:"",k:"",l:"",m:"",n:"",o:"",p:"",q:"",r:"",s:"",t:"",u:"",v:"",w:"",x:"",y:"",z:"","{":"","|":"","}":"","~":""},s.CHARSETS.A={"#":""},s.CHARSETS.B=void 0,s.CHARSETS[4]={"#":"","@":"","[":"ij","\\":"","]":"|","{":"","|":"f","}":"","~":""},s.CHARSETS.C=s.CHARSETS[5]={"[":"","\\":"","]":"","^":"","`":"","{":"","|":"","}":"","~":""},s.CHARSETS.R={"#":"","@":"","[":"","\\":"","]":"","{":"","|":"","}":"","~":""},s.CHARSETS.Q={"@":"","[":"","\\":"","]":"","^":"","`":"","{":"","|":"","}":"","~":""},s.CHARSETS.K={"@":"","[":"","\\":"","]":"","{":"","|":"","}":"","~":""},s.CHARSETS.Y={"#":"","@":"","[":"","\\":"","]":"","`":"","{":"","|":"","}":"","~":""},s.CHARSETS.E=s.CHARSETS[6]={"@":"","[":"","\\":"","]":"","^":"","`":"","{":"","|":"","}":"","~":""},s.CHARSETS.Z={"#":"","@":"","[":"","\\":"","]":"","{":"","|":"","}":""},s.CHARSETS.H=s.CHARSETS[7]={"@":"","[":"","\\":"","]":"","^":"","`":"","{":"","|":"","}":"","~":""},s.CHARSETS["="]={"#":"","@":"","[":"","\\":"","]":"","^":"",_:"","`":"","{":"","|":"","}":"","~":""}},2584:(f,s)=>{var o,a,d;Object.defineProperty(s,"__esModule",{value:!0}),s.C1_ESCAPED=s.C1=s.C0=void 0,function(u){u.NUL="\0",u.SOH="",u.STX="",u.ETX="",u.EOT="",u.ENQ="",u.ACK="",u.BEL="\x07",u.BS="\b",u.HT="	",u.LF=`
`,u.VT="\v",u.FF="\f",u.CR="\r",u.SO="",u.SI="",u.DLE="",u.DC1="",u.DC2="",u.DC3="",u.DC4="",u.NAK="",u.SYN="",u.ETB="",u.CAN="",u.EM="",u.SUB="",u.ESC="\x1B",u.FS="",u.GS="",u.RS="",u.US="",u.SP=" ",u.DEL=""}(o||(s.C0=o={})),function(u){u.PAD="",u.HOP="",u.BPH="",u.NBH="",u.IND="",u.NEL="",u.SSA="",u.ESA="",u.HTS="",u.HTJ="",u.VTS="",u.PLD="",u.PLU="",u.RI="",u.SS2="",u.SS3="",u.DCS="",u.PU1="",u.PU2="",u.STS="",u.CCH="",u.MW="",u.SPA="",u.EPA="",u.SOS="",u.SGCI="",u.SCI="",u.CSI="",u.ST="",u.OSC="",u.PM="",u.APC=""}(a||(s.C1=a={})),function(u){u.ST=`${o.ESC}\\`}(d||(s.C1_ESCAPED=d={}))},7399:(f,s,o)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.evaluateKeyboardEvent=void 0;const a=o(2584),d={48:["0",")"],49:["1","!"],50:["2","@"],51:["3","#"],52:["4","$"],53:["5","%"],54:["6","^"],55:["7","&"],56:["8","*"],57:["9","("],186:[";",":"],187:["=","+"],188:[",","<"],189:["-","_"],190:[".",">"],191:["/","?"],192:["`","~"],219:["[","{"],220:["\\","|"],221:["]","}"],222:["'",'"']};s.evaluateKeyboardEvent=function(u,g,b,S){const m={type:0,cancel:!1,key:void 0},c=(u.shiftKey?1:0)|(u.altKey?2:0)|(u.ctrlKey?4:0)|(u.metaKey?8:0);switch(u.keyCode){case 0:u.key==="UIKeyInputUpArrow"?m.key=g?a.C0.ESC+"OA":a.C0.ESC+"[A":u.key==="UIKeyInputLeftArrow"?m.key=g?a.C0.ESC+"OD":a.C0.ESC+"[D":u.key==="UIKeyInputRightArrow"?m.key=g?a.C0.ESC+"OC":a.C0.ESC+"[C":u.key==="UIKeyInputDownArrow"&&(m.key=g?a.C0.ESC+"OB":a.C0.ESC+"[B");break;case 8:m.key=u.ctrlKey?"\b":a.C0.DEL,u.altKey&&(m.key=a.C0.ESC+m.key);break;case 9:if(u.shiftKey){m.key=a.C0.ESC+"[Z";break}m.key=a.C0.HT,m.cancel=!0;break;case 13:m.key=u.altKey?a.C0.ESC+a.C0.CR:a.C0.CR,m.cancel=!0;break;case 27:m.key=a.C0.ESC,u.altKey&&(m.key=a.C0.ESC+a.C0.ESC),m.cancel=!0;break;case 37:if(u.metaKey)break;c?(m.key=a.C0.ESC+"[1;"+(c+1)+"D",m.key===a.C0.ESC+"[1;3D"&&(m.key=a.C0.ESC+(b?"b":"[1;5D"))):m.key=g?a.C0.ESC+"OD":a.C0.ESC+"[D";break;case 39:if(u.metaKey)break;c?(m.key=a.C0.ESC+"[1;"+(c+1)+"C",m.key===a.C0.ESC+"[1;3C"&&(m.key=a.C0.ESC+(b?"f":"[1;5C"))):m.key=g?a.C0.ESC+"OC":a.C0.ESC+"[C";break;case 38:if(u.metaKey)break;c?(m.key=a.C0.ESC+"[1;"+(c+1)+"A",b||m.key!==a.C0.ESC+"[1;3A"||(m.key=a.C0.ESC+"[1;5A")):m.key=g?a.C0.ESC+"OA":a.C0.ESC+"[A";break;case 40:if(u.metaKey)break;c?(m.key=a.C0.ESC+"[1;"+(c+1)+"B",b||m.key!==a.C0.ESC+"[1;3B"||(m.key=a.C0.ESC+"[1;5B")):m.key=g?a.C0.ESC+"OB":a.C0.ESC+"[B";break;case 45:u.shiftKey||u.ctrlKey||(m.key=a.C0.ESC+"[2~");break;case 46:m.key=c?a.C0.ESC+"[3;"+(c+1)+"~":a.C0.ESC+"[3~";break;case 36:m.key=c?a.C0.ESC+"[1;"+(c+1)+"H":g?a.C0.ESC+"OH":a.C0.ESC+"[H";break;case 35:m.key=c?a.C0.ESC+"[1;"+(c+1)+"F":g?a.C0.ESC+"OF":a.C0.ESC+"[F";break;case 33:u.shiftKey?m.type=2:u.ctrlKey?m.key=a.C0.ESC+"[5;"+(c+1)+"~":m.key=a.C0.ESC+"[5~";break;case 34:u.shiftKey?m.type=3:u.ctrlKey?m.key=a.C0.ESC+"[6;"+(c+1)+"~":m.key=a.C0.ESC+"[6~";break;case 112:m.key=c?a.C0.ESC+"[1;"+(c+1)+"P":a.C0.ESC+"OP";break;case 113:m.key=c?a.C0.ESC+"[1;"+(c+1)+"Q":a.C0.ESC+"OQ";break;case 114:m.key=c?a.C0.ESC+"[1;"+(c+1)+"R":a.C0.ESC+"OR";break;case 115:m.key=c?a.C0.ESC+"[1;"+(c+1)+"S":a.C0.ESC+"OS";break;case 116:m.key=c?a.C0.ESC+"[15;"+(c+1)+"~":a.C0.ESC+"[15~";break;case 117:m.key=c?a.C0.ESC+"[17;"+(c+1)+"~":a.C0.ESC+"[17~";break;case 118:m.key=c?a.C0.ESC+"[18;"+(c+1)+"~":a.C0.ESC+"[18~";break;case 119:m.key=c?a.C0.ESC+"[19;"+(c+1)+"~":a.C0.ESC+"[19~";break;case 120:m.key=c?a.C0.ESC+"[20;"+(c+1)+"~":a.C0.ESC+"[20~";break;case 121:m.key=c?a.C0.ESC+"[21;"+(c+1)+"~":a.C0.ESC+"[21~";break;case 122:m.key=c?a.C0.ESC+"[23;"+(c+1)+"~":a.C0.ESC+"[23~";break;case 123:m.key=c?a.C0.ESC+"[24;"+(c+1)+"~":a.C0.ESC+"[24~";break;default:if(!u.ctrlKey||u.shiftKey||u.altKey||u.metaKey)if(b&&!S||!u.altKey||u.metaKey)!b||u.altKey||u.ctrlKey||u.shiftKey||!u.metaKey?u.key&&!u.ctrlKey&&!u.altKey&&!u.metaKey&&u.keyCode>=48&&u.key.length===1?m.key=u.key:u.key&&u.ctrlKey&&(u.key==="_"&&(m.key=a.C0.US),u.key==="@"&&(m.key=a.C0.NUL)):u.keyCode===65&&(m.type=1);else{const p=d[u.keyCode],l=p?.[u.shiftKey?1:0];if(l)m.key=a.C0.ESC+l;else if(u.keyCode>=65&&u.keyCode<=90){const v=u.ctrlKey?u.keyCode-64:u.keyCode+32;let _=String.fromCharCode(v);u.shiftKey&&(_=_.toUpperCase()),m.key=a.C0.ESC+_}else if(u.keyCode===32)m.key=a.C0.ESC+(u.ctrlKey?a.C0.NUL:" ");else if(u.key==="Dead"&&u.code.startsWith("Key")){let v=u.code.slice(3,4);u.shiftKey||(v=v.toLowerCase()),m.key=a.C0.ESC+v,m.cancel=!0}}else u.keyCode>=65&&u.keyCode<=90?m.key=String.fromCharCode(u.keyCode-64):u.keyCode===32?m.key=a.C0.NUL:u.keyCode>=51&&u.keyCode<=55?m.key=String.fromCharCode(u.keyCode-51+27):u.keyCode===56?m.key=a.C0.DEL:u.keyCode===219?m.key=a.C0.ESC:u.keyCode===220?m.key=a.C0.FS:u.keyCode===221&&(m.key=a.C0.GS)}return m}},482:(f,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.Utf8ToUtf32=s.StringToUtf32=s.utf32ToString=s.stringFromCodePoint=void 0,s.stringFromCodePoint=function(o){return o>65535?(o-=65536,String.fromCharCode(55296+(o>>10))+String.fromCharCode(o%1024+56320)):String.fromCharCode(o)},s.utf32ToString=function(o,a=0,d=o.length){let u="";for(let g=a;g<d;++g){let b=o[g];b>65535?(b-=65536,u+=String.fromCharCode(55296+(b>>10))+String.fromCharCode(b%1024+56320)):u+=String.fromCharCode(b)}return u},s.StringToUtf32=class{constructor(){this._interim=0}clear(){this._interim=0}decode(o,a){const d=o.length;if(!d)return 0;let u=0,g=0;if(this._interim){const b=o.charCodeAt(g++);56320<=b&&b<=57343?a[u++]=1024*(this._interim-55296)+b-56320+65536:(a[u++]=this._interim,a[u++]=b),this._interim=0}for(let b=g;b<d;++b){const S=o.charCodeAt(b);if(55296<=S&&S<=56319){if(++b>=d)return this._interim=S,u;const m=o.charCodeAt(b);56320<=m&&m<=57343?a[u++]=1024*(S-55296)+m-56320+65536:(a[u++]=S,a[u++]=m)}else S!==65279&&(a[u++]=S)}return u}},s.Utf8ToUtf32=class{constructor(){this.interim=new Uint8Array(3)}clear(){this.interim.fill(0)}decode(o,a){const d=o.length;if(!d)return 0;let u,g,b,S,m=0,c=0,p=0;if(this.interim[0]){let _=!1,w=this.interim[0];w&=(224&w)==192?31:(240&w)==224?15:7;let E,C=0;for(;(E=63&this.interim[++C])&&C<4;)w<<=6,w|=E;const y=(224&this.interim[0])==192?2:(240&this.interim[0])==224?3:4,x=y-C;for(;p<x;){if(p>=d)return 0;if(E=o[p++],(192&E)!=128){p--,_=!0;break}this.interim[C++]=E,w<<=6,w|=63&E}_||(y===2?w<128?p--:a[m++]=w:y===3?w<2048||w>=55296&&w<=57343||w===65279||(a[m++]=w):w<65536||w>1114111||(a[m++]=w)),this.interim.fill(0)}const l=d-4;let v=p;for(;v<d;){for(;!(!(v<l)||128&(u=o[v])||128&(g=o[v+1])||128&(b=o[v+2])||128&(S=o[v+3]));)a[m++]=u,a[m++]=g,a[m++]=b,a[m++]=S,v+=4;if(u=o[v++],u<128)a[m++]=u;else if((224&u)==192){if(v>=d)return this.interim[0]=u,m;if(g=o[v++],(192&g)!=128){v--;continue}if(c=(31&u)<<6|63&g,c<128){v--;continue}a[m++]=c}else if((240&u)==224){if(v>=d)return this.interim[0]=u,m;if(g=o[v++],(192&g)!=128){v--;continue}if(v>=d)return this.interim[0]=u,this.interim[1]=g,m;if(b=o[v++],(192&b)!=128){v--;continue}if(c=(15&u)<<12|(63&g)<<6|63&b,c<2048||c>=55296&&c<=57343||c===65279)continue;a[m++]=c}else if((248&u)==240){if(v>=d)return this.interim[0]=u,m;if(g=o[v++],(192&g)!=128){v--;continue}if(v>=d)return this.interim[0]=u,this.interim[1]=g,m;if(b=o[v++],(192&b)!=128){v--;continue}if(v>=d)return this.interim[0]=u,this.interim[1]=g,this.interim[2]=b,m;if(S=o[v++],(192&S)!=128){v--;continue}if(c=(7&u)<<18|(63&g)<<12|(63&b)<<6|63&S,c<65536||c>1114111)continue;a[m++]=c}}return m}}},225:(f,s,o)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.UnicodeV6=void 0;const a=o(1480),d=[[768,879],[1155,1158],[1160,1161],[1425,1469],[1471,1471],[1473,1474],[1476,1477],[1479,1479],[1536,1539],[1552,1557],[1611,1630],[1648,1648],[1750,1764],[1767,1768],[1770,1773],[1807,1807],[1809,1809],[1840,1866],[1958,1968],[2027,2035],[2305,2306],[2364,2364],[2369,2376],[2381,2381],[2385,2388],[2402,2403],[2433,2433],[2492,2492],[2497,2500],[2509,2509],[2530,2531],[2561,2562],[2620,2620],[2625,2626],[2631,2632],[2635,2637],[2672,2673],[2689,2690],[2748,2748],[2753,2757],[2759,2760],[2765,2765],[2786,2787],[2817,2817],[2876,2876],[2879,2879],[2881,2883],[2893,2893],[2902,2902],[2946,2946],[3008,3008],[3021,3021],[3134,3136],[3142,3144],[3146,3149],[3157,3158],[3260,3260],[3263,3263],[3270,3270],[3276,3277],[3298,3299],[3393,3395],[3405,3405],[3530,3530],[3538,3540],[3542,3542],[3633,3633],[3636,3642],[3655,3662],[3761,3761],[3764,3769],[3771,3772],[3784,3789],[3864,3865],[3893,3893],[3895,3895],[3897,3897],[3953,3966],[3968,3972],[3974,3975],[3984,3991],[3993,4028],[4038,4038],[4141,4144],[4146,4146],[4150,4151],[4153,4153],[4184,4185],[4448,4607],[4959,4959],[5906,5908],[5938,5940],[5970,5971],[6002,6003],[6068,6069],[6071,6077],[6086,6086],[6089,6099],[6109,6109],[6155,6157],[6313,6313],[6432,6434],[6439,6440],[6450,6450],[6457,6459],[6679,6680],[6912,6915],[6964,6964],[6966,6970],[6972,6972],[6978,6978],[7019,7027],[7616,7626],[7678,7679],[8203,8207],[8234,8238],[8288,8291],[8298,8303],[8400,8431],[12330,12335],[12441,12442],[43014,43014],[43019,43019],[43045,43046],[64286,64286],[65024,65039],[65056,65059],[65279,65279],[65529,65531]],u=[[68097,68099],[68101,68102],[68108,68111],[68152,68154],[68159,68159],[119143,119145],[119155,119170],[119173,119179],[119210,119213],[119362,119364],[917505,917505],[917536,917631],[917760,917999]];let g;s.UnicodeV6=class{constructor(){if(this.version="6",!g){g=new Uint8Array(65536),g.fill(1),g[0]=0,g.fill(0,1,32),g.fill(0,127,160),g.fill(2,4352,4448),g[9001]=2,g[9002]=2,g.fill(2,11904,42192),g[12351]=1,g.fill(2,44032,55204),g.fill(2,63744,64256),g.fill(2,65040,65050),g.fill(2,65072,65136),g.fill(2,65280,65377),g.fill(2,65504,65511);for(let b=0;b<d.length;++b)g.fill(0,d[b][0],d[b][1]+1)}}wcwidth(b){return b<32?0:b<127?1:b<65536?g[b]:function(S,m){let c,p=0,l=m.length-1;if(S<m[0][0]||S>m[l][1])return!1;for(;l>=p;)if(c=p+l>>1,S>m[c][1])p=c+1;else{if(!(S<m[c][0]))return!0;l=c-1}return!1}(b,u)?0:b>=131072&&b<=196605||b>=196608&&b<=262141?2:1}charProperties(b,S){let m=this.wcwidth(b),c=m===0&&S!==0;if(c){const p=a.UnicodeService.extractWidth(S);p===0?c=!1:p>m&&(m=p)}return a.UnicodeService.createPropertyValue(0,m,c)}}},5981:(f,s,o)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.WriteBuffer=void 0;const a=o(8460),d=o(844);class u extends d.Disposable{constructor(b){super(),this._action=b,this._writeBuffer=[],this._callbacks=[],this._pendingData=0,this._bufferOffset=0,this._isSyncWriting=!1,this._syncCalls=0,this._didUserInput=!1,this._onWriteParsed=this.register(new a.EventEmitter),this.onWriteParsed=this._onWriteParsed.event}handleUserInput(){this._didUserInput=!0}writeSync(b,S){if(S!==void 0&&this._syncCalls>S)return void(this._syncCalls=0);if(this._pendingData+=b.length,this._writeBuffer.push(b),this._callbacks.push(void 0),this._syncCalls++,this._isSyncWriting)return;let m;for(this._isSyncWriting=!0;m=this._writeBuffer.shift();){this._action(m);const c=this._callbacks.shift();c&&c()}this._pendingData=0,this._bufferOffset=2147483647,this._isSyncWriting=!1,this._syncCalls=0}write(b,S){if(this._pendingData>5e7)throw new Error("write data discarded, use flow control to avoid losing data");if(!this._writeBuffer.length){if(this._bufferOffset=0,this._didUserInput)return this._didUserInput=!1,this._pendingData+=b.length,this._writeBuffer.push(b),this._callbacks.push(S),void this._innerWrite();setTimeout(()=>this._innerWrite())}this._pendingData+=b.length,this._writeBuffer.push(b),this._callbacks.push(S)}_innerWrite(b=0,S=!0){const m=b||Date.now();for(;this._writeBuffer.length>this._bufferOffset;){const c=this._writeBuffer[this._bufferOffset],p=this._action(c,S);if(p){const v=_=>Date.now()-m>=12?setTimeout(()=>this._innerWrite(0,_)):this._innerWrite(m,_);return void p.catch(_=>(queueMicrotask(()=>{throw _}),Promise.resolve(!1))).then(v)}const l=this._callbacks[this._bufferOffset];if(l&&l(),this._bufferOffset++,this._pendingData-=c.length,Date.now()-m>=12)break}this._writeBuffer.length>this._bufferOffset?(this._bufferOffset>50&&(this._writeBuffer=this._writeBuffer.slice(this._bufferOffset),this._callbacks=this._callbacks.slice(this._bufferOffset),this._bufferOffset=0),setTimeout(()=>this._innerWrite())):(this._writeBuffer.length=0,this._callbacks.length=0,this._pendingData=0,this._bufferOffset=0),this._onWriteParsed.fire()}}s.WriteBuffer=u},5941:(f,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.toRgbString=s.parseColor=void 0;const o=/^([\da-f])\/([\da-f])\/([\da-f])$|^([\da-f]{2})\/([\da-f]{2})\/([\da-f]{2})$|^([\da-f]{3})\/([\da-f]{3})\/([\da-f]{3})$|^([\da-f]{4})\/([\da-f]{4})\/([\da-f]{4})$/,a=/^[\da-f]+$/;function d(u,g){const b=u.toString(16),S=b.length<2?"0"+b:b;switch(g){case 4:return b[0];case 8:return S;case 12:return(S+S).slice(0,3);default:return S+S}}s.parseColor=function(u){if(!u)return;let g=u.toLowerCase();if(g.indexOf("rgb:")===0){g=g.slice(4);const b=o.exec(g);if(b){const S=b[1]?15:b[4]?255:b[7]?4095:65535;return[Math.round(parseInt(b[1]||b[4]||b[7]||b[10],16)/S*255),Math.round(parseInt(b[2]||b[5]||b[8]||b[11],16)/S*255),Math.round(parseInt(b[3]||b[6]||b[9]||b[12],16)/S*255)]}}else if(g.indexOf("#")===0&&(g=g.slice(1),a.exec(g)&&[3,6,9,12].includes(g.length))){const b=g.length/3,S=[0,0,0];for(let m=0;m<3;++m){const c=parseInt(g.slice(b*m,b*m+b),16);S[m]=b===1?c<<4:b===2?c:b===3?c>>4:c>>8}return S}},s.toRgbString=function(u,g=16){const[b,S,m]=u;return`rgb:${d(b,g)}/${d(S,g)}/${d(m,g)}`}},5770:(f,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.PAYLOAD_LIMIT=void 0,s.PAYLOAD_LIMIT=1e7},6351:(f,s,o)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.DcsHandler=s.DcsParser=void 0;const a=o(482),d=o(8742),u=o(5770),g=[];s.DcsParser=class{constructor(){this._handlers=Object.create(null),this._active=g,this._ident=0,this._handlerFb=()=>{},this._stack={paused:!1,loopPosition:0,fallThrough:!1}}dispose(){this._handlers=Object.create(null),this._handlerFb=()=>{},this._active=g}registerHandler(S,m){this._handlers[S]===void 0&&(this._handlers[S]=[]);const c=this._handlers[S];return c.push(m),{dispose:()=>{const p=c.indexOf(m);p!==-1&&c.splice(p,1)}}}clearHandler(S){this._handlers[S]&&delete this._handlers[S]}setHandlerFallback(S){this._handlerFb=S}reset(){if(this._active.length)for(let S=this._stack.paused?this._stack.loopPosition-1:this._active.length-1;S>=0;--S)this._active[S].unhook(!1);this._stack.paused=!1,this._active=g,this._ident=0}hook(S,m){if(this.reset(),this._ident=S,this._active=this._handlers[S]||g,this._active.length)for(let c=this._active.length-1;c>=0;c--)this._active[c].hook(m);else this._handlerFb(this._ident,"HOOK",m)}put(S,m,c){if(this._active.length)for(let p=this._active.length-1;p>=0;p--)this._active[p].put(S,m,c);else this._handlerFb(this._ident,"PUT",(0,a.utf32ToString)(S,m,c))}unhook(S,m=!0){if(this._active.length){let c=!1,p=this._active.length-1,l=!1;if(this._stack.paused&&(p=this._stack.loopPosition-1,c=m,l=this._stack.fallThrough,this._stack.paused=!1),!l&&c===!1){for(;p>=0&&(c=this._active[p].unhook(S),c!==!0);p--)if(c instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=p,this._stack.fallThrough=!1,c;p--}for(;p>=0;p--)if(c=this._active[p].unhook(!1),c instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=p,this._stack.fallThrough=!0,c}else this._handlerFb(this._ident,"UNHOOK",S);this._active=g,this._ident=0}};const b=new d.Params;b.addParam(0),s.DcsHandler=class{constructor(S){this._handler=S,this._data="",this._params=b,this._hitLimit=!1}hook(S){this._params=S.length>1||S.params[0]?S.clone():b,this._data="",this._hitLimit=!1}put(S,m,c){this._hitLimit||(this._data+=(0,a.utf32ToString)(S,m,c),this._data.length>u.PAYLOAD_LIMIT&&(this._data="",this._hitLimit=!0))}unhook(S){let m=!1;if(this._hitLimit)m=!1;else if(S&&(m=this._handler(this._data,this._params),m instanceof Promise))return m.then(c=>(this._params=b,this._data="",this._hitLimit=!1,c));return this._params=b,this._data="",this._hitLimit=!1,m}}},2015:(f,s,o)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.EscapeSequenceParser=s.VT500_TRANSITION_TABLE=s.TransitionTable=void 0;const a=o(844),d=o(8742),u=o(6242),g=o(6351);class b{constructor(p){this.table=new Uint8Array(p)}setDefault(p,l){this.table.fill(p<<4|l)}add(p,l,v,_){this.table[l<<8|p]=v<<4|_}addMany(p,l,v,_){for(let w=0;w<p.length;w++)this.table[l<<8|p[w]]=v<<4|_}}s.TransitionTable=b;const S=160;s.VT500_TRANSITION_TABLE=function(){const c=new b(4095),p=Array.apply(null,Array(256)).map((C,y)=>y),l=(C,y)=>p.slice(C,y),v=l(32,127),_=l(0,24);_.push(25),_.push.apply(_,l(28,32));const w=l(0,14);let E;for(E in c.setDefault(1,0),c.addMany(v,0,2,0),w)c.addMany([24,26,153,154],E,3,0),c.addMany(l(128,144),E,3,0),c.addMany(l(144,152),E,3,0),c.add(156,E,0,0),c.add(27,E,11,1),c.add(157,E,4,8),c.addMany([152,158,159],E,0,7),c.add(155,E,11,3),c.add(144,E,11,9);return c.addMany(_,0,3,0),c.addMany(_,1,3,1),c.add(127,1,0,1),c.addMany(_,8,0,8),c.addMany(_,3,3,3),c.add(127,3,0,3),c.addMany(_,4,3,4),c.add(127,4,0,4),c.addMany(_,6,3,6),c.addMany(_,5,3,5),c.add(127,5,0,5),c.addMany(_,2,3,2),c.add(127,2,0,2),c.add(93,1,4,8),c.addMany(v,8,5,8),c.add(127,8,5,8),c.addMany([156,27,24,26,7],8,6,0),c.addMany(l(28,32),8,0,8),c.addMany([88,94,95],1,0,7),c.addMany(v,7,0,7),c.addMany(_,7,0,7),c.add(156,7,0,0),c.add(127,7,0,7),c.add(91,1,11,3),c.addMany(l(64,127),3,7,0),c.addMany(l(48,60),3,8,4),c.addMany([60,61,62,63],3,9,4),c.addMany(l(48,60),4,8,4),c.addMany(l(64,127),4,7,0),c.addMany([60,61,62,63],4,0,6),c.addMany(l(32,64),6,0,6),c.add(127,6,0,6),c.addMany(l(64,127),6,0,0),c.addMany(l(32,48),3,9,5),c.addMany(l(32,48),5,9,5),c.addMany(l(48,64),5,0,6),c.addMany(l(64,127),5,7,0),c.addMany(l(32,48),4,9,5),c.addMany(l(32,48),1,9,2),c.addMany(l(32,48),2,9,2),c.addMany(l(48,127),2,10,0),c.addMany(l(48,80),1,10,0),c.addMany(l(81,88),1,10,0),c.addMany([89,90,92],1,10,0),c.addMany(l(96,127),1,10,0),c.add(80,1,11,9),c.addMany(_,9,0,9),c.add(127,9,0,9),c.addMany(l(28,32),9,0,9),c.addMany(l(32,48),9,9,12),c.addMany(l(48,60),9,8,10),c.addMany([60,61,62,63],9,9,10),c.addMany(_,11,0,11),c.addMany(l(32,128),11,0,11),c.addMany(l(28,32),11,0,11),c.addMany(_,10,0,10),c.add(127,10,0,10),c.addMany(l(28,32),10,0,10),c.addMany(l(48,60),10,8,10),c.addMany([60,61,62,63],10,0,11),c.addMany(l(32,48),10,9,12),c.addMany(_,12,0,12),c.add(127,12,0,12),c.addMany(l(28,32),12,0,12),c.addMany(l(32,48),12,9,12),c.addMany(l(48,64),12,0,11),c.addMany(l(64,127),12,12,13),c.addMany(l(64,127),10,12,13),c.addMany(l(64,127),9,12,13),c.addMany(_,13,13,13),c.addMany(v,13,13,13),c.add(127,13,0,13),c.addMany([27,156,24,26],13,14,0),c.add(S,0,2,0),c.add(S,8,5,8),c.add(S,6,0,6),c.add(S,11,0,11),c.add(S,13,13,13),c}();class m extends a.Disposable{constructor(p=s.VT500_TRANSITION_TABLE){super(),this._transitions=p,this._parseStack={state:0,handlers:[],handlerPos:0,transition:0,chunkPos:0},this.initialState=0,this.currentState=this.initialState,this._params=new d.Params,this._params.addParam(0),this._collect=0,this.precedingJoinState=0,this._printHandlerFb=(l,v,_)=>{},this._executeHandlerFb=l=>{},this._csiHandlerFb=(l,v)=>{},this._escHandlerFb=l=>{},this._errorHandlerFb=l=>l,this._printHandler=this._printHandlerFb,this._executeHandlers=Object.create(null),this._csiHandlers=Object.create(null),this._escHandlers=Object.create(null),this.register((0,a.toDisposable)(()=>{this._csiHandlers=Object.create(null),this._executeHandlers=Object.create(null),this._escHandlers=Object.create(null)})),this._oscParser=this.register(new u.OscParser),this._dcsParser=this.register(new g.DcsParser),this._errorHandler=this._errorHandlerFb,this.registerEscHandler({final:"\\"},()=>!0)}_identifier(p,l=[64,126]){let v=0;if(p.prefix){if(p.prefix.length>1)throw new Error("only one byte as prefix supported");if(v=p.prefix.charCodeAt(0),v&&60>v||v>63)throw new Error("prefix must be in range 0x3c .. 0x3f")}if(p.intermediates){if(p.intermediates.length>2)throw new Error("only two bytes as intermediates are supported");for(let w=0;w<p.intermediates.length;++w){const E=p.intermediates.charCodeAt(w);if(32>E||E>47)throw new Error("intermediate must be in range 0x20 .. 0x2f");v<<=8,v|=E}}if(p.final.length!==1)throw new Error("final must be a single byte");const _=p.final.charCodeAt(0);if(l[0]>_||_>l[1])throw new Error(`final must be in range ${l[0]} .. ${l[1]}`);return v<<=8,v|=_,v}identToString(p){const l=[];for(;p;)l.push(String.fromCharCode(255&p)),p>>=8;return l.reverse().join("")}setPrintHandler(p){this._printHandler=p}clearPrintHandler(){this._printHandler=this._printHandlerFb}registerEscHandler(p,l){const v=this._identifier(p,[48,126]);this._escHandlers[v]===void 0&&(this._escHandlers[v]=[]);const _=this._escHandlers[v];return _.push(l),{dispose:()=>{const w=_.indexOf(l);w!==-1&&_.splice(w,1)}}}clearEscHandler(p){this._escHandlers[this._identifier(p,[48,126])]&&delete this._escHandlers[this._identifier(p,[48,126])]}setEscHandlerFallback(p){this._escHandlerFb=p}setExecuteHandler(p,l){this._executeHandlers[p.charCodeAt(0)]=l}clearExecuteHandler(p){this._executeHandlers[p.charCodeAt(0)]&&delete this._executeHandlers[p.charCodeAt(0)]}setExecuteHandlerFallback(p){this._executeHandlerFb=p}registerCsiHandler(p,l){const v=this._identifier(p);this._csiHandlers[v]===void 0&&(this._csiHandlers[v]=[]);const _=this._csiHandlers[v];return _.push(l),{dispose:()=>{const w=_.indexOf(l);w!==-1&&_.splice(w,1)}}}clearCsiHandler(p){this._csiHandlers[this._identifier(p)]&&delete this._csiHandlers[this._identifier(p)]}setCsiHandlerFallback(p){this._csiHandlerFb=p}registerDcsHandler(p,l){return this._dcsParser.registerHandler(this._identifier(p),l)}clearDcsHandler(p){this._dcsParser.clearHandler(this._identifier(p))}setDcsHandlerFallback(p){this._dcsParser.setHandlerFallback(p)}registerOscHandler(p,l){return this._oscParser.registerHandler(p,l)}clearOscHandler(p){this._oscParser.clearHandler(p)}setOscHandlerFallback(p){this._oscParser.setHandlerFallback(p)}setErrorHandler(p){this._errorHandler=p}clearErrorHandler(){this._errorHandler=this._errorHandlerFb}reset(){this.currentState=this.initialState,this._oscParser.reset(),this._dcsParser.reset(),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingJoinState=0,this._parseStack.state!==0&&(this._parseStack.state=2,this._parseStack.handlers=[])}_preserveStack(p,l,v,_,w){this._parseStack.state=p,this._parseStack.handlers=l,this._parseStack.handlerPos=v,this._parseStack.transition=_,this._parseStack.chunkPos=w}parse(p,l,v){let _,w=0,E=0,C=0;if(this._parseStack.state)if(this._parseStack.state===2)this._parseStack.state=0,C=this._parseStack.chunkPos+1;else{if(v===void 0||this._parseStack.state===1)throw this._parseStack.state=1,new Error("improper continuation due to previous async handler, giving up parsing");const y=this._parseStack.handlers;let x=this._parseStack.handlerPos-1;switch(this._parseStack.state){case 3:if(v===!1&&x>-1){for(;x>=0&&(_=y[x](this._params),_!==!0);x--)if(_ instanceof Promise)return this._parseStack.handlerPos=x,_}this._parseStack.handlers=[];break;case 4:if(v===!1&&x>-1){for(;x>=0&&(_=y[x](),_!==!0);x--)if(_ instanceof Promise)return this._parseStack.handlerPos=x,_}this._parseStack.handlers=[];break;case 6:if(w=p[this._parseStack.chunkPos],_=this._dcsParser.unhook(w!==24&&w!==26,v),_)return _;w===27&&(this._parseStack.transition|=1),this._params.reset(),this._params.addParam(0),this._collect=0;break;case 5:if(w=p[this._parseStack.chunkPos],_=this._oscParser.end(w!==24&&w!==26,v),_)return _;w===27&&(this._parseStack.transition|=1),this._params.reset(),this._params.addParam(0),this._collect=0}this._parseStack.state=0,C=this._parseStack.chunkPos+1,this.precedingJoinState=0,this.currentState=15&this._parseStack.transition}for(let y=C;y<l;++y){switch(w=p[y],E=this._transitions.table[this.currentState<<8|(w<160?w:S)],E>>4){case 2:for(let T=y+1;;++T){if(T>=l||(w=p[T])<32||w>126&&w<S){this._printHandler(p,y,T),y=T-1;break}if(++T>=l||(w=p[T])<32||w>126&&w<S){this._printHandler(p,y,T),y=T-1;break}if(++T>=l||(w=p[T])<32||w>126&&w<S){this._printHandler(p,y,T),y=T-1;break}if(++T>=l||(w=p[T])<32||w>126&&w<S){this._printHandler(p,y,T),y=T-1;break}}break;case 3:this._executeHandlers[w]?this._executeHandlers[w]():this._executeHandlerFb(w),this.precedingJoinState=0;break;case 0:break;case 1:if(this._errorHandler({position:y,code:w,currentState:this.currentState,collect:this._collect,params:this._params,abort:!1}).abort)return;break;case 7:const x=this._csiHandlers[this._collect<<8|w];let R=x?x.length-1:-1;for(;R>=0&&(_=x[R](this._params),_!==!0);R--)if(_ instanceof Promise)return this._preserveStack(3,x,R,E,y),_;R<0&&this._csiHandlerFb(this._collect<<8|w,this._params),this.precedingJoinState=0;break;case 8:do switch(w){case 59:this._params.addParam(0);break;case 58:this._params.addSubParam(-1);break;default:this._params.addDigit(w-48)}while(++y<l&&(w=p[y])>47&&w<60);y--;break;case 9:this._collect<<=8,this._collect|=w;break;case 10:const M=this._escHandlers[this._collect<<8|w];let I=M?M.length-1:-1;for(;I>=0&&(_=M[I](),_!==!0);I--)if(_ instanceof Promise)return this._preserveStack(4,M,I,E,y),_;I<0&&this._escHandlerFb(this._collect<<8|w),this.precedingJoinState=0;break;case 11:this._params.reset(),this._params.addParam(0),this._collect=0;break;case 12:this._dcsParser.hook(this._collect<<8|w,this._params);break;case 13:for(let T=y+1;;++T)if(T>=l||(w=p[T])===24||w===26||w===27||w>127&&w<S){this._dcsParser.put(p,y,T),y=T-1;break}break;case 14:if(_=this._dcsParser.unhook(w!==24&&w!==26),_)return this._preserveStack(6,[],0,E,y),_;w===27&&(E|=1),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingJoinState=0;break;case 4:this._oscParser.start();break;case 5:for(let T=y+1;;T++)if(T>=l||(w=p[T])<32||w>127&&w<S){this._oscParser.put(p,y,T),y=T-1;break}break;case 6:if(_=this._oscParser.end(w!==24&&w!==26),_)return this._preserveStack(5,[],0,E,y),_;w===27&&(E|=1),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingJoinState=0}this.currentState=15&E}}}s.EscapeSequenceParser=m},6242:(f,s,o)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.OscHandler=s.OscParser=void 0;const a=o(5770),d=o(482),u=[];s.OscParser=class{constructor(){this._state=0,this._active=u,this._id=-1,this._handlers=Object.create(null),this._handlerFb=()=>{},this._stack={paused:!1,loopPosition:0,fallThrough:!1}}registerHandler(g,b){this._handlers[g]===void 0&&(this._handlers[g]=[]);const S=this._handlers[g];return S.push(b),{dispose:()=>{const m=S.indexOf(b);m!==-1&&S.splice(m,1)}}}clearHandler(g){this._handlers[g]&&delete this._handlers[g]}setHandlerFallback(g){this._handlerFb=g}dispose(){this._handlers=Object.create(null),this._handlerFb=()=>{},this._active=u}reset(){if(this._state===2)for(let g=this._stack.paused?this._stack.loopPosition-1:this._active.length-1;g>=0;--g)this._active[g].end(!1);this._stack.paused=!1,this._active=u,this._id=-1,this._state=0}_start(){if(this._active=this._handlers[this._id]||u,this._active.length)for(let g=this._active.length-1;g>=0;g--)this._active[g].start();else this._handlerFb(this._id,"START")}_put(g,b,S){if(this._active.length)for(let m=this._active.length-1;m>=0;m--)this._active[m].put(g,b,S);else this._handlerFb(this._id,"PUT",(0,d.utf32ToString)(g,b,S))}start(){this.reset(),this._state=1}put(g,b,S){if(this._state!==3){if(this._state===1)for(;b<S;){const m=g[b++];if(m===59){this._state=2,this._start();break}if(m<48||57<m)return void(this._state=3);this._id===-1&&(this._id=0),this._id=10*this._id+m-48}this._state===2&&S-b>0&&this._put(g,b,S)}}end(g,b=!0){if(this._state!==0){if(this._state!==3)if(this._state===1&&this._start(),this._active.length){let S=!1,m=this._active.length-1,c=!1;if(this._stack.paused&&(m=this._stack.loopPosition-1,S=b,c=this._stack.fallThrough,this._stack.paused=!1),!c&&S===!1){for(;m>=0&&(S=this._active[m].end(g),S!==!0);m--)if(S instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=m,this._stack.fallThrough=!1,S;m--}for(;m>=0;m--)if(S=this._active[m].end(!1),S instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=m,this._stack.fallThrough=!0,S}else this._handlerFb(this._id,"END",g);this._active=u,this._id=-1,this._state=0}}},s.OscHandler=class{constructor(g){this._handler=g,this._data="",this._hitLimit=!1}start(){this._data="",this._hitLimit=!1}put(g,b,S){this._hitLimit||(this._data+=(0,d.utf32ToString)(g,b,S),this._data.length>a.PAYLOAD_LIMIT&&(this._data="",this._hitLimit=!0))}end(g){let b=!1;if(this._hitLimit)b=!1;else if(g&&(b=this._handler(this._data),b instanceof Promise))return b.then(S=>(this._data="",this._hitLimit=!1,S));return this._data="",this._hitLimit=!1,b}}},8742:(f,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.Params=void 0;const o=2147483647;class a{static fromArray(u){const g=new a;if(!u.length)return g;for(let b=Array.isArray(u[0])?1:0;b<u.length;++b){const S=u[b];if(Array.isArray(S))for(let m=0;m<S.length;++m)g.addSubParam(S[m]);else g.addParam(S)}return g}constructor(u=32,g=32){if(this.maxLength=u,this.maxSubParamsLength=g,g>256)throw new Error("maxSubParamsLength must not be greater than 256");this.params=new Int32Array(u),this.length=0,this._subParams=new Int32Array(g),this._subParamsLength=0,this._subParamsIdx=new Uint16Array(u),this._rejectDigits=!1,this._rejectSubDigits=!1,this._digitIsSub=!1}clone(){const u=new a(this.maxLength,this.maxSubParamsLength);return u.params.set(this.params),u.length=this.length,u._subParams.set(this._subParams),u._subParamsLength=this._subParamsLength,u._subParamsIdx.set(this._subParamsIdx),u._rejectDigits=this._rejectDigits,u._rejectSubDigits=this._rejectSubDigits,u._digitIsSub=this._digitIsSub,u}toArray(){const u=[];for(let g=0;g<this.length;++g){u.push(this.params[g]);const b=this._subParamsIdx[g]>>8,S=255&this._subParamsIdx[g];S-b>0&&u.push(Array.prototype.slice.call(this._subParams,b,S))}return u}reset(){this.length=0,this._subParamsLength=0,this._rejectDigits=!1,this._rejectSubDigits=!1,this._digitIsSub=!1}addParam(u){if(this._digitIsSub=!1,this.length>=this.maxLength)this._rejectDigits=!0;else{if(u<-1)throw new Error("values lesser than -1 are not allowed");this._subParamsIdx[this.length]=this._subParamsLength<<8|this._subParamsLength,this.params[this.length++]=u>o?o:u}}addSubParam(u){if(this._digitIsSub=!0,this.length)if(this._rejectDigits||this._subParamsLength>=this.maxSubParamsLength)this._rejectSubDigits=!0;else{if(u<-1)throw new Error("values lesser than -1 are not allowed");this._subParams[this._subParamsLength++]=u>o?o:u,this._subParamsIdx[this.length-1]++}}hasSubParams(u){return(255&this._subParamsIdx[u])-(this._subParamsIdx[u]>>8)>0}getSubParams(u){const g=this._subParamsIdx[u]>>8,b=255&this._subParamsIdx[u];return b-g>0?this._subParams.subarray(g,b):null}getSubParamsAll(){const u={};for(let g=0;g<this.length;++g){const b=this._subParamsIdx[g]>>8,S=255&this._subParamsIdx[g];S-b>0&&(u[g]=this._subParams.slice(b,S))}return u}addDigit(u){let g;if(this._rejectDigits||!(g=this._digitIsSub?this._subParamsLength:this.length)||this._digitIsSub&&this._rejectSubDigits)return;const b=this._digitIsSub?this._subParams:this.params,S=b[g-1];b[g-1]=~S?Math.min(10*S+u,o):u}}s.Params=a},5741:(f,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.AddonManager=void 0,s.AddonManager=class{constructor(){this._addons=[]}dispose(){for(let o=this._addons.length-1;o>=0;o--)this._addons[o].instance.dispose()}loadAddon(o,a){const d={instance:a,dispose:a.dispose,isDisposed:!1};this._addons.push(d),a.dispose=()=>this._wrappedAddonDispose(d),a.activate(o)}_wrappedAddonDispose(o){if(o.isDisposed)return;let a=-1;for(let d=0;d<this._addons.length;d++)if(this._addons[d]===o){a=d;break}if(a===-1)throw new Error("Could not dispose an addon that has not been loaded");o.isDisposed=!0,o.dispose.apply(o.instance),this._addons.splice(a,1)}}},8771:(f,s,o)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.BufferApiView=void 0;const a=o(3785),d=o(511);s.BufferApiView=class{constructor(u,g){this._buffer=u,this.type=g}init(u){return this._buffer=u,this}get cursorY(){return this._buffer.y}get cursorX(){return this._buffer.x}get viewportY(){return this._buffer.ydisp}get baseY(){return this._buffer.ybase}get length(){return this._buffer.lines.length}getLine(u){const g=this._buffer.lines.get(u);if(g)return new a.BufferLineApiView(g)}getNullCell(){return new d.CellData}}},3785:(f,s,o)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.BufferLineApiView=void 0;const a=o(511);s.BufferLineApiView=class{constructor(d){this._line=d}get isWrapped(){return this._line.isWrapped}get length(){return this._line.length}getCell(d,u){if(!(d<0||d>=this._line.length))return u?(this._line.loadCell(d,u),u):this._line.loadCell(d,new a.CellData)}translateToString(d,u,g){return this._line.translateToString(d,u,g)}}},8285:(f,s,o)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.BufferNamespaceApi=void 0;const a=o(8771),d=o(8460),u=o(844);class g extends u.Disposable{constructor(S){super(),this._core=S,this._onBufferChange=this.register(new d.EventEmitter),this.onBufferChange=this._onBufferChange.event,this._normal=new a.BufferApiView(this._core.buffers.normal,"normal"),this._alternate=new a.BufferApiView(this._core.buffers.alt,"alternate"),this._core.buffers.onBufferActivate(()=>this._onBufferChange.fire(this.active))}get active(){if(this._core.buffers.active===this._core.buffers.normal)return this.normal;if(this._core.buffers.active===this._core.buffers.alt)return this.alternate;throw new Error("Active buffer is neither normal nor alternate")}get normal(){return this._normal.init(this._core.buffers.normal)}get alternate(){return this._alternate.init(this._core.buffers.alt)}}s.BufferNamespaceApi=g},7975:(f,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.ParserApi=void 0,s.ParserApi=class{constructor(o){this._core=o}registerCsiHandler(o,a){return this._core.registerCsiHandler(o,d=>a(d.toArray()))}addCsiHandler(o,a){return this.registerCsiHandler(o,a)}registerDcsHandler(o,a){return this._core.registerDcsHandler(o,(d,u)=>a(d,u.toArray()))}addDcsHandler(o,a){return this.registerDcsHandler(o,a)}registerEscHandler(o,a){return this._core.registerEscHandler(o,a)}addEscHandler(o,a){return this.registerEscHandler(o,a)}registerOscHandler(o,a){return this._core.registerOscHandler(o,a)}addOscHandler(o,a){return this.registerOscHandler(o,a)}}},7090:(f,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.UnicodeApi=void 0,s.UnicodeApi=class{constructor(o){this._core=o}register(o){this._core.unicodeService.register(o)}get versions(){return this._core.unicodeService.versions}get activeVersion(){return this._core.unicodeService.activeVersion}set activeVersion(o){this._core.unicodeService.activeVersion=o}}},744:function(f,s,o){var a=this&&this.__decorate||function(c,p,l,v){var _,w=arguments.length,E=w<3?p:v===null?v=Object.getOwnPropertyDescriptor(p,l):v;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")E=Reflect.decorate(c,p,l,v);else for(var C=c.length-1;C>=0;C--)(_=c[C])&&(E=(w<3?_(E):w>3?_(p,l,E):_(p,l))||E);return w>3&&E&&Object.defineProperty(p,l,E),E},d=this&&this.__param||function(c,p){return function(l,v){p(l,v,c)}};Object.defineProperty(s,"__esModule",{value:!0}),s.BufferService=s.MINIMUM_ROWS=s.MINIMUM_COLS=void 0;const u=o(8460),g=o(844),b=o(5295),S=o(2585);s.MINIMUM_COLS=2,s.MINIMUM_ROWS=1;let m=s.BufferService=class extends g.Disposable{get buffer(){return this.buffers.active}constructor(c){super(),this.isUserScrolling=!1,this._onResize=this.register(new u.EventEmitter),this.onResize=this._onResize.event,this._onScroll=this.register(new u.EventEmitter),this.onScroll=this._onScroll.event,this.cols=Math.max(c.rawOptions.cols||0,s.MINIMUM_COLS),this.rows=Math.max(c.rawOptions.rows||0,s.MINIMUM_ROWS),this.buffers=this.register(new b.BufferSet(c,this))}resize(c,p){this.cols=c,this.rows=p,this.buffers.resize(c,p),this._onResize.fire({cols:c,rows:p})}reset(){this.buffers.reset(),this.isUserScrolling=!1}scroll(c,p=!1){const l=this.buffer;let v;v=this._cachedBlankLine,v&&v.length===this.cols&&v.getFg(0)===c.fg&&v.getBg(0)===c.bg||(v=l.getBlankLine(c,p),this._cachedBlankLine=v),v.isWrapped=p;const _=l.ybase+l.scrollTop,w=l.ybase+l.scrollBottom;if(l.scrollTop===0){const E=l.lines.isFull;w===l.lines.length-1?E?l.lines.recycle().copyFrom(v):l.lines.push(v.clone()):l.lines.splice(w+1,0,v.clone()),E?this.isUserScrolling&&(l.ydisp=Math.max(l.ydisp-1,0)):(l.ybase++,this.isUserScrolling||l.ydisp++)}else{const E=w-_+1;l.lines.shiftElements(_+1,E-1,-1),l.lines.set(w,v.clone())}this.isUserScrolling||(l.ydisp=l.ybase),this._onScroll.fire(l.ydisp)}scrollLines(c,p,l){const v=this.buffer;if(c<0){if(v.ydisp===0)return;this.isUserScrolling=!0}else c+v.ydisp>=v.ybase&&(this.isUserScrolling=!1);const _=v.ydisp;v.ydisp=Math.max(Math.min(v.ydisp+c,v.ybase),0),_!==v.ydisp&&(p||this._onScroll.fire(v.ydisp))}};s.BufferService=m=a([d(0,S.IOptionsService)],m)},7994:(f,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.CharsetService=void 0,s.CharsetService=class{constructor(){this.glevel=0,this._charsets=[]}reset(){this.charset=void 0,this._charsets=[],this.glevel=0}setgLevel(o){this.glevel=o,this.charset=this._charsets[o]}setgCharset(o,a){this._charsets[o]=a,this.glevel===o&&(this.charset=a)}}},1753:function(f,s,o){var a=this&&this.__decorate||function(v,_,w,E){var C,y=arguments.length,x=y<3?_:E===null?E=Object.getOwnPropertyDescriptor(_,w):E;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")x=Reflect.decorate(v,_,w,E);else for(var R=v.length-1;R>=0;R--)(C=v[R])&&(x=(y<3?C(x):y>3?C(_,w,x):C(_,w))||x);return y>3&&x&&Object.defineProperty(_,w,x),x},d=this&&this.__param||function(v,_){return function(w,E){_(w,E,v)}};Object.defineProperty(s,"__esModule",{value:!0}),s.CoreMouseService=void 0;const u=o(2585),g=o(8460),b=o(844),S={NONE:{events:0,restrict:()=>!1},X10:{events:1,restrict:v=>v.button!==4&&v.action===1&&(v.ctrl=!1,v.alt=!1,v.shift=!1,!0)},VT200:{events:19,restrict:v=>v.action!==32},DRAG:{events:23,restrict:v=>v.action!==32||v.button!==3},ANY:{events:31,restrict:v=>!0}};function m(v,_){let w=(v.ctrl?16:0)|(v.shift?4:0)|(v.alt?8:0);return v.button===4?(w|=64,w|=v.action):(w|=3&v.button,4&v.button&&(w|=64),8&v.button&&(w|=128),v.action===32?w|=32:v.action!==0||_||(w|=3)),w}const c=String.fromCharCode,p={DEFAULT:v=>{const _=[m(v,!1)+32,v.col+32,v.row+32];return _[0]>255||_[1]>255||_[2]>255?"":`\x1B[M${c(_[0])}${c(_[1])}${c(_[2])}`},SGR:v=>{const _=v.action===0&&v.button!==4?"m":"M";return`\x1B[<${m(v,!0)};${v.col};${v.row}${_}`},SGR_PIXELS:v=>{const _=v.action===0&&v.button!==4?"m":"M";return`\x1B[<${m(v,!0)};${v.x};${v.y}${_}`}};let l=s.CoreMouseService=class extends b.Disposable{constructor(v,_){super(),this._bufferService=v,this._coreService=_,this._protocols={},this._encodings={},this._activeProtocol="",this._activeEncoding="",this._lastEvent=null,this._onProtocolChange=this.register(new g.EventEmitter),this.onProtocolChange=this._onProtocolChange.event;for(const w of Object.keys(S))this.addProtocol(w,S[w]);for(const w of Object.keys(p))this.addEncoding(w,p[w]);this.reset()}addProtocol(v,_){this._protocols[v]=_}addEncoding(v,_){this._encodings[v]=_}get activeProtocol(){return this._activeProtocol}get areMouseEventsActive(){return this._protocols[this._activeProtocol].events!==0}set activeProtocol(v){if(!this._protocols[v])throw new Error(`unknown protocol "${v}"`);this._activeProtocol=v,this._onProtocolChange.fire(this._protocols[v].events)}get activeEncoding(){return this._activeEncoding}set activeEncoding(v){if(!this._encodings[v])throw new Error(`unknown encoding "${v}"`);this._activeEncoding=v}reset(){this.activeProtocol="NONE",this.activeEncoding="DEFAULT",this._lastEvent=null}triggerMouseEvent(v){if(v.col<0||v.col>=this._bufferService.cols||v.row<0||v.row>=this._bufferService.rows||v.button===4&&v.action===32||v.button===3&&v.action!==32||v.button!==4&&(v.action===2||v.action===3)||(v.col++,v.row++,v.action===32&&this._lastEvent&&this._equalEvents(this._lastEvent,v,this._activeEncoding==="SGR_PIXELS"))||!this._protocols[this._activeProtocol].restrict(v))return!1;const _=this._encodings[this._activeEncoding](v);return _&&(this._activeEncoding==="DEFAULT"?this._coreService.triggerBinaryEvent(_):this._coreService.triggerDataEvent(_,!0)),this._lastEvent=v,!0}explainEvents(v){return{down:!!(1&v),up:!!(2&v),drag:!!(4&v),move:!!(8&v),wheel:!!(16&v)}}_equalEvents(v,_,w){if(w){if(v.x!==_.x||v.y!==_.y)return!1}else if(v.col!==_.col||v.row!==_.row)return!1;return v.button===_.button&&v.action===_.action&&v.ctrl===_.ctrl&&v.alt===_.alt&&v.shift===_.shift}};s.CoreMouseService=l=a([d(0,u.IBufferService),d(1,u.ICoreService)],l)},6975:function(f,s,o){var a=this&&this.__decorate||function(l,v,_,w){var E,C=arguments.length,y=C<3?v:w===null?w=Object.getOwnPropertyDescriptor(v,_):w;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")y=Reflect.decorate(l,v,_,w);else for(var x=l.length-1;x>=0;x--)(E=l[x])&&(y=(C<3?E(y):C>3?E(v,_,y):E(v,_))||y);return C>3&&y&&Object.defineProperty(v,_,y),y},d=this&&this.__param||function(l,v){return function(_,w){v(_,w,l)}};Object.defineProperty(s,"__esModule",{value:!0}),s.CoreService=void 0;const u=o(1439),g=o(8460),b=o(844),S=o(2585),m=Object.freeze({insertMode:!1}),c=Object.freeze({applicationCursorKeys:!1,applicationKeypad:!1,bracketedPasteMode:!1,origin:!1,reverseWraparound:!1,sendFocus:!1,wraparound:!0});let p=s.CoreService=class extends b.Disposable{constructor(l,v,_){super(),this._bufferService=l,this._logService=v,this._optionsService=_,this.isCursorInitialized=!1,this.isCursorHidden=!1,this._onData=this.register(new g.EventEmitter),this.onData=this._onData.event,this._onUserInput=this.register(new g.EventEmitter),this.onUserInput=this._onUserInput.event,this._onBinary=this.register(new g.EventEmitter),this.onBinary=this._onBinary.event,this._onRequestScrollToBottom=this.register(new g.EventEmitter),this.onRequestScrollToBottom=this._onRequestScrollToBottom.event,this.modes=(0,u.clone)(m),this.decPrivateModes=(0,u.clone)(c)}reset(){this.modes=(0,u.clone)(m),this.decPrivateModes=(0,u.clone)(c)}triggerDataEvent(l,v=!1){if(this._optionsService.rawOptions.disableStdin)return;const _=this._bufferService.buffer;v&&this._optionsService.rawOptions.scrollOnUserInput&&_.ybase!==_.ydisp&&this._onRequestScrollToBottom.fire(),v&&this._onUserInput.fire(),this._logService.debug(`sending data "${l}"`,()=>l.split("").map(w=>w.charCodeAt(0))),this._onData.fire(l)}triggerBinaryEvent(l){this._optionsService.rawOptions.disableStdin||(this._logService.debug(`sending binary "${l}"`,()=>l.split("").map(v=>v.charCodeAt(0))),this._onBinary.fire(l))}};s.CoreService=p=a([d(0,S.IBufferService),d(1,S.ILogService),d(2,S.IOptionsService)],p)},9074:(f,s,o)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.DecorationService=void 0;const a=o(8055),d=o(8460),u=o(844),g=o(6106);let b=0,S=0;class m extends u.Disposable{get decorations(){return this._decorations.values()}constructor(){super(),this._decorations=new g.SortedList(l=>l?.marker.line),this._onDecorationRegistered=this.register(new d.EventEmitter),this.onDecorationRegistered=this._onDecorationRegistered.event,this._onDecorationRemoved=this.register(new d.EventEmitter),this.onDecorationRemoved=this._onDecorationRemoved.event,this.register((0,u.toDisposable)(()=>this.reset()))}registerDecoration(l){if(l.marker.isDisposed)return;const v=new c(l);if(v){const _=v.marker.onDispose(()=>v.dispose());v.onDispose(()=>{v&&(this._decorations.delete(v)&&this._onDecorationRemoved.fire(v),_.dispose())}),this._decorations.insert(v),this._onDecorationRegistered.fire(v)}return v}reset(){for(const l of this._decorations.values())l.dispose();this._decorations.clear()}*getDecorationsAtCell(l,v,_){let w=0,E=0;for(const C of this._decorations.getKeyIterator(v))w=C.options.x??0,E=w+(C.options.width??1),l>=w&&l<E&&(!_||(C.options.layer??"bottom")===_)&&(yield C)}forEachDecorationAtCell(l,v,_,w){this._decorations.forEachByKey(v,E=>{b=E.options.x??0,S=b+(E.options.width??1),l>=b&&l<S&&(!_||(E.options.layer??"bottom")===_)&&w(E)})}}s.DecorationService=m;class c extends u.Disposable{get isDisposed(){return this._isDisposed}get backgroundColorRGB(){return this._cachedBg===null&&(this.options.backgroundColor?this._cachedBg=a.css.toColor(this.options.backgroundColor):this._cachedBg=void 0),this._cachedBg}get foregroundColorRGB(){return this._cachedFg===null&&(this.options.foregroundColor?this._cachedFg=a.css.toColor(this.options.foregroundColor):this._cachedFg=void 0),this._cachedFg}constructor(l){super(),this.options=l,this.onRenderEmitter=this.register(new d.EventEmitter),this.onRender=this.onRenderEmitter.event,this._onDispose=this.register(new d.EventEmitter),this.onDispose=this._onDispose.event,this._cachedBg=null,this._cachedFg=null,this.marker=l.marker,this.options.overviewRulerOptions&&!this.options.overviewRulerOptions.position&&(this.options.overviewRulerOptions.position="full")}dispose(){this._onDispose.fire(),super.dispose()}}},4348:(f,s,o)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.InstantiationService=s.ServiceCollection=void 0;const a=o(2585),d=o(8343);class u{constructor(...b){this._entries=new Map;for(const[S,m]of b)this.set(S,m)}set(b,S){const m=this._entries.get(b);return this._entries.set(b,S),m}forEach(b){for(const[S,m]of this._entries.entries())b(S,m)}has(b){return this._entries.has(b)}get(b){return this._entries.get(b)}}s.ServiceCollection=u,s.InstantiationService=class{constructor(){this._services=new u,this._services.set(a.IInstantiationService,this)}setService(g,b){this._services.set(g,b)}getService(g){return this._services.get(g)}createInstance(g,...b){const S=(0,d.getServiceDependencies)(g).sort((p,l)=>p.index-l.index),m=[];for(const p of S){const l=this._services.get(p.id);if(!l)throw new Error(`[createInstance] ${g.name} depends on UNKNOWN service ${p.id}.`);m.push(l)}const c=S.length>0?S[0].index:b.length;if(b.length!==c)throw new Error(`[createInstance] First service dependency of ${g.name} at position ${c+1} conflicts with ${b.length} static arguments`);return new g(...b,...m)}}},7866:function(f,s,o){var a=this&&this.__decorate||function(c,p,l,v){var _,w=arguments.length,E=w<3?p:v===null?v=Object.getOwnPropertyDescriptor(p,l):v;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")E=Reflect.decorate(c,p,l,v);else for(var C=c.length-1;C>=0;C--)(_=c[C])&&(E=(w<3?_(E):w>3?_(p,l,E):_(p,l))||E);return w>3&&E&&Object.defineProperty(p,l,E),E},d=this&&this.__param||function(c,p){return function(l,v){p(l,v,c)}};Object.defineProperty(s,"__esModule",{value:!0}),s.traceCall=s.setTraceLogger=s.LogService=void 0;const u=o(844),g=o(2585),b={trace:g.LogLevelEnum.TRACE,debug:g.LogLevelEnum.DEBUG,info:g.LogLevelEnum.INFO,warn:g.LogLevelEnum.WARN,error:g.LogLevelEnum.ERROR,off:g.LogLevelEnum.OFF};let S,m=s.LogService=class extends u.Disposable{get logLevel(){return this._logLevel}constructor(c){super(),this._optionsService=c,this._logLevel=g.LogLevelEnum.OFF,this._updateLogLevel(),this.register(this._optionsService.onSpecificOptionChange("logLevel",()=>this._updateLogLevel())),S=this}_updateLogLevel(){this._logLevel=b[this._optionsService.rawOptions.logLevel]}_evalLazyOptionalParams(c){for(let p=0;p<c.length;p++)typeof c[p]=="function"&&(c[p]=c[p]())}_log(c,p,l){this._evalLazyOptionalParams(l),c.call(console,(this._optionsService.options.logger?"":"xterm.js: ")+p,...l)}trace(c,...p){this._logLevel<=g.LogLevelEnum.TRACE&&this._log(this._optionsService.options.logger?.trace.bind(this._optionsService.options.logger)??console.log,c,p)}debug(c,...p){this._logLevel<=g.LogLevelEnum.DEBUG&&this._log(this._optionsService.options.logger?.debug.bind(this._optionsService.options.logger)??console.log,c,p)}info(c,...p){this._logLevel<=g.LogLevelEnum.INFO&&this._log(this._optionsService.options.logger?.info.bind(this._optionsService.options.logger)??console.info,c,p)}warn(c,...p){this._logLevel<=g.LogLevelEnum.WARN&&this._log(this._optionsService.options.logger?.warn.bind(this._optionsService.options.logger)??console.warn,c,p)}error(c,...p){this._logLevel<=g.LogLevelEnum.ERROR&&this._log(this._optionsService.options.logger?.error.bind(this._optionsService.options.logger)??console.error,c,p)}};s.LogService=m=a([d(0,g.IOptionsService)],m),s.setTraceLogger=function(c){S=c},s.traceCall=function(c,p,l){if(typeof l.value!="function")throw new Error("not supported");const v=l.value;l.value=function(..._){if(S.logLevel!==g.LogLevelEnum.TRACE)return v.apply(this,_);S.trace(`GlyphRenderer#${v.name}(${_.map(E=>JSON.stringify(E)).join(", ")})`);const w=v.apply(this,_);return S.trace(`GlyphRenderer#${v.name} return`,w),w}}},7302:(f,s,o)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.OptionsService=s.DEFAULT_OPTIONS=void 0;const a=o(8460),d=o(844),u=o(6114);s.DEFAULT_OPTIONS={cols:80,rows:24,cursorBlink:!1,cursorStyle:"block",cursorWidth:1,cursorInactiveStyle:"outline",customGlyphs:!0,drawBoldTextInBrightColors:!0,documentOverride:null,fastScrollModifier:"alt",fastScrollSensitivity:5,fontFamily:"courier-new, courier, monospace",fontSize:15,fontWeight:"normal",fontWeightBold:"bold",ignoreBracketedPasteMode:!1,lineHeight:1,letterSpacing:0,linkHandler:null,logLevel:"info",logger:null,scrollback:1e3,scrollOnUserInput:!0,scrollSensitivity:1,screenReaderMode:!1,smoothScrollDuration:0,macOptionIsMeta:!1,macOptionClickForcesSelection:!1,minimumContrastRatio:1,disableStdin:!1,allowProposedApi:!1,allowTransparency:!1,tabStopWidth:8,theme:{},rescaleOverlappingGlyphs:!1,rightClickSelectsWord:u.isMac,windowOptions:{},windowsMode:!1,windowsPty:{},wordSeparator:" ()[]{}',\"`",altClickMovesCursor:!0,convertEol:!1,termName:"xterm",cancelEvents:!1,overviewRulerWidth:0};const g=["normal","bold","100","200","300","400","500","600","700","800","900"];class b extends d.Disposable{constructor(m){super(),this._onOptionChange=this.register(new a.EventEmitter),this.onOptionChange=this._onOptionChange.event;const c={...s.DEFAULT_OPTIONS};for(const p in m)if(p in c)try{const l=m[p];c[p]=this._sanitizeAndValidateOption(p,l)}catch(l){console.error(l)}this.rawOptions=c,this.options={...c},this._setupOptions(),this.register((0,d.toDisposable)(()=>{this.rawOptions.linkHandler=null,this.rawOptions.documentOverride=null}))}onSpecificOptionChange(m,c){return this.onOptionChange(p=>{p===m&&c(this.rawOptions[m])})}onMultipleOptionChange(m,c){return this.onOptionChange(p=>{m.indexOf(p)!==-1&&c()})}_setupOptions(){const m=p=>{if(!(p in s.DEFAULT_OPTIONS))throw new Error(`No option with key "${p}"`);return this.rawOptions[p]},c=(p,l)=>{if(!(p in s.DEFAULT_OPTIONS))throw new Error(`No option with key "${p}"`);l=this._sanitizeAndValidateOption(p,l),this.rawOptions[p]!==l&&(this.rawOptions[p]=l,this._onOptionChange.fire(p))};for(const p in this.rawOptions){const l={get:m.bind(this,p),set:c.bind(this,p)};Object.defineProperty(this.options,p,l)}}_sanitizeAndValidateOption(m,c){switch(m){case"cursorStyle":if(c||(c=s.DEFAULT_OPTIONS[m]),!function(p){return p==="block"||p==="underline"||p==="bar"}(c))throw new Error(`"${c}" is not a valid value for ${m}`);break;case"wordSeparator":c||(c=s.DEFAULT_OPTIONS[m]);break;case"fontWeight":case"fontWeightBold":if(typeof c=="number"&&1<=c&&c<=1e3)break;c=g.includes(c)?c:s.DEFAULT_OPTIONS[m];break;case"cursorWidth":c=Math.floor(c);case"lineHeight":case"tabStopWidth":if(c<1)throw new Error(`${m} cannot be less than 1, value: ${c}`);break;case"minimumContrastRatio":c=Math.max(1,Math.min(21,Math.round(10*c)/10));break;case"scrollback":if((c=Math.min(c,4294967295))<0)throw new Error(`${m} cannot be less than 0, value: ${c}`);break;case"fastScrollSensitivity":case"scrollSensitivity":if(c<=0)throw new Error(`${m} cannot be less than or equal to 0, value: ${c}`);break;case"rows":case"cols":if(!c&&c!==0)throw new Error(`${m} must be numeric, value: ${c}`);break;case"windowsPty":c=c??{}}return c}}s.OptionsService=b},2660:function(f,s,o){var a=this&&this.__decorate||function(b,S,m,c){var p,l=arguments.length,v=l<3?S:c===null?c=Object.getOwnPropertyDescriptor(S,m):c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")v=Reflect.decorate(b,S,m,c);else for(var _=b.length-1;_>=0;_--)(p=b[_])&&(v=(l<3?p(v):l>3?p(S,m,v):p(S,m))||v);return l>3&&v&&Object.defineProperty(S,m,v),v},d=this&&this.__param||function(b,S){return function(m,c){S(m,c,b)}};Object.defineProperty(s,"__esModule",{value:!0}),s.OscLinkService=void 0;const u=o(2585);let g=s.OscLinkService=class{constructor(b){this._bufferService=b,this._nextId=1,this._entriesWithId=new Map,this._dataByLinkId=new Map}registerLink(b){const S=this._bufferService.buffer;if(b.id===void 0){const _=S.addMarker(S.ybase+S.y),w={data:b,id:this._nextId++,lines:[_]};return _.onDispose(()=>this._removeMarkerFromLink(w,_)),this._dataByLinkId.set(w.id,w),w.id}const m=b,c=this._getEntryIdKey(m),p=this._entriesWithId.get(c);if(p)return this.addLineToLink(p.id,S.ybase+S.y),p.id;const l=S.addMarker(S.ybase+S.y),v={id:this._nextId++,key:this._getEntryIdKey(m),data:m,lines:[l]};return l.onDispose(()=>this._removeMarkerFromLink(v,l)),this._entriesWithId.set(v.key,v),this._dataByLinkId.set(v.id,v),v.id}addLineToLink(b,S){const m=this._dataByLinkId.get(b);if(m&&m.lines.every(c=>c.line!==S)){const c=this._bufferService.buffer.addMarker(S);m.lines.push(c),c.onDispose(()=>this._removeMarkerFromLink(m,c))}}getLinkData(b){return this._dataByLinkId.get(b)?.data}_getEntryIdKey(b){return`${b.id};;${b.uri}`}_removeMarkerFromLink(b,S){const m=b.lines.indexOf(S);m!==-1&&(b.lines.splice(m,1),b.lines.length===0&&(b.data.id!==void 0&&this._entriesWithId.delete(b.key),this._dataByLinkId.delete(b.id)))}};s.OscLinkService=g=a([d(0,u.IBufferService)],g)},8343:(f,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.createDecorator=s.getServiceDependencies=s.serviceRegistry=void 0;const o="di$target",a="di$dependencies";s.serviceRegistry=new Map,s.getServiceDependencies=function(d){return d[a]||[]},s.createDecorator=function(d){if(s.serviceRegistry.has(d))return s.serviceRegistry.get(d);const u=function(g,b,S){if(arguments.length!==3)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");(function(m,c,p){c[o]===c?c[a].push({id:m,index:p}):(c[a]=[{id:m,index:p}],c[o]=c)})(u,g,S)};return u.toString=()=>d,s.serviceRegistry.set(d,u),u}},2585:(f,s,o)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.IDecorationService=s.IUnicodeService=s.IOscLinkService=s.IOptionsService=s.ILogService=s.LogLevelEnum=s.IInstantiationService=s.ICharsetService=s.ICoreService=s.ICoreMouseService=s.IBufferService=void 0;const a=o(8343);var d;s.IBufferService=(0,a.createDecorator)("BufferService"),s.ICoreMouseService=(0,a.createDecorator)("CoreMouseService"),s.ICoreService=(0,a.createDecorator)("CoreService"),s.ICharsetService=(0,a.createDecorator)("CharsetService"),s.IInstantiationService=(0,a.createDecorator)("InstantiationService"),function(u){u[u.TRACE=0]="TRACE",u[u.DEBUG=1]="DEBUG",u[u.INFO=2]="INFO",u[u.WARN=3]="WARN",u[u.ERROR=4]="ERROR",u[u.OFF=5]="OFF"}(d||(s.LogLevelEnum=d={})),s.ILogService=(0,a.createDecorator)("LogService"),s.IOptionsService=(0,a.createDecorator)("OptionsService"),s.IOscLinkService=(0,a.createDecorator)("OscLinkService"),s.IUnicodeService=(0,a.createDecorator)("UnicodeService"),s.IDecorationService=(0,a.createDecorator)("DecorationService")},1480:(f,s,o)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.UnicodeService=void 0;const a=o(8460),d=o(225);class u{static extractShouldJoin(b){return(1&b)!=0}static extractWidth(b){return b>>1&3}static extractCharKind(b){return b>>3}static createPropertyValue(b,S,m=!1){return(16777215&b)<<3|(3&S)<<1|(m?1:0)}constructor(){this._providers=Object.create(null),this._active="",this._onChange=new a.EventEmitter,this.onChange=this._onChange.event;const b=new d.UnicodeV6;this.register(b),this._active=b.version,this._activeProvider=b}dispose(){this._onChange.dispose()}get versions(){return Object.keys(this._providers)}get activeVersion(){return this._active}set activeVersion(b){if(!this._providers[b])throw new Error(`unknown Unicode version "${b}"`);this._active=b,this._activeProvider=this._providers[b],this._onChange.fire(b)}register(b){this._providers[b.version]=b}wcwidth(b){return this._activeProvider.wcwidth(b)}getStringCellWidth(b){let S=0,m=0;const c=b.length;for(let p=0;p<c;++p){let l=b.charCodeAt(p);if(55296<=l&&l<=56319){if(++p>=c)return S+this.wcwidth(l);const w=b.charCodeAt(p);56320<=w&&w<=57343?l=1024*(l-55296)+w-56320+65536:S+=this.wcwidth(w)}const v=this.charProperties(l,m);let _=u.extractWidth(v);u.extractShouldJoin(v)&&(_-=u.extractWidth(m)),S+=_,m=v}return S}charProperties(b,S){return this._activeProvider.charProperties(b,S)}}s.UnicodeService=u}},i={};function n(f){var s=i[f];if(s!==void 0)return s.exports;var o=i[f]={exports:{}};return r[f].call(o.exports,o,o.exports,n),o.exports}var h={};return(()=>{var f=h;Object.defineProperty(f,"__esModule",{value:!0}),f.Terminal=void 0;const s=n(9042),o=n(3236),a=n(844),d=n(5741),u=n(8285),g=n(7975),b=n(7090),S=["cols","rows"];class m extends a.Disposable{constructor(p){super(),this._core=this.register(new o.Terminal(p)),this._addonManager=this.register(new d.AddonManager),this._publicOptions={...this._core.options};const l=_=>this._core.options[_],v=(_,w)=>{this._checkReadonlyOptions(_),this._core.options[_]=w};for(const _ in this._core.options){const w={get:l.bind(this,_),set:v.bind(this,_)};Object.defineProperty(this._publicOptions,_,w)}}_checkReadonlyOptions(p){if(S.includes(p))throw new Error(`Option "${p}" can only be set in the constructor`)}_checkProposedApi(){if(!this._core.optionsService.rawOptions.allowProposedApi)throw new Error("You must set the allowProposedApi option to true to use proposed API")}get onBell(){return this._core.onBell}get onBinary(){return this._core.onBinary}get onCursorMove(){return this._core.onCursorMove}get onData(){return this._core.onData}get onKey(){return this._core.onKey}get onLineFeed(){return this._core.onLineFeed}get onRender(){return this._core.onRender}get onResize(){return this._core.onResize}get onScroll(){return this._core.onScroll}get onSelectionChange(){return this._core.onSelectionChange}get onTitleChange(){return this._core.onTitleChange}get onWriteParsed(){return this._core.onWriteParsed}get element(){return this._core.element}get parser(){return this._parser||(this._parser=new g.ParserApi(this._core)),this._parser}get unicode(){return this._checkProposedApi(),new b.UnicodeApi(this._core)}get textarea(){return this._core.textarea}get rows(){return this._core.rows}get cols(){return this._core.cols}get buffer(){return this._buffer||(this._buffer=this.register(new u.BufferNamespaceApi(this._core))),this._buffer}get markers(){return this._checkProposedApi(),this._core.markers}get modes(){const p=this._core.coreService.decPrivateModes;let l="none";switch(this._core.coreMouseService.activeProtocol){case"X10":l="x10";break;case"VT200":l="vt200";break;case"DRAG":l="drag";break;case"ANY":l="any"}return{applicationCursorKeysMode:p.applicationCursorKeys,applicationKeypadMode:p.applicationKeypad,bracketedPasteMode:p.bracketedPasteMode,insertMode:this._core.coreService.modes.insertMode,mouseTrackingMode:l,originMode:p.origin,reverseWraparoundMode:p.reverseWraparound,sendFocusMode:p.sendFocus,wraparoundMode:p.wraparound}}get options(){return this._publicOptions}set options(p){for(const l in p)this._publicOptions[l]=p[l]}blur(){this._core.blur()}focus(){this._core.focus()}input(p,l=!0){this._core.input(p,l)}resize(p,l){this._verifyIntegers(p,l),this._core.resize(p,l)}open(p){this._core.open(p)}attachCustomKeyEventHandler(p){this._core.attachCustomKeyEventHandler(p)}attachCustomWheelEventHandler(p){this._core.attachCustomWheelEventHandler(p)}registerLinkProvider(p){return this._core.registerLinkProvider(p)}registerCharacterJoiner(p){return this._checkProposedApi(),this._core.registerCharacterJoiner(p)}deregisterCharacterJoiner(p){this._checkProposedApi(),this._core.deregisterCharacterJoiner(p)}registerMarker(p=0){return this._verifyIntegers(p),this._core.registerMarker(p)}registerDecoration(p){return this._checkProposedApi(),this._verifyPositiveIntegers(p.x??0,p.width??0,p.height??0),this._core.registerDecoration(p)}hasSelection(){return this._core.hasSelection()}select(p,l,v){this._verifyIntegers(p,l,v),this._core.select(p,l,v)}getSelection(){return this._core.getSelection()}getSelectionPosition(){return this._core.getSelectionPosition()}clearSelection(){this._core.clearSelection()}selectAll(){this._core.selectAll()}selectLines(p,l){this._verifyIntegers(p,l),this._core.selectLines(p,l)}dispose(){super.dispose()}scrollLines(p){this._verifyIntegers(p),this._core.scrollLines(p)}scrollPages(p){this._verifyIntegers(p),this._core.scrollPages(p)}scrollToTop(){this._core.scrollToTop()}scrollToBottom(){this._core.scrollToBottom()}scrollToLine(p){this._verifyIntegers(p),this._core.scrollToLine(p)}clear(){this._core.clear()}write(p,l){this._core.write(p,l)}writeln(p,l){this._core.write(p),this._core.write(`\r
`,l)}paste(p){this._core.paste(p)}refresh(p,l){this._verifyIntegers(p,l),this._core.refresh(p,l)}reset(){this._core.reset()}clearTextureAtlas(){this._core.clearTextureAtlas()}loadAddon(p){this._addonManager.loadAddon(this,p)}static get strings(){return s}_verifyIntegers(...p){for(const l of p)if(l===1/0||isNaN(l)||l%1!=0)throw new Error("This API only accepts integers")}_verifyPositiveIntegers(...p){for(const l of p)if(l&&(l===1/0||isNaN(l)||l%1!=0||l<0))throw new Error("This API only accepts positive integers")}}f.Terminal=m})(),h})())}(Es)),Es.exports}var Sv=yv(),xs={exports:{}},Sc;function Cv(){return Sc||(Sc=1,function(e,t){(function(r,i){e.exports=i()})(self,()=>(()=>{var r={};return(()=>{var i=r;Object.defineProperty(i,"__esModule",{value:!0}),i.FitAddon=void 0,i.FitAddon=class{activate(n){this._terminal=n}dispose(){}fit(){const n=this.proposeDimensions();if(!n||!this._terminal||isNaN(n.cols)||isNaN(n.rows))return;const h=this._terminal._core;this._terminal.rows===n.rows&&this._terminal.cols===n.cols||(h._renderService.clear(),this._terminal.resize(n.cols,n.rows))}proposeDimensions(){if(!this._terminal||!this._terminal.element||!this._terminal.element.parentElement)return;const n=this._terminal._core,h=n._renderService.dimensions;if(h.css.cell.width===0||h.css.cell.height===0)return;const f=this._terminal.options.scrollback===0?0:n.viewport.scrollBarWidth,s=window.getComputedStyle(this._terminal.element.parentElement),o=parseInt(s.getPropertyValue("height")),a=Math.max(0,parseInt(s.getPropertyValue("width"))),d=window.getComputedStyle(this._terminal.element),u=o-(parseInt(d.getPropertyValue("padding-top"))+parseInt(d.getPropertyValue("padding-bottom"))),g=a-(parseInt(d.getPropertyValue("padding-right"))+parseInt(d.getPropertyValue("padding-left")))-f;return{cols:Math.max(2,Math.floor(g/h.css.cell.width)),rows:Math.max(1,Math.floor(u/h.css.cell.height))}}}})(),r})())}(xs)),xs.exports}var wv=Cv(),Rs={exports:{}},Cc;function Ev(){return Cc||(Cc=1,function(e,t){(function(r,i){e.exports=i()})(self,()=>(()=>{var r={};return(()=>{var i=r;function n(h,f,s){return h.addEventListener(f,s),{dispose:()=>{s&&h.removeEventListener(f,s)}}}Object.defineProperty(i,"__esModule",{value:!0}),i.AttachAddon=void 0,i.AttachAddon=class{constructor(h,f){this._disposables=[],this._socket=h,this._socket.binaryType="arraybuffer",this._bidirectional=!(f&&f.bidirectional===!1)}activate(h){this._disposables.push(n(this._socket,"message",f=>{const s=f.data;h.write(typeof s=="string"?s:new Uint8Array(s))})),this._bidirectional&&(this._disposables.push(h.onData(f=>this._sendData(f))),this._disposables.push(h.onBinary(f=>this._sendBinary(f)))),this._disposables.push(n(this._socket,"close",()=>this.dispose())),this._disposables.push(n(this._socket,"error",()=>this.dispose()))}dispose(){for(const h of this._disposables)h.dispose()}_sendData(h){this._checkOpenSocket()&&this._socket.send(h)}_sendBinary(h){if(!this._checkOpenSocket())return;const f=new Uint8Array(h.length);for(let s=0;s<h.length;++s)f[s]=255&h.charCodeAt(s);this._socket.send(f)}_checkOpenSocket(){switch(this._socket.readyState){case WebSocket.OPEN:return!0;case WebSocket.CONNECTING:throw new Error("Attach addon was loaded before socket was open");case WebSocket.CLOSING:return console.warn("Attach addon socket is closing"),!1;case WebSocket.CLOSED:throw new Error("Attach addon socket is closed");default:throw new Error("Unexpected socket state")}}}})(),r})())}(Rs)),Rs.exports}var wc=Ev();const ha=Er(e=>({terminalSocket:null,setTerminalSocket:t=>{e({terminalSocket:t})}}));function xv({fitAddonRef:e}){const t=O.useRef(null),{terminalSocket:r}=ha();return O.useEffect(()=>{const i=new Sv.Terminal({cursorBlink:!0,convertEol:!0,cursorStyle:"block",cursorWidth:2,drawBoldTextInBrightColors:!1,fontFamily:"'Fira Code', monospace",fontSize:18,lineHeight:1.2,letterSpacing:.3,disableStdin:!1,allowTransparency:!0,rendererType:"canvas",scrollback:2e3,theme:{background:"#1e1e1e",foreground:"#d4d4d4",cursor:"#ffffff",selection:"#264f78",black:"#000000",red:"#cd3131",green:"#0dbc79",yellow:"#e5e510",blue:"#2472c8",magenta:"#bc3fbc",cyan:"#39c6e9ff",white:"#e5e5e5",brightBlack:"#666666",brightRed:"#f14c4c",brightGreen:"#23d18b",brightYellow:"#f5f543",brightBlue:"#3b8eea",brightMagenta:"#d670d6",brightCyan:"#29b8db",brightWhite:"#e5e5e5"}}),n=new wv.FitAddon;e.current=n,i.loadAddon(n),t.current&&(i.open(t.current),setTimeout(()=>{n.fit(),console.log("Terminal opened and fitted")},1e3));let h=null;if(r)if(r.readyState===WebSocket.OPEN){const f=new wc.AttachAddon(r);i.loadAddon(f)}else h=()=>{const f=new wc.AttachAddon(r);i.loadAddon(f)},r.onopen=h;return()=>{i.dispose(),r&&h&&(r.onopen=null)}},[r]),te.jsx("div",{ref:t,style:{height:"100%",paddingLeft:"10px"}})}var Os={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var Ec;function Rv(){return Ec||(Ec=1,function(e){(function(){var t={}.hasOwnProperty;function r(){for(var h="",f=0;f<arguments.length;f++){var s=arguments[f];s&&(h=n(h,i(s)))}return h}function i(h){if(typeof h=="string"||typeof h=="number")return h;if(typeof h!="object")return"";if(Array.isArray(h))return r.apply(null,h);if(h.toString!==Object.prototype.toString&&!h.toString.toString().includes("[native code]"))return h.toString();var f="";for(var s in h)t.call(h,s)&&h[s]&&(f=n(f,s));return f}function n(h,f){return f?h?h+" "+f:h+f:h}e.exports?(r.default=r,e.exports=r):window.classNames=r})()}(Os)),Os.exports}var Ov=Rv();const pe=Hl(Ov);function et(){return et=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)({}).hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},et.apply(null,arguments)}function he(e){"@babel/helpers - typeof";return he=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},he(e)}var Av=Symbol.for("react.element"),Tv=Symbol.for("react.transitional.element"),Lv=Symbol.for("react.fragment");function xu(e){return e&&he(e)==="object"&&(e.$$typeof===Av||e.$$typeof===Tv)&&e.type===Lv}function On(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=[];return ee.Children.forEach(e,function(i){i==null&&!t.keepEmpty||(Array.isArray(i)?r=r.concat(On(i)):xu(i)&&i.props?r=r.concat(On(i.props.children,t)):r.push(i))}),r}var lo={},Mv=function(t){};function Iv(e,t){}function Pv(e,t){}function kv(){lo={}}function Ru(e,t,r){!t&&!lo[r]&&(e(!1,r),lo[r]=!0)}function St(e,t){Ru(Iv,e,t)}function Bv(e,t){Ru(Pv,e,t)}St.preMessage=Mv;St.resetWarned=kv;St.noteOnce=Bv;function Dv(e,t){if(he(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t);if(he(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ou(e){var t=Dv(e,"string");return he(t)=="symbol"?t:t+""}function q(e,t,r){return(t=Ou(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xc(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,i)}return r}function Y(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xc(Object(r),!0).forEach(function(i){q(e,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xc(Object(r)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(r,i))})}return e}function Rc(e){return e instanceof HTMLElement||e instanceof SVGElement}function $v(e){return e&&he(e)==="object"&&Rc(e.nativeElement)?e.nativeElement:Rc(e)?e:null}function mn(e){var t=$v(e);if(t)return t;if(e instanceof ee.Component){var r;return(r=eo.findDOMNode)===null||r===void 0?void 0:r.call(eo,e)}return null}var As={exports:{}},Ae={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Oc;function Fv(){if(Oc)return Ae;Oc=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),n=Symbol.for("react.profiler"),h=Symbol.for("react.provider"),f=Symbol.for("react.context"),s=Symbol.for("react.server_context"),o=Symbol.for("react.forward_ref"),a=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),u=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),b=Symbol.for("react.offscreen"),S;S=Symbol.for("react.module.reference");function m(c){if(typeof c=="object"&&c!==null){var p=c.$$typeof;switch(p){case e:switch(c=c.type,c){case r:case n:case i:case a:case d:return c;default:switch(c=c&&c.$$typeof,c){case s:case f:case o:case g:case u:case h:return c;default:return p}}case t:return p}}}return Ae.ContextConsumer=f,Ae.ContextProvider=h,Ae.Element=e,Ae.ForwardRef=o,Ae.Fragment=r,Ae.Lazy=g,Ae.Memo=u,Ae.Portal=t,Ae.Profiler=n,Ae.StrictMode=i,Ae.Suspense=a,Ae.SuspenseList=d,Ae.isAsyncMode=function(){return!1},Ae.isConcurrentMode=function(){return!1},Ae.isContextConsumer=function(c){return m(c)===f},Ae.isContextProvider=function(c){return m(c)===h},Ae.isElement=function(c){return typeof c=="object"&&c!==null&&c.$$typeof===e},Ae.isForwardRef=function(c){return m(c)===o},Ae.isFragment=function(c){return m(c)===r},Ae.isLazy=function(c){return m(c)===g},Ae.isMemo=function(c){return m(c)===u},Ae.isPortal=function(c){return m(c)===t},Ae.isProfiler=function(c){return m(c)===n},Ae.isStrictMode=function(c){return m(c)===i},Ae.isSuspense=function(c){return m(c)===a},Ae.isSuspenseList=function(c){return m(c)===d},Ae.isValidElementType=function(c){return typeof c=="string"||typeof c=="function"||c===r||c===n||c===i||c===a||c===d||c===b||typeof c=="object"&&c!==null&&(c.$$typeof===g||c.$$typeof===u||c.$$typeof===h||c.$$typeof===f||c.$$typeof===o||c.$$typeof===S||c.getModuleId!==void 0)},Ae.typeOf=m,Ae}var Ac;function Hv(){return Ac||(Ac=1,As.exports=Fv()),As.exports}var Ts=Hv();function da(e,t,r){var i=O.useRef({});return(!("value"in i.current)||r(i.current.condition,t))&&(i.current.value=e(),i.current.condition=t),i.current.value}var jv=Number(O.version.split(".")[0]),Au=function(t,r){typeof t=="function"?t(r):he(t)==="object"&&t&&"current"in t&&(t.current=r)},Yr=function(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];var n=r.filter(Boolean);return n.length<=1?n[0]:function(h){r.forEach(function(f){Au(f,h)})}},Tu=function(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return da(function(){return Yr.apply(void 0,r)},r,function(n,h){return n.length!==h.length||n.every(function(f,s){return f!==h[s]})})},fa=function(t){var r,i;if(!t)return!1;if(Lu(t)&&jv>=19)return!0;var n=Ts.isMemo(t)?t.type.type:t.type;return!(typeof n=="function"&&!((r=n.prototype)!==null&&r!==void 0&&r.render)&&n.$$typeof!==Ts.ForwardRef||typeof t=="function"&&!((i=t.prototype)!==null&&i!==void 0&&i.render)&&t.$$typeof!==Ts.ForwardRef)};function Lu(e){return O.isValidElement(e)&&!xu(e)}var pa=function(t){if(t&&Lu(t)){var r=t;return r.props.propertyIsEnumerable("ref")?r.props.ref:r.ref}return null},uo=O.createContext(null);function zv(e){var t=e.children,r=e.onBatchResize,i=O.useRef(0),n=O.useRef([]),h=O.useContext(uo),f=O.useCallback(function(s,o,a){i.current+=1;var d=i.current;n.current.push({size:s,element:o,data:a}),Promise.resolve().then(function(){d===i.current&&(r?.(n.current),n.current=[])}),h?.(s,o,a)},[r,h]);return O.createElement(uo.Provider,{value:f},t)}var Mu=function(){if(typeof Map<"u")return Map;function e(t,r){var i=-1;return t.some(function(n,h){return n[0]===r?(i=h,!0):!1}),i}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(r){var i=e(this.__entries__,r),n=this.__entries__[i];return n&&n[1]},t.prototype.set=function(r,i){var n=e(this.__entries__,r);~n?this.__entries__[n][1]=i:this.__entries__.push([r,i])},t.prototype.delete=function(r){var i=this.__entries__,n=e(i,r);~n&&i.splice(n,1)},t.prototype.has=function(r){return!!~e(this.__entries__,r)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(r,i){i===void 0&&(i=null);for(var n=0,h=this.__entries__;n<h.length;n++){var f=h[n];r.call(i,f[1],f[0])}},t}()}(),ho=typeof window<"u"&&typeof document<"u"&&window.document===document,An=function(){return typeof global<"u"&&global.Math===Math?global:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")()}(),Nv=function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(An):function(e){return setTimeout(function(){return e(Date.now())},1e3/60)}}(),Vv=2;function Wv(e,t){var r=!1,i=!1,n=0;function h(){r&&(r=!1,e()),i&&s()}function f(){Nv(h)}function s(){var o=Date.now();if(r){if(o-n<Vv)return;i=!0}else r=!0,i=!1,setTimeout(f,t);n=o}return s}var Uv=20,qv=["top","right","bottom","left","width","height","size","weight"],Gv=typeof MutationObserver<"u",Kv=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=Wv(this.refresh.bind(this),Uv)}return e.prototype.addObserver=function(t){~this.observers_.indexOf(t)||this.observers_.push(t),this.connected_||this.connect_()},e.prototype.removeObserver=function(t){var r=this.observers_,i=r.indexOf(t);~i&&r.splice(i,1),!r.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){var t=this.updateObservers_();t&&this.refresh()},e.prototype.updateObservers_=function(){var t=this.observers_.filter(function(r){return r.gatherActive(),r.hasActive()});return t.forEach(function(r){return r.broadcastActive()}),t.length>0},e.prototype.connect_=function(){!ho||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),Gv?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){!ho||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(t){var r=t.propertyName,i=r===void 0?"":r,n=qv.some(function(h){return!!~i.indexOf(h)});n&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),Iu=function(e,t){for(var r=0,i=Object.keys(t);r<i.length;r++){var n=i[r];Object.defineProperty(e,n,{value:t[n],enumerable:!1,writable:!1,configurable:!0})}return e},Vr=function(e){var t=e&&e.ownerDocument&&e.ownerDocument.defaultView;return t||An},Pu=Nn(0,0,0,0);function Tn(e){return parseFloat(e)||0}function Tc(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return t.reduce(function(i,n){var h=e["border-"+n+"-width"];return i+Tn(h)},0)}function Xv(e){for(var t=["top","right","bottom","left"],r={},i=0,n=t;i<n.length;i++){var h=n[i],f=e["padding-"+h];r[h]=Tn(f)}return r}function Yv(e){var t=e.getBBox();return Nn(0,0,t.width,t.height)}function Jv(e){var t=e.clientWidth,r=e.clientHeight;if(!t&&!r)return Pu;var i=Vr(e).getComputedStyle(e),n=Xv(i),h=n.left+n.right,f=n.top+n.bottom,s=Tn(i.width),o=Tn(i.height);if(i.boxSizing==="border-box"&&(Math.round(s+h)!==t&&(s-=Tc(i,"left","right")+h),Math.round(o+f)!==r&&(o-=Tc(i,"top","bottom")+f)),!Qv(e)){var a=Math.round(s+h)-t,d=Math.round(o+f)-r;Math.abs(a)!==1&&(s-=a),Math.abs(d)!==1&&(o-=d)}return Nn(n.left,n.top,s,o)}var Zv=function(){return typeof SVGGraphicsElement<"u"?function(e){return e instanceof Vr(e).SVGGraphicsElement}:function(e){return e instanceof Vr(e).SVGElement&&typeof e.getBBox=="function"}}();function Qv(e){return e===Vr(e).document.documentElement}function eg(e){return ho?Zv(e)?Yv(e):Jv(e):Pu}function tg(e){var t=e.x,r=e.y,i=e.width,n=e.height,h=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,f=Object.create(h.prototype);return Iu(f,{x:t,y:r,width:i,height:n,top:r,right:t+i,bottom:n+r,left:t}),f}function Nn(e,t,r,i){return{x:e,y:t,width:r,height:i}}var rg=function(){function e(t){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=Nn(0,0,0,0),this.target=t}return e.prototype.isActive=function(){var t=eg(this.target);return this.contentRect_=t,t.width!==this.broadcastWidth||t.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var t=this.contentRect_;return this.broadcastWidth=t.width,this.broadcastHeight=t.height,t},e}(),ig=function(){function e(t,r){var i=tg(r);Iu(this,{target:t,contentRect:i})}return e}(),ng=function(){function e(t,r,i){if(this.activeObservations_=[],this.observations_=new Mu,typeof t!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=t,this.controller_=r,this.callbackCtx_=i}return e.prototype.observe=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(t instanceof Vr(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var r=this.observations_;r.has(t)||(r.set(t,new rg(t)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(t instanceof Vr(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var r=this.observations_;r.has(t)&&(r.delete(t),r.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var t=this;this.clearActive(),this.observations_.forEach(function(r){r.isActive()&&t.activeObservations_.push(r)})},e.prototype.broadcastActive=function(){if(this.hasActive()){var t=this.callbackCtx_,r=this.activeObservations_.map(function(i){return new ig(i.target,i.broadcastRect())});this.callback_.call(t,r,t),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),ku=typeof WeakMap<"u"?new WeakMap:new Mu,Bu=function(){function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var r=Kv.getInstance(),i=new ng(t,r,this);ku.set(this,i)}return e}();["observe","unobserve","disconnect"].forEach(function(e){Bu.prototype[e]=function(){var t;return(t=ku.get(this))[e].apply(t,arguments)}});var sg=function(){return typeof An.ResizeObserver<"u"?An.ResizeObserver:Bu}(),rr=new Map;function og(e){e.forEach(function(t){var r,i=t.target;(r=rr.get(i))===null||r===void 0||r.forEach(function(n){return n(i)})})}var Du=new sg(og);function ag(e,t){rr.has(e)||(rr.set(e,new Set),Du.observe(e)),rr.get(e).add(t)}function cg(e,t){rr.has(e)&&(rr.get(e).delete(t),rr.get(e).size||(Du.unobserve(e),rr.delete(e)))}function rt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Lc(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,Ou(i.key),i)}}function it(e,t,r){return t&&Lc(e.prototype,t),r&&Lc(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function yi(e,t){return yi=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},yi(e,t)}function ur(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&yi(e,t)}function Si(e){return Si=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Si(e)}function va(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(va=function(){return!!e})()}function me(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function lg(e,t){if(t&&(he(t)=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return me(e)}function hr(e){var t=va();return function(){var r,i=Si(e);if(t){var n=Si(this).constructor;r=Reflect.construct(i,arguments,n)}else r=i.apply(this,arguments);return lg(this,r)}}var ug=function(e){ur(r,e);var t=hr(r);function r(){return rt(this,r),t.apply(this,arguments)}return it(r,[{key:"render",value:function(){return this.props.children}}]),r}(O.Component);function hg(e,t){var r=e.children,i=e.disabled,n=O.useRef(null),h=O.useRef(null),f=O.useContext(uo),s=typeof r=="function",o=s?r(n):r,a=O.useRef({width:-1,height:-1,offsetWidth:-1,offsetHeight:-1}),d=!s&&O.isValidElement(o)&&fa(o),u=d?pa(o):null,g=Tu(u,n),b=function(){var p;return mn(n.current)||(n.current&&he(n.current)==="object"?mn((p=n.current)===null||p===void 0?void 0:p.nativeElement):null)||mn(h.current)};O.useImperativeHandle(t,function(){return b()});var S=O.useRef(e);S.current=e;var m=O.useCallback(function(c){var p=S.current,l=p.onResize,v=p.data,_=c.getBoundingClientRect(),w=_.width,E=_.height,C=c.offsetWidth,y=c.offsetHeight,x=Math.floor(w),R=Math.floor(E);if(a.current.width!==x||a.current.height!==R||a.current.offsetWidth!==C||a.current.offsetHeight!==y){var M={width:x,height:R,offsetWidth:C,offsetHeight:y};a.current=M;var I=C===Math.round(w)?w:C,T=y===Math.round(E)?E:y,B=Y(Y({},M),{},{offsetWidth:I,offsetHeight:T});f?.(B,c,v),l&&Promise.resolve().then(function(){l(B,c)})}},[]);return O.useEffect(function(){var c=b();return c&&!i&&ag(c,m),function(){return cg(c,m)}},[n.current,i]),O.createElement(ug,{ref:h},d?O.cloneElement(o,{ref:g}):o)}var dg=O.forwardRef(hg),fg="rc-observer-key";function pg(e,t){var r=e.children,i=typeof r=="function"?[r]:On(r);return i.map(function(n,h){var f=n?.key||"".concat(fg,"-").concat(h);return O.createElement(dg,et({},e,{key:f,ref:h===0?t:void 0}),n)})}var $u=O.forwardRef(pg);$u.Collection=zv;function fo(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,i=Array(t);r<t;r++)i[r]=e[r];return i}function vg(e){if(Array.isArray(e))return fo(e)}function Fu(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function ga(e,t){if(e){if(typeof e=="string")return fo(e,t);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?fo(e,t):void 0}}function gg(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ue(e){return vg(e)||Fu(e)||ga(e)||gg()}var Hu=function(t){return+setTimeout(t,16)},ju=function(t){return clearTimeout(t)};typeof window<"u"&&"requestAnimationFrame"in window&&(Hu=function(t){return window.requestAnimationFrame(t)},ju=function(t){return window.cancelAnimationFrame(t)});var Mc=0,ma=new Map;function zu(e){ma.delete(e)}var Wt=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;Mc+=1;var i=Mc;function n(h){if(h===0)zu(i),t();else{var f=Hu(function(){n(h-1)});ma.set(i,f)}}return n(r),i};Wt.cancel=function(e){var t=ma.get(e);return zu(e),ju(t)};function Nu(e){if(Array.isArray(e))return e}function mg(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var i,n,h,f,s=[],o=!0,a=!1;try{if(h=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;o=!1}else for(;!(o=(i=h.call(r)).done)&&(s.push(i.value),s.length!==t);o=!0);}catch(d){a=!0,n=d}finally{try{if(!o&&r.return!=null&&(f=r.return(),Object(f)!==f))return}finally{if(a)throw n}}return s}}function Vu(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ce(e,t){return Nu(e)||mg(e,t)||ga(e,t)||Vu()}function Ci(e){for(var t=0,r,i=0,n=e.length;n>=4;++i,n-=4)r=e.charCodeAt(i)&255|(e.charCodeAt(++i)&255)<<8|(e.charCodeAt(++i)&255)<<16|(e.charCodeAt(++i)&255)<<24,r=(r&65535)*1540483477+((r>>>16)*59797<<16),r^=r>>>24,t=(r&65535)*1540483477+((r>>>16)*59797<<16)^(t&65535)*1540483477+((t>>>16)*59797<<16);switch(n){case 3:t^=(e.charCodeAt(i+2)&255)<<16;case 2:t^=(e.charCodeAt(i+1)&255)<<8;case 1:t^=e.charCodeAt(i)&255,t=(t&65535)*1540483477+((t>>>16)*59797<<16)}return t^=t>>>13,t=(t&65535)*1540483477+((t>>>16)*59797<<16),((t^t>>>15)>>>0).toString(36)}function Xt(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}function _g(e,t){if(!e)return!1;if(e.contains)return e.contains(t);for(var r=t;r;){if(r===e)return!0;r=r.parentNode}return!1}var Ic="data-rc-order",Pc="data-rc-priority",bg="rc-util-key",po=new Map;function Wu(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=e.mark;return t?t.startsWith("data-")?t:"data-".concat(t):bg}function Vn(e){if(e.attachTo)return e.attachTo;var t=document.querySelector("head");return t||document.body}function yg(e){return e==="queue"?"prependQueue":e?"prepend":"append"}function _a(e){return Array.from((po.get(e)||e).children).filter(function(t){return t.tagName==="STYLE"})}function Uu(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!Xt())return null;var r=t.csp,i=t.prepend,n=t.priority,h=n===void 0?0:n,f=yg(i),s=f==="prependQueue",o=document.createElement("style");o.setAttribute(Ic,f),s&&h&&o.setAttribute(Pc,"".concat(h)),r!=null&&r.nonce&&(o.nonce=r?.nonce),o.innerHTML=e;var a=Vn(t),d=a.firstChild;if(i){if(s){var u=(t.styles||_a(a)).filter(function(g){if(!["prepend","prependQueue"].includes(g.getAttribute(Ic)))return!1;var b=Number(g.getAttribute(Pc)||0);return h>=b});if(u.length)return a.insertBefore(o,u[u.length-1].nextSibling),o}a.insertBefore(o,d)}else a.appendChild(o);return o}function qu(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=Vn(t);return(t.styles||_a(r)).find(function(i){return i.getAttribute(Wu(t))===e})}function Gu(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=qu(e,t);if(r){var i=Vn(t);i.removeChild(r)}}function Sg(e,t){var r=po.get(e);if(!r||!_g(document,r)){var i=Uu("",t),n=i.parentNode;po.set(e,n),e.removeChild(i)}}function Sr(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=Vn(r),n=_a(i),h=Y(Y({},r),{},{styles:n});Sg(i,h);var f=qu(t,h);if(f){var s,o;if((s=h.csp)!==null&&s!==void 0&&s.nonce&&f.nonce!==((o=h.csp)===null||o===void 0?void 0:o.nonce)){var a;f.nonce=(a=h.csp)===null||a===void 0?void 0:a.nonce}return f.innerHTML!==e&&(f.innerHTML=e),f}var d=Uu(e,h);return d.setAttribute(Wu(h),t),d}function Cg(e,t){if(e==null)return{};var r={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.indexOf(i)!==-1)continue;r[i]=e[i]}return r}function ht(e,t){if(e==null)return{};var r,i,n=Cg(e,t);if(Object.getOwnPropertySymbols){var h=Object.getOwnPropertySymbols(e);for(i=0;i<h.length;i++)r=h[i],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function vo(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,i=new Set;function n(h,f){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,o=i.has(h);if(St(!o,"Warning: There may be circular references"),o)return!1;if(h===f)return!0;if(r&&s>1)return!1;i.add(h);var a=s+1;if(Array.isArray(h)){if(!Array.isArray(f)||h.length!==f.length)return!1;for(var d=0;d<h.length;d++)if(!n(h[d],f[d],a))return!1;return!0}if(h&&f&&he(h)==="object"&&he(f)==="object"){var u=Object.keys(h);return u.length!==Object.keys(f).length?!1:u.every(function(g){return n(h[g],f[g],a)})}return!1}return n(e,t)}var wg="%";function go(e){return e.join(wg)}var Eg=function(){function e(t){rt(this,e),q(this,"instanceId",void 0),q(this,"cache",new Map),q(this,"extracted",new Set),this.instanceId=t}return it(e,[{key:"get",value:function(r){return this.opGet(go(r))}},{key:"opGet",value:function(r){return this.cache.get(r)||null}},{key:"update",value:function(r,i){return this.opUpdate(go(r),i)}},{key:"opUpdate",value:function(r,i){var n=this.cache.get(r),h=i(n);h===null?this.cache.delete(r):this.cache.set(r,h)}}]),e}(),Wr="data-token-hash",$t="data-css-hash",ir="__cssinjs_instance__";function xg(){var e=Math.random().toString(12).slice(2);if(typeof document<"u"&&document.head&&document.body){var t=document.body.querySelectorAll("style[".concat($t,"]"))||[],r=document.head.firstChild;Array.from(t).forEach(function(n){n[ir]=n[ir]||e,n[ir]===e&&document.head.insertBefore(n,r)});var i={};Array.from(document.querySelectorAll("style[".concat($t,"]"))).forEach(function(n){var h=n.getAttribute($t);if(i[h]){if(n[ir]===e){var f;(f=n.parentNode)===null||f===void 0||f.removeChild(n)}}else i[h]=!0})}return new Eg(e)}var ki=O.createContext({hashPriority:"low",cache:xg(),defaultCache:!0});function Rg(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}var ba=function(){function e(){rt(this,e),q(this,"cache",void 0),q(this,"keys",void 0),q(this,"cacheCallTimes",void 0),this.cache=new Map,this.keys=[],this.cacheCallTimes=0}return it(e,[{key:"size",value:function(){return this.keys.length}},{key:"internalGet",value:function(r){var i,n,h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,f={map:this.cache};return r.forEach(function(s){if(!f)f=void 0;else{var o;f=(o=f)===null||o===void 0||(o=o.map)===null||o===void 0?void 0:o.get(s)}}),(i=f)!==null&&i!==void 0&&i.value&&h&&(f.value[1]=this.cacheCallTimes++),(n=f)===null||n===void 0?void 0:n.value}},{key:"get",value:function(r){var i;return(i=this.internalGet(r,!0))===null||i===void 0?void 0:i[0]}},{key:"has",value:function(r){return!!this.internalGet(r)}},{key:"set",value:function(r,i){var n=this;if(!this.has(r)){if(this.size()+1>e.MAX_CACHE_SIZE+e.MAX_CACHE_OFFSET){var h=this.keys.reduce(function(a,d){var u=ce(a,2),g=u[1];return n.internalGet(d)[1]<g?[d,n.internalGet(d)[1]]:a},[this.keys[0],this.cacheCallTimes]),f=ce(h,1),s=f[0];this.delete(s)}this.keys.push(r)}var o=this.cache;r.forEach(function(a,d){if(d===r.length-1)o.set(a,{value:[i,n.cacheCallTimes++]});else{var u=o.get(a);u?u.map||(u.map=new Map):o.set(a,{map:new Map}),o=o.get(a).map}})}},{key:"deleteByPath",value:function(r,i){var n=r.get(i[0]);if(i.length===1){var h;return n.map?r.set(i[0],{map:n.map}):r.delete(i[0]),(h=n.value)===null||h===void 0?void 0:h[0]}var f=this.deleteByPath(n.map,i.slice(1));return(!n.map||n.map.size===0)&&!n.value&&r.delete(i[0]),f}},{key:"delete",value:function(r){if(this.has(r))return this.keys=this.keys.filter(function(i){return!Rg(i,r)}),this.deleteByPath(this.cache,r)}}]),e}();q(ba,"MAX_CACHE_SIZE",20);q(ba,"MAX_CACHE_OFFSET",5);var kc=0,Ku=function(){function e(t){rt(this,e),q(this,"derivatives",void 0),q(this,"id",void 0),this.derivatives=Array.isArray(t)?t:[t],this.id=kc,t.length===0&&(t.length>0,void 0),kc+=1}return it(e,[{key:"getDerivativeToken",value:function(r){return this.derivatives.reduce(function(i,n){return n(r,i)},void 0)}}]),e}(),Ls=new ba;function mo(e){var t=Array.isArray(e)?e:[e];return Ls.has(t)||Ls.set(t,new Ku(t)),Ls.get(t)}var Og=new WeakMap,Ms={};function Ag(e,t){for(var r=Og,i=0;i<t.length;i+=1){var n=t[i];r.has(n)||r.set(n,new WeakMap),r=r.get(n)}return r.has(Ms)||r.set(Ms,e()),r.get(Ms)}var Bc=new WeakMap;function vi(e){var t=Bc.get(e)||"";return t||(Object.keys(e).forEach(function(r){var i=e[r];t+=r,i instanceof Ku?t+=i.id:i&&he(i)==="object"?t+=vi(i):t+=i}),t=Ci(t),Bc.set(e,t)),t}function Dc(e,t){return Ci("".concat(t,"_").concat(vi(e)))}var _o=Xt();function Me(e){return typeof e=="number"?"".concat(e,"px"):e}function Ln(e,t,r){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},n=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(n)return e;var h=Y(Y({},i),{},q(q({},Wr,t),$t,r)),f=Object.keys(h).map(function(s){var o=h[s];return o?"".concat(s,'="').concat(o,'"'):null}).filter(function(s){return s}).join(" ");return"<style ".concat(f,">").concat(e,"</style>")}var _n=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return"--".concat(r?"".concat(r,"-"):"").concat(t).replace(/([a-z0-9])([A-Z])/g,"$1-$2").replace(/([A-Z]+)([A-Z][a-z0-9]+)/g,"$1-$2").replace(/([a-z])([A-Z0-9])/g,"$1-$2").toLowerCase()},Tg=function(t,r,i){return Object.keys(t).length?".".concat(r).concat(i!=null&&i.scope?".".concat(i.scope):"","{").concat(Object.entries(t).map(function(n){var h=ce(n,2),f=h[0],s=h[1];return"".concat(f,":").concat(s,";")}).join(""),"}"):""},Xu=function(t,r,i){var n={},h={};return Object.entries(t).forEach(function(f){var s,o,a=ce(f,2),d=a[0],u=a[1];if(i!=null&&(s=i.preserve)!==null&&s!==void 0&&s[d])h[d]=u;else if((typeof u=="string"||typeof u=="number")&&!(i!=null&&(o=i.ignore)!==null&&o!==void 0&&o[d])){var g,b=_n(d,i?.prefix);n[b]=typeof u=="number"&&!(i!=null&&(g=i.unitless)!==null&&g!==void 0&&g[d])?"".concat(u,"px"):String(u),h[d]="var(".concat(b,")")}}),[h,Tg(n,r,{scope:i?.scope})]},$c=Xt()?O.useLayoutEffect:O.useEffect,wi=function(t,r){var i=O.useRef(!0);$c(function(){return t(i.current)},r),$c(function(){return i.current=!1,function(){i.current=!0}},[])},Fc=function(t,r){wi(function(i){if(!i)return t()},r)},Lg=Y({},ia),Hc=Lg.useInsertionEffect,Mg=function(t,r,i){O.useMemo(t,i),wi(function(){return r(!0)},i)},Ig=Hc?function(e,t,r){return Hc(function(){return e(),t()},r)}:Mg,Pg=Y({},ia),kg=Pg.useInsertionEffect,Bg=function(t){var r=[],i=!1;function n(h){i||r.push(h)}return O.useEffect(function(){return i=!1,function(){i=!0,r.length&&r.forEach(function(h){return h()})}},t),n},Dg=function(){return function(t){t()}},$g=typeof kg<"u"?Bg:Dg;function ya(e,t,r,i,n){var h=O.useContext(ki),f=h.cache,s=[e].concat(ue(t)),o=go(s),a=$g([o]),d=function(S){f.opUpdate(o,function(m){var c=m||[void 0,void 0],p=ce(c,2),l=p[0],v=l===void 0?0:l,_=p[1],w=_,E=w||r(),C=[v,E];return S?S(C):C})};O.useMemo(function(){d()},[o]);var u=f.opGet(o),g=u[1];return Ig(function(){n?.(g)},function(b){return d(function(S){var m=ce(S,2),c=m[0],p=m[1];return b&&c===0&&n?.(g),[c+1,p]}),function(){f.opUpdate(o,function(S){var m=S||[],c=ce(m,2),p=c[0],l=p===void 0?0:p,v=c[1],_=l-1;return _===0?(a(function(){(b||!f.opGet(o))&&i?.(v,!1)}),null):[l-1,v]})}},[o]),g}var Fg={},Hg="css",br=new Map;function jg(e){br.set(e,(br.get(e)||0)+1)}function zg(e,t){if(typeof document<"u"){var r=document.querySelectorAll("style[".concat(Wr,'="').concat(e,'"]'));r.forEach(function(i){if(i[ir]===t){var n;(n=i.parentNode)===null||n===void 0||n.removeChild(i)}})}}var Ng=0;function Vg(e,t){br.set(e,(br.get(e)||0)-1);var r=new Set;br.forEach(function(i,n){i<=0&&r.add(n)}),br.size-r.size>Ng&&r.forEach(function(i){zg(i,t),br.delete(i)})}var Wg=function(t,r,i,n){var h=i.getDerivativeToken(t),f=Y(Y({},h),r);return n&&(f=n(f)),f},Yu="token";function Ug(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=O.useContext(ki),n=i.cache.instanceId,h=i.container,f=r.salt,s=f===void 0?"":f,o=r.override,a=o===void 0?Fg:o,d=r.formatToken,u=r.getComputedToken,g=r.cssVar,b=Ag(function(){return Object.assign.apply(Object,[{}].concat(ue(t)))},t),S=vi(b),m=vi(a),c=g?vi(g):"",p=ya(Yu,[s,e.id,S,m,c],function(){var l,v=u?u(b,a,e):Wg(b,a,e,d),_=Y({},v),w="";if(g){var E=Xu(v,g.key,{prefix:g.prefix,ignore:g.ignore,unitless:g.unitless,preserve:g.preserve}),C=ce(E,2);v=C[0],w=C[1]}var y=Dc(v,s);v._tokenKey=y,_._tokenKey=Dc(_,s);var x=(l=g?.key)!==null&&l!==void 0?l:y;v._themeKey=x,jg(x);var R="".concat(Hg,"-").concat(Ci(y));return v._hashId=R,[v,R,_,w,g?.key||""]},function(l){Vg(l[0]._themeKey,n)},function(l){var v=ce(l,4),_=v[0],w=v[3];if(g&&w){var E=Sr(w,Ci("css-variables-".concat(_._themeKey)),{mark:$t,prepend:"queue",attachTo:h,priority:-999});E[ir]=n,E.setAttribute(Wr,_._themeKey)}});return p}var qg=function(t,r,i){var n=ce(t,5),h=n[2],f=n[3],s=n[4],o=i||{},a=o.plain;if(!f)return null;var d=h._tokenKey,u=-999,g={"data-rc-order":"prependQueue","data-rc-priority":"".concat(u)},b=Ln(f,s,d,g,a);return[u,d,b]},Gg={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Ju="comm",Zu="rule",Qu="decl",Kg="@import",Xg="@namespace",Yg="@keyframes",Jg="@layer",eh=Math.abs,Sa=String.fromCharCode;function th(e){return e.trim()}function bn(e,t,r){return e.replace(t,r)}function Zg(e,t,r){return e.indexOf(t,r)}function zr(e,t){return e.charCodeAt(t)|0}function Ur(e,t,r){return e.slice(t,r)}function jt(e){return e.length}function Qg(e){return e.length}function sn(e,t){return t.push(e),e}var Wn=1,qr=1,rh=0,Lt=0,Ue=0,Jr="";function Ca(e,t,r,i,n,h,f,s){return{value:e,root:t,parent:r,type:i,props:n,children:h,line:Wn,column:qr,length:f,return:"",siblings:s}}function em(){return Ue}function tm(){return Ue=Lt>0?zr(Jr,--Lt):0,qr--,Ue===10&&(qr=1,Wn--),Ue}function Ft(){return Ue=Lt<rh?zr(Jr,Lt++):0,qr++,Ue===10&&(qr=1,Wn++),Ue}function nr(){return zr(Jr,Lt)}function yn(){return Lt}function Un(e,t){return Ur(Jr,e,t)}function Ei(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function rm(e){return Wn=qr=1,rh=jt(Jr=e),Lt=0,[]}function im(e){return Jr="",e}function Is(e){return th(Un(Lt-1,bo(e===91?e+2:e===40?e+1:e)))}function nm(e){for(;(Ue=nr())&&Ue<33;)Ft();return Ei(e)>2||Ei(Ue)>3?"":" "}function sm(e,t){for(;--t&&Ft()&&!(Ue<48||Ue>102||Ue>57&&Ue<65||Ue>70&&Ue<97););return Un(e,yn()+(t<6&&nr()==32&&Ft()==32))}function bo(e){for(;Ft();)switch(Ue){case e:return Lt;case 34:case 39:e!==34&&e!==39&&bo(Ue);break;case 40:e===41&&bo(e);break;case 92:Ft();break}return Lt}function om(e,t){for(;Ft()&&e+Ue!==57;)if(e+Ue===84&&nr()===47)break;return"/*"+Un(t,Lt-1)+"*"+Sa(e===47?e:Ft())}function am(e){for(;!Ei(nr());)Ft();return Un(e,Lt)}function cm(e){return im(Sn("",null,null,null,[""],e=rm(e),0,[0],e))}function Sn(e,t,r,i,n,h,f,s,o){for(var a=0,d=0,u=f,g=0,b=0,S=0,m=1,c=1,p=1,l=0,v="",_=n,w=h,E=i,C=v;c;)switch(S=l,l=Ft()){case 40:if(S!=108&&zr(C,u-1)==58){Zg(C+=bn(Is(l),"&","&\f"),"&\f",eh(a?s[a-1]:0))!=-1&&(p=-1);break}case 34:case 39:case 91:C+=Is(l);break;case 9:case 10:case 13:case 32:C+=nm(S);break;case 92:C+=sm(yn()-1,7);continue;case 47:switch(nr()){case 42:case 47:sn(lm(om(Ft(),yn()),t,r,o),o),(Ei(S||1)==5||Ei(nr()||1)==5)&&jt(C)&&Ur(C,-1,void 0)!==" "&&(C+=" ");break;default:C+="/"}break;case 123*m:s[a++]=jt(C)*p;case 125*m:case 59:case 0:switch(l){case 0:case 125:c=0;case 59+d:p==-1&&(C=bn(C,/\f/g,"")),b>0&&(jt(C)-u||m===0&&S===47)&&sn(b>32?zc(C+";",i,r,u-1,o):zc(bn(C," ","")+";",i,r,u-2,o),o);break;case 59:C+=";";default:if(sn(E=jc(C,t,r,a,d,n,s,v,_=[],w=[],u,h),h),l===123)if(d===0)Sn(C,t,E,E,_,h,u,s,w);else{switch(g){case 99:if(zr(C,3)===110)break;case 108:if(zr(C,2)===97)break;default:d=0;case 100:case 109:case 115:}d?Sn(e,E,E,i&&sn(jc(e,E,E,0,0,n,s,v,n,_=[],u,w),w),n,w,u,s,i?_:w):Sn(C,E,E,E,[""],w,0,s,w)}}a=d=b=0,m=p=1,v=C="",u=f;break;case 58:u=1+jt(C),b=S;default:if(m<1){if(l==123)--m;else if(l==125&&m++==0&&tm()==125)continue}switch(C+=Sa(l),l*m){case 38:p=d>0?1:(C+="\f",-1);break;case 44:s[a++]=(jt(C)-1)*p,p=1;break;case 64:nr()===45&&(C+=Is(Ft())),g=nr(),d=u=jt(v=C+=am(yn())),l++;break;case 45:S===45&&jt(C)==2&&(m=0)}}return h}function jc(e,t,r,i,n,h,f,s,o,a,d,u){for(var g=n-1,b=n===0?h:[""],S=Qg(b),m=0,c=0,p=0;m<i;++m)for(var l=0,v=Ur(e,g+1,g=eh(c=f[m])),_=e;l<S;++l)(_=th(c>0?b[l]+" "+v:bn(v,/&\f/g,b[l])))&&(o[p++]=_);return Ca(e,t,r,n===0?Zu:s,o,a,d,u)}function lm(e,t,r,i){return Ca(e,t,r,Ju,Sa(em()),Ur(e,2,-2),0,i)}function zc(e,t,r,i,n){return Ca(e,t,r,Qu,Ur(e,0,i),Ur(e,i+1,-1),i,n)}function yo(e,t){for(var r="",i=0;i<e.length;i++)r+=t(e[i],i,e,t)||"";return r}function um(e,t,r,i){switch(e.type){case Jg:if(e.children.length)break;case Kg:case Xg:case Qu:return e.return=e.return||e.value;case Ju:return"";case Yg:return e.return=e.value+"{"+yo(e.children,i)+"}";case Zu:if(!jt(e.value=e.props.join(",")))return""}return jt(r=yo(e.children,i))?e.return=e.value+"{"+r+"}":""}var Nc="data-ant-cssinjs-cache-path",ih="_FILE_STYLE__",Cr,nh=!0;function hm(){if(!Cr&&(Cr={},Xt())){var e=document.createElement("div");e.className=Nc,e.style.position="fixed",e.style.visibility="hidden",e.style.top="-9999px",document.body.appendChild(e);var t=getComputedStyle(e).content||"";t=t.replace(/^"/,"").replace(/"$/,""),t.split(";").forEach(function(n){var h=n.split(":"),f=ce(h,2),s=f[0],o=f[1];Cr[s]=o});var r=document.querySelector("style[".concat(Nc,"]"));if(r){var i;nh=!1,(i=r.parentNode)===null||i===void 0||i.removeChild(r)}document.body.removeChild(e)}}function dm(e){return hm(),!!Cr[e]}function fm(e){var t=Cr[e],r=null;if(t&&Xt())if(nh)r=ih;else{var i=document.querySelector("style[".concat($t,'="').concat(Cr[e],'"]'));i?r=i.innerHTML:delete Cr[e]}return[r,t]}var pm="_skip_check_",sh="_multi_value_";function Cn(e){var t=yo(cm(e),um);return t.replace(/\{%%%\:[^;];}/g,";")}function vm(e){return he(e)==="object"&&e&&(pm in e||sh in e)}function Vc(e,t,r){if(!t)return e;var i=".".concat(t),n=r==="low"?":where(".concat(i,")"):i,h=e.split(",").map(function(f){var s,o=f.trim().split(/\s+/),a=o[0]||"",d=((s=a.match(/^\w+/))===null||s===void 0?void 0:s[0])||"";return a="".concat(d).concat(n).concat(a.slice(d.length)),[a].concat(ue(o.slice(1))).join(" ")});return h.join(",")}var gm=function e(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{root:!0,parentSelectors:[]},n=i.root,h=i.injectHash,f=i.parentSelectors,s=r.hashId,o=r.layer;r.path;var a=r.hashPriority,d=r.transformers,u=d===void 0?[]:d;r.linters;var g="",b={};function S(p){var l=p.getName(s);if(!b[l]){var v=e(p.style,r,{root:!1,parentSelectors:f}),_=ce(v,1),w=_[0];b[l]="@keyframes ".concat(p.getName(s)).concat(w)}}function m(p){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return p.forEach(function(v){Array.isArray(v)?m(v,l):v&&l.push(v)}),l}var c=m(Array.isArray(t)?t:[t]);return c.forEach(function(p){var l=typeof p=="string"&&!n?{}:p;if(typeof l=="string")g+="".concat(l,`
`);else if(l._keyframe)S(l);else{var v=u.reduce(function(_,w){var E;return(w==null||(E=w.visit)===null||E===void 0?void 0:E.call(w,_))||_},l);Object.keys(v).forEach(function(_){var w=v[_];if(he(w)==="object"&&w&&(_!=="animationName"||!w._keyframe)&&!vm(w)){var E=!1,C=_.trim(),y=!1;(n||h)&&s?C.startsWith("@")?E=!0:C==="&"?C=Vc("",s,a):C=Vc(_,s,a):n&&!s&&(C==="&"||C==="")&&(C="",y=!0);var x=e(w,r,{root:y,injectHash:E,parentSelectors:[].concat(ue(f),[C])}),R=ce(x,2),M=R[0],I=R[1];b=Y(Y({},b),I),g+="".concat(C).concat(M)}else{let $=function(F,z){var U=F.replace(/[A-Z]/g,function(k){return"-".concat(k.toLowerCase())}),A=z;!Gg[F]&&typeof A=="number"&&A!==0&&(A="".concat(A,"px")),F==="animationName"&&z!==null&&z!==void 0&&z._keyframe&&(S(z),A=z.getName(s)),g+="".concat(U,":").concat(A,";")};var T,B=(T=w?.value)!==null&&T!==void 0?T:w;he(w)==="object"&&w!==null&&w!==void 0&&w[sh]&&Array.isArray(B)?B.forEach(function(F){$(_,F)}):$(_,B)}})}}),n?o&&(g&&(g="@layer ".concat(o.name," {").concat(g,"}")),o.dependencies&&(b["@layer ".concat(o.name)]=o.dependencies.map(function(p){return"@layer ".concat(p,", ").concat(o.name,";")}).join(`
`))):g="{".concat(g,"}"),[g,b]};function oh(e,t){return Ci("".concat(e.join("%")).concat(t))}function mm(){return null}var ah="style";function So(e,t){var r=e.token,i=e.path,n=e.hashId,h=e.layer,f=e.nonce,s=e.clientOnly,o=e.order,a=o===void 0?0:o,d=O.useContext(ki),u=d.autoClear;d.mock;var g=d.defaultCache,b=d.hashPriority,S=d.container,m=d.ssrInline,c=d.transformers,p=d.linters,l=d.cache,v=d.layer,_=r._tokenKey,w=[_];v&&w.push("layer"),w.push.apply(w,ue(i));var E=_o,C=ya(ah,w,function(){var I=w.join("|");if(dm(I)){var T=fm(I),B=ce(T,2),$=B[0],F=B[1];if($)return[$,_,F,{},s,a]}var z=t(),U=gm(z,{hashId:n,hashPriority:b,layer:v?h:void 0,path:i.join("-"),transformers:c,linters:p}),A=ce(U,2),k=A[0],P=A[1],D=Cn(k),V=oh(w,D);return[D,_,V,P,s,a]},function(I,T){var B=ce(I,3),$=B[2];(T||u)&&_o&&Gu($,{mark:$t,attachTo:S})},function(I){var T=ce(I,4),B=T[0];T[1];var $=T[2],F=T[3];if(E&&B!==ih){var z={mark:$t,prepend:v?!1:"queue",attachTo:S,priority:a},U=typeof f=="function"?f():f;U&&(z.csp={nonce:U});var A=[],k=[];Object.keys(F).forEach(function(D){D.startsWith("@layer")?A.push(D):k.push(D)}),A.forEach(function(D){Sr(Cn(F[D]),"_layer-".concat(D),Y(Y({},z),{},{prepend:!0}))});var P=Sr(B,$,z);P[ir]=l.instanceId,P.setAttribute(Wr,_),k.forEach(function(D){Sr(Cn(F[D]),"_effect-".concat(D),z)})}}),y=ce(C,3),x=y[0],R=y[1],M=y[2];return function(I){var T;return!m||E||!g?T=O.createElement(mm,null):T=O.createElement("style",et({},q(q({},Wr,R),$t,M),{dangerouslySetInnerHTML:{__html:x}})),O.createElement(O.Fragment,null,T,I)}}var _m=function(t,r,i){var n=ce(t,6),h=n[0],f=n[1],s=n[2],o=n[3],a=n[4],d=n[5],u=i||{},g=u.plain;if(a)return null;var b=h,S={"data-rc-order":"prependQueue","data-rc-priority":"".concat(d)};return b=Ln(h,f,s,S,g),o&&Object.keys(o).forEach(function(m){if(!r[m]){r[m]=!0;var c=Cn(o[m]),p=Ln(c,f,"_effect-".concat(m),S,g);m.startsWith("@layer")?b=p+b:b+=p}}),[d,s,b]},ch="cssVar",bm=function(t,r){var i=t.key,n=t.prefix,h=t.unitless,f=t.ignore,s=t.token,o=t.scope,a=o===void 0?"":o,d=O.useContext(ki),u=d.cache.instanceId,g=d.container,b=s._tokenKey,S=[].concat(ue(t.path),[i,a,b]),m=ya(ch,S,function(){var c=r(),p=Xu(c,i,{prefix:n,unitless:h,ignore:f,scope:a}),l=ce(p,2),v=l[0],_=l[1],w=oh(S,_);return[v,_,w,i]},function(c){var p=ce(c,3),l=p[2];_o&&Gu(l,{mark:$t,attachTo:g})},function(c){var p=ce(c,3),l=p[1],v=p[2];if(l){var _=Sr(l,v,{mark:$t,prepend:"queue",attachTo:g,priority:-999});_[ir]=u,_.setAttribute(Wr,i)}});return m},ym=function(t,r,i){var n=ce(t,4),h=n[1],f=n[2],s=n[3],o=i||{},a=o.plain;if(!h)return null;var d=-999,u={"data-rc-order":"prependQueue","data-rc-priority":"".concat(d)},g=Ln(h,s,f,u,a);return[d,f,g]};q(q(q({},ah,_m),Yu,qg),ch,ym);function kr(e){return e.notSplit=!0,e}kr(["borderTop","borderBottom"]),kr(["borderTop"]),kr(["borderBottom"]),kr(["borderLeft","borderRight"]),kr(["borderLeft"]),kr(["borderRight"]);var wa=O.createContext({});function Sm(e){return Nu(e)||Fu(e)||ga(e)||Vu()}function zt(e,t){for(var r=e,i=0;i<t.length;i+=1){if(r==null)return;r=r[t[i]]}return r}function lh(e,t,r,i){if(!t.length)return r;var n=Sm(t),h=n[0],f=n.slice(1),s;return!e&&typeof h=="number"?s=[]:Array.isArray(e)?s=ue(e):s=Y({},e),i&&r===void 0&&f.length===1?delete s[h][f[0]]:s[h]=lh(s[h],f,r,i),s}function Bt(e,t,r){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;return t.length&&i&&r===void 0&&!zt(e,t.slice(0,-1))?e:lh(e,t,r,i)}function Cm(e){return he(e)==="object"&&e!==null&&Object.getPrototypeOf(e)===Object.prototype}function Wc(e){return Array.isArray(e)?[]:{}}var wm=typeof Reflect>"u"?Object.keys:Reflect.ownKeys;function Fr(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var i=Wc(t[0]);return t.forEach(function(n){function h(f,s){var o=new Set(s),a=zt(n,f),d=Array.isArray(a);if(d||Cm(a)){if(!o.has(a)){o.add(a);var u=zt(i,f);d?i=Bt(i,f,[]):(!u||he(u)!=="object")&&(i=Bt(i,f,Wc(a))),wm(a).forEach(function(g){h([].concat(ue(f),[g]),o)})}}else i=Bt(i,f,a)}h([])}),i}const Em=O.createContext({}),xm=O.createContext(void 0),vt="${label} is not a valid ${type}",qn={Modal:{okText:"OK",cancelText:"Cancel",justOkText:"OK"},Form:{optional:"(optional)",defaultValidateMessages:{default:"Field validation error for ${label}",required:"Please enter ${label}",enum:"${label} must be one of [${enum}]",whitespace:"${label} cannot be a blank character",date:{format:"${label} date format is invalid",parse:"${label} cannot be converted to a date",invalid:"${label} is an invalid date"},types:{string:vt,method:vt,array:vt,object:vt,number:vt,date:vt,boolean:vt,integer:vt,float:vt,regexp:vt,email:vt,url:vt,hex:vt},string:{len:"${label} must be ${len} characters",min:"${label} must be at least ${min} characters",max:"${label} must be up to ${max} characters",range:"${label} must be between ${min}-${max} characters"},number:{len:"${label} must be equal to ${len}",min:"${label} must be minimum ${min}",max:"${label} must be maximum ${max}",range:"${label} must be between ${min}-${max}"},array:{len:"Must be ${len} ${label}",min:"At least ${min} ${label}",max:"At most ${max} ${label}",range:"The amount of ${label} must be between ${min}-${max}"},pattern:{mismatch:"${label} does not match the pattern ${pattern}"}}}};Object.assign({},qn.Modal);let wn=[];const Uc=()=>wn.reduce((e,t)=>Object.assign(Object.assign({},e),t),qn.Modal);function Rm(e){if(e){const t=Object.assign({},e);return wn.push(t),Uc(),()=>{wn=wn.filter(r=>r!==t),Uc()}}Object.assign({},qn.Modal)}const uh=O.createContext(void 0),Om="internalMark",Am=e=>{const{locale:t={},children:r,_ANT_MARK__:i}=e;O.useEffect(()=>Rm(t?.Modal),[t]);const n=O.useMemo(()=>Object.assign(Object.assign({},t),{exist:!0}),[t]);return O.createElement(uh.Provider,{value:n},r)},hh={blue:"#1677FF",purple:"#722ED1",cyan:"#13C2C2",green:"#52C41A",magenta:"#EB2F96",pink:"#EB2F96",red:"#F5222D",orange:"#FA8C16",yellow:"#FADB14",volcano:"#FA541C",geekblue:"#2F54EB",gold:"#FAAD14",lime:"#A0D911"},xi=Object.assign(Object.assign({},hh),{colorPrimary:"#1677ff",colorSuccess:"#52c41a",colorWarning:"#faad14",colorError:"#ff4d4f",colorInfo:"#1677ff",colorLink:"",colorTextBase:"",colorBgBase:"",fontFamily:`-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial,
'Noto Sans', sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol',
'Noto Color Emoji'`,fontFamilyCode:"'SFMono-Regular', Consolas, 'Liberation Mono', Menlo, Courier, monospace",fontSize:14,lineWidth:1,lineType:"solid",motionUnit:.1,motionBase:0,motionEaseOutCirc:"cubic-bezier(0.08, 0.82, 0.17, 1)",motionEaseInOutCirc:"cubic-bezier(0.78, 0.14, 0.15, 0.86)",motionEaseOut:"cubic-bezier(0.215, 0.61, 0.355, 1)",motionEaseInOut:"cubic-bezier(0.645, 0.045, 0.355, 1)",motionEaseOutBack:"cubic-bezier(0.12, 0.4, 0.29, 1.46)",motionEaseInBack:"cubic-bezier(0.71, -0.46, 0.88, 0.6)",motionEaseInQuint:"cubic-bezier(0.755, 0.05, 0.855, 0.06)",motionEaseOutQuint:"cubic-bezier(0.23, 1, 0.32, 1)",borderRadius:6,sizeUnit:4,sizeStep:4,sizePopupArrow:16,controlHeight:32,zIndexBase:0,zIndexPopupBase:1e3,opacityImage:1,wireframe:!1,motion:!0}),Qe=Math.round;function Ps(e,t){const r=e.replace(/^[^(]*\((.*)/,"$1").replace(/\).*/,"").match(/\d*\.?\d+%?/g)||[],i=r.map(n=>parseFloat(n));for(let n=0;n<3;n+=1)i[n]=t(i[n]||0,r[n]||"",n);return r[3]?i[3]=r[3].includes("%")?i[3]/100:i[3]:i[3]=1,i}const qc=(e,t,r)=>r===0?e:e/100;function ai(e,t){const r=t||255;return e>r?r:e<0?0:e}class He{constructor(t){q(this,"isValid",!0),q(this,"r",0),q(this,"g",0),q(this,"b",0),q(this,"a",1),q(this,"_h",void 0),q(this,"_s",void 0),q(this,"_l",void 0),q(this,"_v",void 0),q(this,"_max",void 0),q(this,"_min",void 0),q(this,"_brightness",void 0);function r(i){return i[0]in t&&i[1]in t&&i[2]in t}if(t)if(typeof t=="string"){let n=function(h){return i.startsWith(h)};const i=t.trim();/^#?[A-F\d]{3,8}$/i.test(i)?this.fromHexString(i):n("rgb")?this.fromRgbString(i):n("hsl")?this.fromHslString(i):(n("hsv")||n("hsb"))&&this.fromHsvString(i)}else if(t instanceof He)this.r=t.r,this.g=t.g,this.b=t.b,this.a=t.a,this._h=t._h,this._s=t._s,this._l=t._l,this._v=t._v;else if(r("rgb"))this.r=ai(t.r),this.g=ai(t.g),this.b=ai(t.b),this.a=typeof t.a=="number"?ai(t.a,1):1;else if(r("hsl"))this.fromHsl(t);else if(r("hsv"))this.fromHsv(t);else throw new Error("@ant-design/fast-color: unsupported input "+JSON.stringify(t))}setR(t){return this._sc("r",t)}setG(t){return this._sc("g",t)}setB(t){return this._sc("b",t)}setA(t){return this._sc("a",t,1)}setHue(t){const r=this.toHsv();return r.h=t,this._c(r)}getLuminance(){function t(h){const f=h/255;return f<=.03928?f/12.92:Math.pow((f+.055)/1.055,2.4)}const r=t(this.r),i=t(this.g),n=t(this.b);return .2126*r+.7152*i+.0722*n}getHue(){if(typeof this._h>"u"){const t=this.getMax()-this.getMin();t===0?this._h=0:this._h=Qe(60*(this.r===this.getMax()?(this.g-this.b)/t+(this.g<this.b?6:0):this.g===this.getMax()?(this.b-this.r)/t+2:(this.r-this.g)/t+4))}return this._h}getSaturation(){if(typeof this._s>"u"){const t=this.getMax()-this.getMin();t===0?this._s=0:this._s=t/this.getMax()}return this._s}getLightness(){return typeof this._l>"u"&&(this._l=(this.getMax()+this.getMin())/510),this._l}getValue(){return typeof this._v>"u"&&(this._v=this.getMax()/255),this._v}getBrightness(){return typeof this._brightness>"u"&&(this._brightness=(this.r*299+this.g*587+this.b*114)/1e3),this._brightness}darken(t=10){const r=this.getHue(),i=this.getSaturation();let n=this.getLightness()-t/100;return n<0&&(n=0),this._c({h:r,s:i,l:n,a:this.a})}lighten(t=10){const r=this.getHue(),i=this.getSaturation();let n=this.getLightness()+t/100;return n>1&&(n=1),this._c({h:r,s:i,l:n,a:this.a})}mix(t,r=50){const i=this._c(t),n=r/100,h=s=>(i[s]-this[s])*n+this[s],f={r:Qe(h("r")),g:Qe(h("g")),b:Qe(h("b")),a:Qe(h("a")*100)/100};return this._c(f)}tint(t=10){return this.mix({r:255,g:255,b:255,a:1},t)}shade(t=10){return this.mix({r:0,g:0,b:0,a:1},t)}onBackground(t){const r=this._c(t),i=this.a+r.a*(1-this.a),n=h=>Qe((this[h]*this.a+r[h]*r.a*(1-this.a))/i);return this._c({r:n("r"),g:n("g"),b:n("b"),a:i})}isDark(){return this.getBrightness()<128}isLight(){return this.getBrightness()>=128}equals(t){return this.r===t.r&&this.g===t.g&&this.b===t.b&&this.a===t.a}clone(){return this._c(this)}toHexString(){let t="#";const r=(this.r||0).toString(16);t+=r.length===2?r:"0"+r;const i=(this.g||0).toString(16);t+=i.length===2?i:"0"+i;const n=(this.b||0).toString(16);if(t+=n.length===2?n:"0"+n,typeof this.a=="number"&&this.a>=0&&this.a<1){const h=Qe(this.a*255).toString(16);t+=h.length===2?h:"0"+h}return t}toHsl(){return{h:this.getHue(),s:this.getSaturation(),l:this.getLightness(),a:this.a}}toHslString(){const t=this.getHue(),r=Qe(this.getSaturation()*100),i=Qe(this.getLightness()*100);return this.a!==1?`hsla(${t},${r}%,${i}%,${this.a})`:`hsl(${t},${r}%,${i}%)`}toHsv(){return{h:this.getHue(),s:this.getSaturation(),v:this.getValue(),a:this.a}}toRgb(){return{r:this.r,g:this.g,b:this.b,a:this.a}}toRgbString(){return this.a!==1?`rgba(${this.r},${this.g},${this.b},${this.a})`:`rgb(${this.r},${this.g},${this.b})`}toString(){return this.toRgbString()}_sc(t,r,i){const n=this.clone();return n[t]=ai(r,i),n}_c(t){return new this.constructor(t)}getMax(){return typeof this._max>"u"&&(this._max=Math.max(this.r,this.g,this.b)),this._max}getMin(){return typeof this._min>"u"&&(this._min=Math.min(this.r,this.g,this.b)),this._min}fromHexString(t){const r=t.replace("#","");function i(n,h){return parseInt(r[n]+r[h||n],16)}r.length<6?(this.r=i(0),this.g=i(1),this.b=i(2),this.a=r[3]?i(3)/255:1):(this.r=i(0,1),this.g=i(2,3),this.b=i(4,5),this.a=r[6]?i(6,7)/255:1)}fromHsl({h:t,s:r,l:i,a:n}){if(this._h=t%360,this._s=r,this._l=i,this.a=typeof n=="number"?n:1,r<=0){const g=Qe(i*255);this.r=g,this.g=g,this.b=g}let h=0,f=0,s=0;const o=t/60,a=(1-Math.abs(2*i-1))*r,d=a*(1-Math.abs(o%2-1));o>=0&&o<1?(h=a,f=d):o>=1&&o<2?(h=d,f=a):o>=2&&o<3?(f=a,s=d):o>=3&&o<4?(f=d,s=a):o>=4&&o<5?(h=d,s=a):o>=5&&o<6&&(h=a,s=d);const u=i-a/2;this.r=Qe((h+u)*255),this.g=Qe((f+u)*255),this.b=Qe((s+u)*255)}fromHsv({h:t,s:r,v:i,a:n}){this._h=t%360,this._s=r,this._v=i,this.a=typeof n=="number"?n:1;const h=Qe(i*255);if(this.r=h,this.g=h,this.b=h,r<=0)return;const f=t/60,s=Math.floor(f),o=f-s,a=Qe(i*(1-r)*255),d=Qe(i*(1-r*o)*255),u=Qe(i*(1-r*(1-o))*255);switch(s){case 0:this.g=u,this.b=a;break;case 1:this.r=d,this.b=a;break;case 2:this.r=a,this.b=u;break;case 3:this.r=a,this.g=d;break;case 4:this.r=u,this.g=a;break;case 5:default:this.g=a,this.b=d;break}}fromHsvString(t){const r=Ps(t,qc);this.fromHsv({h:r[0],s:r[1],v:r[2],a:r[3]})}fromHslString(t){const r=Ps(t,qc);this.fromHsl({h:r[0],s:r[1],l:r[2],a:r[3]})}fromRgbString(t){const r=Ps(t,(i,n)=>n.includes("%")?Qe(i/100*255):i);this.r=r[0],this.g=r[1],this.b=r[2],this.a=r[3]}}var on=2,Gc=.16,Tm=.05,Lm=.05,Mm=.15,dh=5,fh=4,Im=[{index:7,amount:15},{index:6,amount:25},{index:5,amount:30},{index:5,amount:45},{index:5,amount:65},{index:5,amount:85},{index:4,amount:90},{index:3,amount:95},{index:2,amount:97},{index:1,amount:98}];function Kc(e,t,r){var i;return Math.round(e.h)>=60&&Math.round(e.h)<=240?i=r?Math.round(e.h)-on*t:Math.round(e.h)+on*t:i=r?Math.round(e.h)+on*t:Math.round(e.h)-on*t,i<0?i+=360:i>=360&&(i-=360),i}function Xc(e,t,r){if(e.h===0&&e.s===0)return e.s;var i;return r?i=e.s-Gc*t:t===fh?i=e.s+Gc:i=e.s+Tm*t,i>1&&(i=1),r&&t===dh&&i>.1&&(i=.1),i<.06&&(i=.06),Math.round(i*100)/100}function Yc(e,t,r){var i;return r?i=e.v+Lm*t:i=e.v-Mm*t,i=Math.max(0,Math.min(1,i)),Math.round(i*100)/100}function Ri(e){for(var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=[],i=new He(e),n=i.toHsv(),h=dh;h>0;h-=1){var f=new He({h:Kc(n,h,!0),s:Xc(n,h,!0),v:Yc(n,h,!0)});r.push(f)}r.push(i);for(var s=1;s<=fh;s+=1){var o=new He({h:Kc(n,s),s:Xc(n,s),v:Yc(n,s)});r.push(o)}return t.theme==="dark"?Im.map(function(a){var d=a.index,u=a.amount;return new He(t.backgroundColor||"#141414").mix(r[d],u).toHexString()}):r.map(function(a){return a.toHexString()})}var ks={red:"#F5222D",volcano:"#FA541C",orange:"#FA8C16",gold:"#FAAD14",yellow:"#FADB14",lime:"#A0D911",green:"#52C41A",cyan:"#13C2C2",blue:"#1677FF",geekblue:"#2F54EB",purple:"#722ED1",magenta:"#EB2F96",grey:"#666666"},Co=["#fff1f0","#ffccc7","#ffa39e","#ff7875","#ff4d4f","#f5222d","#cf1322","#a8071a","#820014","#5c0011"];Co.primary=Co[5];var wo=["#fff2e8","#ffd8bf","#ffbb96","#ff9c6e","#ff7a45","#fa541c","#d4380d","#ad2102","#871400","#610b00"];wo.primary=wo[5];var Eo=["#fff7e6","#ffe7ba","#ffd591","#ffc069","#ffa940","#fa8c16","#d46b08","#ad4e00","#873800","#612500"];Eo.primary=Eo[5];var xo=["#fffbe6","#fff1b8","#ffe58f","#ffd666","#ffc53d","#faad14","#d48806","#ad6800","#874d00","#613400"];xo.primary=xo[5];var Ro=["#feffe6","#ffffb8","#fffb8f","#fff566","#ffec3d","#fadb14","#d4b106","#ad8b00","#876800","#614700"];Ro.primary=Ro[5];var Oo=["#fcffe6","#f4ffb8","#eaff8f","#d3f261","#bae637","#a0d911","#7cb305","#5b8c00","#3f6600","#254000"];Oo.primary=Oo[5];var Ao=["#f6ffed","#d9f7be","#b7eb8f","#95de64","#73d13d","#52c41a","#389e0d","#237804","#135200","#092b00"];Ao.primary=Ao[5];var To=["#e6fffb","#b5f5ec","#87e8de","#5cdbd3","#36cfc9","#13c2c2","#08979c","#006d75","#00474f","#002329"];To.primary=To[5];var Mn=["#e6f4ff","#bae0ff","#91caff","#69b1ff","#4096ff","#1677ff","#0958d9","#003eb3","#002c8c","#001d66"];Mn.primary=Mn[5];var Lo=["#f0f5ff","#d6e4ff","#adc6ff","#85a5ff","#597ef7","#2f54eb","#1d39c4","#10239e","#061178","#030852"];Lo.primary=Lo[5];var Mo=["#f9f0ff","#efdbff","#d3adf7","#b37feb","#9254de","#722ed1","#531dab","#391085","#22075e","#120338"];Mo.primary=Mo[5];var Io=["#fff0f6","#ffd6e7","#ffadd2","#ff85c0","#f759ab","#eb2f96","#c41d7f","#9e1068","#780650","#520339"];Io.primary=Io[5];var Po=["#a6a6a6","#999999","#8c8c8c","#808080","#737373","#666666","#404040","#1a1a1a","#000000","#000000"];Po.primary=Po[5];var Bs={red:Co,volcano:wo,orange:Eo,gold:xo,yellow:Ro,lime:Oo,green:Ao,cyan:To,blue:Mn,geekblue:Lo,purple:Mo,magenta:Io,grey:Po};function Pm(e,{generateColorPalettes:t,generateNeutralColorPalettes:r}){const{colorSuccess:i,colorWarning:n,colorError:h,colorInfo:f,colorPrimary:s,colorBgBase:o,colorTextBase:a}=e,d=t(s),u=t(i),g=t(n),b=t(h),S=t(f),m=r(o,a),c=e.colorLink||e.colorInfo,p=t(c),l=new He(b[1]).mix(new He(b[3]),50).toHexString();return Object.assign(Object.assign({},m),{colorPrimaryBg:d[1],colorPrimaryBgHover:d[2],colorPrimaryBorder:d[3],colorPrimaryBorderHover:d[4],colorPrimaryHover:d[5],colorPrimary:d[6],colorPrimaryActive:d[7],colorPrimaryTextHover:d[8],colorPrimaryText:d[9],colorPrimaryTextActive:d[10],colorSuccessBg:u[1],colorSuccessBgHover:u[2],colorSuccessBorder:u[3],colorSuccessBorderHover:u[4],colorSuccessHover:u[4],colorSuccess:u[6],colorSuccessActive:u[7],colorSuccessTextHover:u[8],colorSuccessText:u[9],colorSuccessTextActive:u[10],colorErrorBg:b[1],colorErrorBgHover:b[2],colorErrorBgFilledHover:l,colorErrorBgActive:b[3],colorErrorBorder:b[3],colorErrorBorderHover:b[4],colorErrorHover:b[5],colorError:b[6],colorErrorActive:b[7],colorErrorTextHover:b[8],colorErrorText:b[9],colorErrorTextActive:b[10],colorWarningBg:g[1],colorWarningBgHover:g[2],colorWarningBorder:g[3],colorWarningBorderHover:g[4],colorWarningHover:g[4],colorWarning:g[6],colorWarningActive:g[7],colorWarningTextHover:g[8],colorWarningText:g[9],colorWarningTextActive:g[10],colorInfoBg:S[1],colorInfoBgHover:S[2],colorInfoBorder:S[3],colorInfoBorderHover:S[4],colorInfoHover:S[4],colorInfo:S[6],colorInfoActive:S[7],colorInfoTextHover:S[8],colorInfoText:S[9],colorInfoTextActive:S[10],colorLinkHover:p[4],colorLink:p[6],colorLinkActive:p[7],colorBgMask:new He("#000").setA(.45).toRgbString(),colorWhite:"#fff"})}const km=e=>{let t=e,r=e,i=e,n=e;return e<6&&e>=5?t=e+1:e<16&&e>=6?t=e+2:e>=16&&(t=16),e<7&&e>=5?r=4:e<8&&e>=7?r=5:e<14&&e>=8?r=6:e<16&&e>=14?r=7:e>=16&&(r=8),e<6&&e>=2?i=1:e>=6&&(i=2),e>4&&e<8?n=4:e>=8&&(n=6),{borderRadius:e,borderRadiusXS:i,borderRadiusSM:r,borderRadiusLG:t,borderRadiusOuter:n}};function Bm(e){const{motionUnit:t,motionBase:r,borderRadius:i,lineWidth:n}=e;return Object.assign({motionDurationFast:`${(r+t).toFixed(1)}s`,motionDurationMid:`${(r+t*2).toFixed(1)}s`,motionDurationSlow:`${(r+t*3).toFixed(1)}s`,lineWidthBold:n+1},km(i))}const Dm=e=>{const{controlHeight:t}=e;return{controlHeightSM:t*.75,controlHeightXS:t*.5,controlHeightLG:t*1.25}};function En(e){return(e+8)/e}function $m(e){const t=Array.from({length:10}).map((r,i)=>{const n=i-1,h=e*Math.pow(Math.E,n/5),f=i>1?Math.floor(h):Math.ceil(h);return Math.floor(f/2)*2});return t[1]=e,t.map(r=>({size:r,lineHeight:En(r)}))}const Fm=e=>{const t=$m(e),r=t.map(d=>d.size),i=t.map(d=>d.lineHeight),n=r[1],h=r[0],f=r[2],s=i[1],o=i[0],a=i[2];return{fontSizeSM:h,fontSize:n,fontSizeLG:f,fontSizeXL:r[3],fontSizeHeading1:r[6],fontSizeHeading2:r[5],fontSizeHeading3:r[4],fontSizeHeading4:r[3],fontSizeHeading5:r[2],lineHeight:s,lineHeightLG:a,lineHeightSM:o,fontHeight:Math.round(s*n),fontHeightLG:Math.round(a*f),fontHeightSM:Math.round(o*h),lineHeightHeading1:i[6],lineHeightHeading2:i[5],lineHeightHeading3:i[4],lineHeightHeading4:i[3],lineHeightHeading5:i[2]}};function Hm(e){const{sizeUnit:t,sizeStep:r}=e;return{sizeXXL:t*(r+8),sizeXL:t*(r+4),sizeLG:t*(r+2),sizeMD:t*(r+1),sizeMS:t*r,size:t*r,sizeSM:t*(r-1),sizeXS:t*(r-2),sizeXXS:t*(r-3)}}const xt=(e,t)=>new He(e).setA(t).toRgbString(),ci=(e,t)=>new He(e).darken(t).toHexString(),jm=e=>{const t=Ri(e);return{1:t[0],2:t[1],3:t[2],4:t[3],5:t[4],6:t[5],7:t[6],8:t[4],9:t[5],10:t[6]}},zm=(e,t)=>{const r=e||"#fff",i=t||"#000";return{colorBgBase:r,colorTextBase:i,colorText:xt(i,.88),colorTextSecondary:xt(i,.65),colorTextTertiary:xt(i,.45),colorTextQuaternary:xt(i,.25),colorFill:xt(i,.15),colorFillSecondary:xt(i,.06),colorFillTertiary:xt(i,.04),colorFillQuaternary:xt(i,.02),colorBgSolid:xt(i,1),colorBgSolidHover:xt(i,.75),colorBgSolidActive:xt(i,.95),colorBgLayout:ci(r,4),colorBgContainer:ci(r,0),colorBgElevated:ci(r,0),colorBgSpotlight:xt(i,.85),colorBgBlur:"transparent",colorBorder:ci(r,15),colorBorderSecondary:ci(r,6)}};function Nm(e){ks.pink=ks.magenta,Bs.pink=Bs.magenta;const t=Object.keys(hh).map(r=>{const i=e[r]===ks[r]?Bs[r]:Ri(e[r]);return Array.from({length:10},()=>1).reduce((n,h,f)=>(n[`${r}-${f+1}`]=i[f],n[`${r}${f+1}`]=i[f],n),{})}).reduce((r,i)=>(r=Object.assign(Object.assign({},r),i),r),{});return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},e),t),Pm(e,{generateColorPalettes:jm,generateNeutralColorPalettes:zm})),Fm(e.fontSize)),Hm(e)),Dm(e)),Bm(e))}const ph=mo(Nm),ko={token:xi,override:{override:xi},hashed:!0},vh=ee.createContext(ko),In="ant",Ea="anticon",Vm=["outlined","borderless","filled","underlined"],Wm=(e,t)=>t||(e?`${In}-${e}`:In),tt=O.createContext({getPrefixCls:Wm,iconPrefixCls:Ea}),{Consumer:a1}=tt,Jc={};function xa(e){const t=O.useContext(tt),{getPrefixCls:r,direction:i,getPopupContainer:n}=t,h=t[e];return Object.assign(Object.assign({classNames:Jc,styles:Jc},h),{getPrefixCls:r,direction:i,getPopupContainer:n})}const Um=`-ant-${Date.now()}-${Math.random()}`;function qm(e,t){const r={},i=(f,s)=>{let o=f.clone();return o=s?.(o)||o,o.toRgbString()},n=(f,s)=>{const o=new He(f),a=Ri(o.toRgbString());r[`${s}-color`]=i(o),r[`${s}-color-disabled`]=a[1],r[`${s}-color-hover`]=a[4],r[`${s}-color-active`]=a[6],r[`${s}-color-outline`]=o.clone().setA(.2).toRgbString(),r[`${s}-color-deprecated-bg`]=a[0],r[`${s}-color-deprecated-border`]=a[2]};if(t.primaryColor){n(t.primaryColor,"primary");const f=new He(t.primaryColor),s=Ri(f.toRgbString());s.forEach((a,d)=>{r[`primary-${d+1}`]=a}),r["primary-color-deprecated-l-35"]=i(f,a=>a.lighten(35)),r["primary-color-deprecated-l-20"]=i(f,a=>a.lighten(20)),r["primary-color-deprecated-t-20"]=i(f,a=>a.tint(20)),r["primary-color-deprecated-t-50"]=i(f,a=>a.tint(50)),r["primary-color-deprecated-f-12"]=i(f,a=>a.setA(a.a*.12));const o=new He(s[0]);r["primary-color-active-deprecated-f-30"]=i(o,a=>a.setA(a.a*.3)),r["primary-color-active-deprecated-d-02"]=i(o,a=>a.darken(2))}return t.successColor&&n(t.successColor,"success"),t.warningColor&&n(t.warningColor,"warning"),t.errorColor&&n(t.errorColor,"error"),t.infoColor&&n(t.infoColor,"info"),`
  :root {
    ${Object.keys(r).map(f=>`--${e}-${f}: ${r[f]};`).join(`
`)}
  }
  `.trim()}function Gm(e,t){const r=qm(e,t);Xt()&&Sr(r,`${Um}-dynamic-theme`)}const wr=O.createContext(!1),Km=({children:e,disabled:t})=>{const r=O.useContext(wr);return O.createElement(wr.Provider,{value:t??r},e)},Gr=O.createContext(void 0),Xm=({children:e,size:t})=>{const r=O.useContext(Gr);return O.createElement(Gr.Provider,{value:t||r},e)};function Ym(){const e=O.useContext(wr),t=O.useContext(Gr);return{componentDisabled:e,componentSize:t}}var gh=it(function e(){rt(this,e)}),mh="CALC_UNIT",Jm=new RegExp(mh,"g");function Ds(e){return typeof e=="number"?"".concat(e).concat(mh):e}var Zm=function(e){ur(r,e);var t=hr(r);function r(i,n){var h;rt(this,r),h=t.call(this),q(me(h),"result",""),q(me(h),"unitlessCssVar",void 0),q(me(h),"lowPriority",void 0);var f=he(i);return h.unitlessCssVar=n,i instanceof r?h.result="(".concat(i.result,")"):f==="number"?h.result=Ds(i):f==="string"&&(h.result=i),h}return it(r,[{key:"add",value:function(n){return n instanceof r?this.result="".concat(this.result," + ").concat(n.getResult()):(typeof n=="number"||typeof n=="string")&&(this.result="".concat(this.result," + ").concat(Ds(n))),this.lowPriority=!0,this}},{key:"sub",value:function(n){return n instanceof r?this.result="".concat(this.result," - ").concat(n.getResult()):(typeof n=="number"||typeof n=="string")&&(this.result="".concat(this.result," - ").concat(Ds(n))),this.lowPriority=!0,this}},{key:"mul",value:function(n){return this.lowPriority&&(this.result="(".concat(this.result,")")),n instanceof r?this.result="".concat(this.result," * ").concat(n.getResult(!0)):(typeof n=="number"||typeof n=="string")&&(this.result="".concat(this.result," * ").concat(n)),this.lowPriority=!1,this}},{key:"div",value:function(n){return this.lowPriority&&(this.result="(".concat(this.result,")")),n instanceof r?this.result="".concat(this.result," / ").concat(n.getResult(!0)):(typeof n=="number"||typeof n=="string")&&(this.result="".concat(this.result," / ").concat(n)),this.lowPriority=!1,this}},{key:"getResult",value:function(n){return this.lowPriority||n?"(".concat(this.result,")"):this.result}},{key:"equal",value:function(n){var h=this,f=n||{},s=f.unit,o=!0;return typeof s=="boolean"?o=s:Array.from(this.unitlessCssVar).some(function(a){return h.result.includes(a)})&&(o=!1),this.result=this.result.replace(Jm,o?"px":""),typeof this.lowPriority<"u"?"calc(".concat(this.result,")"):this.result}}]),r}(gh),Qm=function(e){ur(r,e);var t=hr(r);function r(i){var n;return rt(this,r),n=t.call(this),q(me(n),"result",0),i instanceof r?n.result=i.result:typeof i=="number"&&(n.result=i),n}return it(r,[{key:"add",value:function(n){return n instanceof r?this.result+=n.result:typeof n=="number"&&(this.result+=n),this}},{key:"sub",value:function(n){return n instanceof r?this.result-=n.result:typeof n=="number"&&(this.result-=n),this}},{key:"mul",value:function(n){return n instanceof r?this.result*=n.result:typeof n=="number"&&(this.result*=n),this}},{key:"div",value:function(n){return n instanceof r?this.result/=n.result:typeof n=="number"&&(this.result/=n),this}},{key:"equal",value:function(){return this.result}}]),r}(gh),e_=function(t,r){var i=t==="css"?Zm:Qm;return function(n){return new i(n,r)}},Zc=function(t,r){return"".concat([r,t.replace(/([A-Z]+)([A-Z][a-z]+)/g,"$1-$2").replace(/([a-z])([A-Z])/g,"$1-$2")].filter(Boolean).join("-"))};function ar(e){var t=O.useRef();t.current=e;var r=O.useCallback(function(){for(var i,n=arguments.length,h=new Array(n),f=0;f<n;f++)h[f]=arguments[f];return(i=t.current)===null||i===void 0?void 0:i.call.apply(i,[t].concat(h))},[]);return r}function Oi(e){var t=O.useRef(!1),r=O.useState(e),i=ce(r,2),n=i[0],h=i[1];O.useEffect(function(){return t.current=!1,function(){t.current=!0}},[]);function f(s,o){o&&t.current||h(s)}return[n,f]}function $s(e){return e!==void 0}function Ra(e,t){var r=t||{},i=r.defaultValue,n=r.value,h=r.onChange,f=r.postState,s=Oi(function(){return $s(n)?n:$s(i)?typeof i=="function"?i():i:typeof e=="function"?e():e}),o=ce(s,2),a=o[0],d=o[1],u=n!==void 0?n:a,g=f?f(u):u,b=ar(h),S=Oi([u]),m=ce(S,2),c=m[0],p=m[1];Fc(function(){var v=c[0];a!==v&&b(a,v)},[c]),Fc(function(){$s(n)||d(n)},[n]);var l=ar(function(v,_){d(v,_),p([u],_)});return[g,l]}function Qc(e,t,r,i){var n=Y({},t[e]);if(i!=null&&i.deprecatedTokens){var h=i.deprecatedTokens;h.forEach(function(s){var o=ce(s,2),a=o[0],d=o[1];if(n!=null&&n[a]||n!=null&&n[d]){var u;(u=n[d])!==null&&u!==void 0||(n[d]=n?.[a])}})}var f=Y(Y({},r),n);return Object.keys(f).forEach(function(s){f[s]===t[s]&&delete f[s]}),f}var _h=typeof CSSINJS_STATISTIC<"u",Bo=!0;function Ct(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];if(!_h)return Object.assign.apply(Object,[{}].concat(t));Bo=!1;var i={};return t.forEach(function(n){if(he(n)==="object"){var h=Object.keys(n);h.forEach(function(f){Object.defineProperty(i,f,{configurable:!0,enumerable:!0,get:function(){return n[f]}})})}}),Bo=!0,i}var el={};function t_(){}var r_=function(t){var r,i=t,n=t_;return _h&&typeof Proxy<"u"&&(r=new Set,i=new Proxy(t,{get:function(f,s){if(Bo){var o;(o=r)===null||o===void 0||o.add(s)}return f[s]}}),n=function(f,s){var o;el[f]={global:Array.from(r),component:Y(Y({},(o=el[f])===null||o===void 0?void 0:o.component),s)}}),{token:i,keys:r,flush:n}};function tl(e,t,r){if(typeof r=="function"){var i;return r(Ct(t,(i=t[e])!==null&&i!==void 0?i:{}))}return r??{}}function i_(e){return e==="js"?{max:Math.max,min:Math.min}:{max:function(){for(var r=arguments.length,i=new Array(r),n=0;n<r;n++)i[n]=arguments[n];return"max(".concat(i.map(function(h){return Me(h)}).join(","),")")},min:function(){for(var r=arguments.length,i=new Array(r),n=0;n<r;n++)i[n]=arguments[n];return"min(".concat(i.map(function(h){return Me(h)}).join(","),")")}}}var n_=1e3*60*10,s_=function(){function e(){rt(this,e),q(this,"map",new Map),q(this,"objectIDMap",new WeakMap),q(this,"nextID",0),q(this,"lastAccessBeat",new Map),q(this,"accessBeat",0)}return it(e,[{key:"set",value:function(r,i){this.clear();var n=this.getCompositeKey(r);this.map.set(n,i),this.lastAccessBeat.set(n,Date.now())}},{key:"get",value:function(r){var i=this.getCompositeKey(r),n=this.map.get(i);return this.lastAccessBeat.set(i,Date.now()),this.accessBeat+=1,n}},{key:"getCompositeKey",value:function(r){var i=this,n=r.map(function(h){return h&&he(h)==="object"?"obj_".concat(i.getObjectID(h)):"".concat(he(h),"_").concat(h)});return n.join("|")}},{key:"getObjectID",value:function(r){if(this.objectIDMap.has(r))return this.objectIDMap.get(r);var i=this.nextID;return this.objectIDMap.set(r,i),this.nextID+=1,i}},{key:"clear",value:function(){var r=this;if(this.accessBeat>1e4){var i=Date.now();this.lastAccessBeat.forEach(function(n,h){i-n>n_&&(r.map.delete(h),r.lastAccessBeat.delete(h))}),this.accessBeat=0}}}]),e}(),rl=new s_;function o_(e,t){return ee.useMemo(function(){var r=rl.get(t);if(r)return r;var i=e();return rl.set(t,i),i},t)}var a_=function(){return{}};function c_(e){var t=e.useCSP,r=t===void 0?a_:t,i=e.useToken,n=e.usePrefix,h=e.getResetStyles,f=e.getCommonStyle,s=e.getCompUnitless;function o(g,b,S,m){var c=Array.isArray(g)?g[0]:g;function p(y){return"".concat(String(c)).concat(y.slice(0,1).toUpperCase()).concat(y.slice(1))}var l=m?.unitless||{},v=typeof s=="function"?s(g):{},_=Y(Y({},v),{},q({},p("zIndexPopup"),!0));Object.keys(l).forEach(function(y){_[p(y)]=l[y]});var w=Y(Y({},m),{},{unitless:_,prefixToken:p}),E=d(g,b,S,w),C=a(c,S,w);return function(y){var x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:y,R=E(y,x),M=ce(R,2),I=M[1],T=C(x),B=ce(T,2),$=B[0],F=B[1];return[$,I,F]}}function a(g,b,S){var m=S.unitless,c=S.injectStyle,p=c===void 0?!0:c,l=S.prefixToken,v=S.ignore,_=function(C){var y=C.rootCls,x=C.cssVar,R=x===void 0?{}:x,M=i(),I=M.realToken;return bm({path:[g],prefix:R.prefix,key:R.key,unitless:m,ignore:v,token:I,scope:y},function(){var T=tl(g,I,b),B=Qc(g,I,T,{deprecatedTokens:S?.deprecatedTokens});return Object.keys(T).forEach(function($){B[l($)]=B[$],delete B[$]}),B}),null},w=function(C){var y=i(),x=y.cssVar;return[function(R){return p&&x?ee.createElement(ee.Fragment,null,ee.createElement(_,{rootCls:C,cssVar:x,component:g}),R):R},x?.key]};return w}function d(g,b,S){var m=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},c=Array.isArray(g)?g:[g,g],p=ce(c,1),l=p[0],v=c.join("-"),_=e.layer||{name:"antd"};return function(w){var E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:w,C=i(),y=C.theme,x=C.realToken,R=C.hashId,M=C.token,I=C.cssVar,T=n(),B=T.rootPrefixCls,$=T.iconPrefixCls,F=r(),z=I?"css":"js",U=o_(function(){var j=new Set;return I&&Object.keys(m.unitless||{}).forEach(function(K){j.add(_n(K,I.prefix)),j.add(_n(K,Zc(l,I.prefix)))}),e_(z,j)},[z,l,I?.prefix]),A=i_(z),k=A.max,P=A.min,D={theme:y,token:M,hashId:R,nonce:function(){return F.nonce},clientOnly:m.clientOnly,layer:_,order:m.order||-999};typeof h=="function"&&So(Y(Y({},D),{},{clientOnly:!1,path:["Shared",B]}),function(){return h(M,{prefix:{rootPrefixCls:B,iconPrefixCls:$},csp:F})});var V=So(Y(Y({},D),{},{path:[v,w,$]}),function(){if(m.injectStyle===!1)return[];var j=r_(M),K=j.token,J=j.flush,H=tl(l,x,S),L=".".concat(w),W=Qc(l,x,H,{deprecatedTokens:m.deprecatedTokens});I&&H&&he(H)==="object"&&Object.keys(H).forEach(function(se){H[se]="var(".concat(_n(se,Zc(l,I.prefix)),")")});var G=Ct(K,{componentCls:L,prefixCls:w,iconCls:".".concat($),antCls:".".concat(B),calc:U,max:k,min:P},I?H:W),Z=b(G,{hashId:R,prefixCls:w,rootPrefixCls:B,iconPrefixCls:$});J(l,W);var Q=typeof f=="function"?f(G,w,E,m.resetFont):null;return[m.resetStyle===!1?null:Q,Z]});return[V,R]}}function u(g,b,S){var m=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},c=d(g,b,S,Y({resetStyle:!1,order:-998},m)),p=function(v){var _=v.prefixCls,w=v.rootCls,E=w===void 0?_:w;return c(_,E),null};return p}return{genStyleHooks:o,genSubStyleComponent:u,genComponentStyleHook:d}}const Oa=["blue","purple","cyan","green","magenta","pink","red","orange","yellow","volcano","geekblue","lime","gold"],l_="5.26.6";function Fs(e){return e>=0&&e<=255}function hi(e,t){const{r,g:i,b:n,a:h}=new He(e).toRgb();if(h<1)return e;const{r:f,g:s,b:o}=new He(t).toRgb();for(let a=.01;a<=1;a+=.01){const d=Math.round((r-f*(1-a))/a),u=Math.round((i-s*(1-a))/a),g=Math.round((n-o*(1-a))/a);if(Fs(d)&&Fs(u)&&Fs(g))return new He({r:d,g:u,b:g,a:Math.round(a*100)/100}).toRgbString()}return new He({r,g:i,b:n,a:1}).toRgbString()}var u_=function(e,t){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(r[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,i=Object.getOwnPropertySymbols(e);n<i.length;n++)t.indexOf(i[n])<0&&Object.prototype.propertyIsEnumerable.call(e,i[n])&&(r[i[n]]=e[i[n]]);return r};function bh(e){const{override:t}=e,r=u_(e,["override"]),i=Object.assign({},t);Object.keys(xi).forEach(g=>{delete i[g]});const n=Object.assign(Object.assign({},r),i),h=480,f=576,s=768,o=992,a=1200,d=1600;return n.motion===!1&&(n.motionDurationFast="0s",n.motionDurationMid="0s",n.motionDurationSlow="0s"),Object.assign(Object.assign(Object.assign({},n),{colorFillContent:n.colorFillSecondary,colorFillContentHover:n.colorFill,colorFillAlter:n.colorFillQuaternary,colorBgContainerDisabled:n.colorFillTertiary,colorBorderBg:n.colorBgContainer,colorSplit:hi(n.colorBorderSecondary,n.colorBgContainer),colorTextPlaceholder:n.colorTextQuaternary,colorTextDisabled:n.colorTextQuaternary,colorTextHeading:n.colorText,colorTextLabel:n.colorTextSecondary,colorTextDescription:n.colorTextTertiary,colorTextLightSolid:n.colorWhite,colorHighlight:n.colorError,colorBgTextHover:n.colorFillSecondary,colorBgTextActive:n.colorFill,colorIcon:n.colorTextTertiary,colorIconHover:n.colorText,colorErrorOutline:hi(n.colorErrorBg,n.colorBgContainer),colorWarningOutline:hi(n.colorWarningBg,n.colorBgContainer),fontSizeIcon:n.fontSizeSM,lineWidthFocus:n.lineWidth*3,lineWidth:n.lineWidth,controlOutlineWidth:n.lineWidth*2,controlInteractiveSize:n.controlHeight/2,controlItemBgHover:n.colorFillTertiary,controlItemBgActive:n.colorPrimaryBg,controlItemBgActiveHover:n.colorPrimaryBgHover,controlItemBgActiveDisabled:n.colorFill,controlTmpOutline:n.colorFillQuaternary,controlOutline:hi(n.colorPrimaryBg,n.colorBgContainer),lineType:n.lineType,borderRadius:n.borderRadius,borderRadiusXS:n.borderRadiusXS,borderRadiusSM:n.borderRadiusSM,borderRadiusLG:n.borderRadiusLG,fontWeightStrong:600,opacityLoading:.65,linkDecoration:"none",linkHoverDecoration:"none",linkFocusDecoration:"none",controlPaddingHorizontal:12,controlPaddingHorizontalSM:8,paddingXXS:n.sizeXXS,paddingXS:n.sizeXS,paddingSM:n.sizeSM,padding:n.size,paddingMD:n.sizeMD,paddingLG:n.sizeLG,paddingXL:n.sizeXL,paddingContentHorizontalLG:n.sizeLG,paddingContentVerticalLG:n.sizeMS,paddingContentHorizontal:n.sizeMS,paddingContentVertical:n.sizeSM,paddingContentHorizontalSM:n.size,paddingContentVerticalSM:n.sizeXS,marginXXS:n.sizeXXS,marginXS:n.sizeXS,marginSM:n.sizeSM,margin:n.size,marginMD:n.sizeMD,marginLG:n.sizeLG,marginXL:n.sizeXL,marginXXL:n.sizeXXL,boxShadow:`
      0 6px 16px 0 rgba(0, 0, 0, 0.08),
      0 3px 6px -4px rgba(0, 0, 0, 0.12),
      0 9px 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowSecondary:`
      0 6px 16px 0 rgba(0, 0, 0, 0.08),
      0 3px 6px -4px rgba(0, 0, 0, 0.12),
      0 9px 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowTertiary:`
      0 1px 2px 0 rgba(0, 0, 0, 0.03),
      0 1px 6px -1px rgba(0, 0, 0, 0.02),
      0 2px 4px 0 rgba(0, 0, 0, 0.02)
    `,screenXS:h,screenXSMin:h,screenXSMax:f-1,screenSM:f,screenSMMin:f,screenSMMax:s-1,screenMD:s,screenMDMin:s,screenMDMax:o-1,screenLG:o,screenLGMin:o,screenLGMax:a-1,screenXL:a,screenXLMin:a,screenXLMax:d-1,screenXXL:d,screenXXLMin:d,boxShadowPopoverArrow:"2px 2px 5px rgba(0, 0, 0, 0.05)",boxShadowCard:`
      0 1px 2px -2px ${new He("rgba(0, 0, 0, 0.16)").toRgbString()},
      0 3px 6px 0 ${new He("rgba(0, 0, 0, 0.12)").toRgbString()},
      0 5px 12px 4px ${new He("rgba(0, 0, 0, 0.09)").toRgbString()}
    `,boxShadowDrawerRight:`
      -6px 0 16px 0 rgba(0, 0, 0, 0.08),
      -3px 0 6px -4px rgba(0, 0, 0, 0.12),
      -9px 0 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowDrawerLeft:`
      6px 0 16px 0 rgba(0, 0, 0, 0.08),
      3px 0 6px -4px rgba(0, 0, 0, 0.12),
      9px 0 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowDrawerUp:`
      0 6px 16px 0 rgba(0, 0, 0, 0.08),
      0 3px 6px -4px rgba(0, 0, 0, 0.12),
      0 9px 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowDrawerDown:`
      0 -6px 16px 0 rgba(0, 0, 0, 0.08),
      0 -3px 6px -4px rgba(0, 0, 0, 0.12),
      0 -9px 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowTabsOverflowLeft:"inset 10px 0 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowRight:"inset -10px 0 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowTop:"inset 0 10px 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowBottom:"inset 0 -10px 8px -8px rgba(0, 0, 0, 0.08)"}),i)}var il=function(e,t){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(r[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,i=Object.getOwnPropertySymbols(e);n<i.length;n++)t.indexOf(i[n])<0&&Object.prototype.propertyIsEnumerable.call(e,i[n])&&(r[i[n]]=e[i[n]]);return r};const yh={lineHeight:!0,lineHeightSM:!0,lineHeightLG:!0,lineHeightHeading1:!0,lineHeightHeading2:!0,lineHeightHeading3:!0,lineHeightHeading4:!0,lineHeightHeading5:!0,opacityLoading:!0,fontWeightStrong:!0,zIndexPopupBase:!0,zIndexBase:!0,opacityImage:!0},h_={size:!0,sizeSM:!0,sizeLG:!0,sizeMD:!0,sizeXS:!0,sizeXXS:!0,sizeMS:!0,sizeXL:!0,sizeXXL:!0,sizeUnit:!0,sizeStep:!0,motionBase:!0,motionUnit:!0},d_={screenXS:!0,screenXSMin:!0,screenXSMax:!0,screenSM:!0,screenSMMin:!0,screenSMMax:!0,screenMD:!0,screenMDMin:!0,screenMDMax:!0,screenLG:!0,screenLGMin:!0,screenLGMax:!0,screenXL:!0,screenXLMin:!0,screenXLMax:!0,screenXXL:!0,screenXXLMin:!0},Sh=(e,t,r)=>{const i=r.getDerivativeToken(e),{override:n}=t,h=il(t,["override"]);let f=Object.assign(Object.assign({},i),{override:n});return f=bh(f),h&&Object.entries(h).forEach(([s,o])=>{const{theme:a}=o,d=il(o,["theme"]);let u=d;a&&(u=Sh(Object.assign(Object.assign({},f),d),{override:d},a)),f[s]=u}),f};function xr(){const{token:e,hashed:t,theme:r,override:i,cssVar:n}=ee.useContext(vh),h=`${l_}-${t||""}`,f=r||ph,[s,o,a]=Ug(f,[xi,e],{salt:h,override:i,getComputedToken:Sh,formatToken:bh,cssVar:n&&{prefix:n.prefix,key:n.key,unitless:yh,ignore:h_,preserve:d_}});return[f,a,t?o:"",s,n]}const Ch=(e,t=!1)=>({boxSizing:"border-box",margin:0,padding:0,color:e.colorText,fontSize:e.fontSize,lineHeight:e.lineHeight,listStyle:"none",fontFamily:t?"inherit":e.fontFamily}),wh=()=>({display:"inline-flex",alignItems:"center",color:"inherit",fontStyle:"normal",lineHeight:0,textAlign:"center",textTransform:"none",verticalAlign:"-0.125em",textRendering:"optimizeLegibility","-webkit-font-smoothing":"antialiased","-moz-osx-font-smoothing":"grayscale","> *":{lineHeight:1},svg:{display:"inline-block"}}),f_=()=>({"&::before":{display:"table",content:'""'},"&::after":{display:"table",clear:"both",content:'""'}}),p_=e=>({a:{color:e.colorLink,textDecoration:e.linkDecoration,backgroundColor:"transparent",outline:"none",cursor:"pointer",transition:`color ${e.motionDurationSlow}`,"-webkit-text-decoration-skip":"objects","&:hover":{color:e.colorLinkHover},"&:active":{color:e.colorLinkActive},"&:active, &:hover":{textDecoration:e.linkHoverDecoration,outline:0},"&:focus":{textDecoration:e.linkFocusDecoration,outline:0},"&[disabled]":{color:e.colorTextDisabled,cursor:"not-allowed"}}}),v_=(e,t,r,i)=>{const n=`[class^="${t}"], [class*=" ${t}"]`,h=r?`.${r}`:n,f={boxSizing:"border-box","&::before, &::after":{boxSizing:"border-box"}};let s={};return i!==!1&&(s={fontFamily:e.fontFamily,fontSize:e.fontSize}),{[h]:Object.assign(Object.assign(Object.assign({},s),f),{[n]:f})}},g_=(e,t)=>({outline:`${Me(e.lineWidthFocus)} solid ${e.colorPrimaryBorder}`,outlineOffset:t??1,transition:"outline-offset 0s, outline 0s"}),m_=(e,t)=>({"&:focus-visible":Object.assign({},g_(e,t))}),Eh=e=>({[`.${e}`]:Object.assign(Object.assign({},wh()),{[`.${e} .${e}-icon`]:{display:"block"}})}),{genStyleHooks:Rr,genComponentStyleHook:__,genSubStyleComponent:b_}=c_({usePrefix:()=>{const{getPrefixCls:e,iconPrefixCls:t}=O.useContext(tt);return{rootPrefixCls:e(),iconPrefixCls:t}},useToken:()=>{const[e,t,r,i,n]=xr();return{theme:e,realToken:t,hashId:r,token:i,cssVar:n}},useCSP:()=>{const{csp:e}=O.useContext(tt);return e??{}},getResetStyles:(e,t)=>{var r;const i=p_(e);return[i,{"&":i},Eh((r=t?.prefix.iconPrefixCls)!==null&&r!==void 0?r:Ea)]},getCommonStyle:v_,getCompUnitless:()=>yh}),y_=(e,t)=>{const[r,i]=xr();return So({token:i,hashId:"",path:["ant-design-icons",e],nonce:()=>t?.nonce,layer:{name:"antd"}},()=>[Eh(e)])},S_=Object.assign({},ia),{useId:nl}=S_,C_=()=>"",w_=typeof nl>"u"?C_:nl;function E_(e,t,r){var i;const n=e||{},h=n.inherit===!1||!t?Object.assign(Object.assign({},ko),{hashed:(i=t?.hashed)!==null&&i!==void 0?i:ko.hashed,cssVar:t?.cssVar}):t,f=w_();return da(()=>{var s,o;if(!e)return t;const a=Object.assign({},h.components);Object.keys(e.components||{}).forEach(g=>{a[g]=Object.assign(Object.assign({},a[g]),e.components[g])});const d=`css-var-${f.replace(/:/g,"")}`,u=((s=n.cssVar)!==null&&s!==void 0?s:h.cssVar)&&Object.assign(Object.assign(Object.assign({prefix:r?.prefixCls},typeof h.cssVar=="object"?h.cssVar:{}),typeof n.cssVar=="object"?n.cssVar:{}),{key:typeof n.cssVar=="object"&&((o=n.cssVar)===null||o===void 0?void 0:o.key)||d});return Object.assign(Object.assign(Object.assign({},h),n),{token:Object.assign(Object.assign({},h.token),n.token),components:a,cssVar:u})},[n,h],(s,o)=>s.some((a,d)=>{const u=o[d];return!vo(a,u,!0)}))}var x_=["children"],xh=O.createContext({});function R_(e){var t=e.children,r=ht(e,x_);return O.createElement(xh.Provider,{value:r},t)}var O_=function(e){ur(r,e);var t=hr(r);function r(){return rt(this,r),t.apply(this,arguments)}return it(r,[{key:"render",value:function(){return this.props.children}}]),r}(O.Component);function A_(e){var t=O.useReducer(function(s){return s+1},0),r=ce(t,2),i=r[1],n=O.useRef(e),h=ar(function(){return n.current}),f=ar(function(s){n.current=typeof s=="function"?s(n.current):s,i()});return[h,f]}var er="none",an="appear",cn="enter",ln="leave",sl="none",Dt="prepare",Hr="start",jr="active",Aa="end",Rh="prepared";function ol(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit".concat(e)]="webkit".concat(t),r["Moz".concat(e)]="moz".concat(t),r["ms".concat(e)]="MS".concat(t),r["O".concat(e)]="o".concat(t.toLowerCase()),r}function T_(e,t){var r={animationend:ol("Animation","AnimationEnd"),transitionend:ol("Transition","TransitionEnd")};return e&&("AnimationEvent"in t||delete r.animationend.animation,"TransitionEvent"in t||delete r.transitionend.transition),r}var L_=T_(Xt(),typeof window<"u"?window:{}),Oh={};if(Xt()){var M_=document.createElement("div");Oh=M_.style}var un={};function Ah(e){if(un[e])return un[e];var t=L_[e];if(t)for(var r=Object.keys(t),i=r.length,n=0;n<i;n+=1){var h=r[n];if(Object.prototype.hasOwnProperty.call(t,h)&&h in Oh)return un[e]=t[h],un[e]}return""}var Th=Ah("animationend"),Lh=Ah("transitionend"),Mh=!!(Th&&Lh),al=Th||"animationend",cl=Lh||"transitionend";function ll(e,t){if(!e)return null;if(he(e)==="object"){var r=t.replace(/-\w/g,function(i){return i[1].toUpperCase()});return e[r]}return"".concat(e,"-").concat(t)}const I_=function(e){var t=O.useRef();function r(n){n&&(n.removeEventListener(cl,e),n.removeEventListener(al,e))}function i(n){t.current&&t.current!==n&&r(t.current),n&&n!==t.current&&(n.addEventListener(cl,e),n.addEventListener(al,e),t.current=n)}return O.useEffect(function(){return function(){r(t.current)}},[]),[i,r]};var Ih=Xt()?O.useLayoutEffect:O.useEffect;const P_=function(){var e=O.useRef(null);function t(){Wt.cancel(e.current)}function r(i){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2;t();var h=Wt(function(){n<=1?i({isCanceled:function(){return h!==e.current}}):r(i,n-1)});e.current=h}return O.useEffect(function(){return function(){t()}},[]),[r,t]};var k_=[Dt,Hr,jr,Aa],B_=[Dt,Rh],Ph=!1,D_=!0;function kh(e){return e===jr||e===Aa}const $_=function(e,t,r){var i=Oi(sl),n=ce(i,2),h=n[0],f=n[1],s=P_(),o=ce(s,2),a=o[0],d=o[1];function u(){f(Dt,!0)}var g=t?B_:k_;return Ih(function(){if(h!==sl&&h!==Aa){var b=g.indexOf(h),S=g[b+1],m=r(h);m===Ph?f(S,!0):S&&a(function(c){function p(){c.isCanceled()||f(S,!0)}m===!0?p():Promise.resolve(m).then(p)})}},[e,h]),O.useEffect(function(){return function(){d()}},[]),[u,h]};function F_(e,t,r,i){var n=i.motionEnter,h=n===void 0?!0:n,f=i.motionAppear,s=f===void 0?!0:f,o=i.motionLeave,a=o===void 0?!0:o,d=i.motionDeadline,u=i.motionLeaveImmediately,g=i.onAppearPrepare,b=i.onEnterPrepare,S=i.onLeavePrepare,m=i.onAppearStart,c=i.onEnterStart,p=i.onLeaveStart,l=i.onAppearActive,v=i.onEnterActive,_=i.onLeaveActive,w=i.onAppearEnd,E=i.onEnterEnd,C=i.onLeaveEnd,y=i.onVisibleChanged,x=Oi(),R=ce(x,2),M=R[0],I=R[1],T=A_(er),B=ce(T,2),$=B[0],F=B[1],z=Oi(null),U=ce(z,2),A=U[0],k=U[1],P=$(),D=O.useRef(!1),V=O.useRef(null);function j(){return r()}var K=O.useRef(!1);function J(){F(er),k(null,!0)}var H=ar(function(Ee){var Se=$();if(Se!==er){var ae=j();if(!(Ee&&!Ee.deadline&&Ee.target!==ae)){var le=K.current,ve;Se===an&&le?ve=w?.(ae,Ee):Se===cn&&le?ve=E?.(ae,Ee):Se===ln&&le&&(ve=C?.(ae,Ee)),le&&ve!==!1&&J()}}}),L=I_(H),W=ce(L,1),G=W[0],Z=function(Se){switch(Se){case an:return q(q(q({},Dt,g),Hr,m),jr,l);case cn:return q(q(q({},Dt,b),Hr,c),jr,v);case ln:return q(q(q({},Dt,S),Hr,p),jr,_);default:return{}}},Q=O.useMemo(function(){return Z(P)},[P]),se=$_(P,!e,function(Ee){if(Ee===Dt){var Se=Q[Dt];return Se?Se(j()):Ph}if(oe in Q){var ae;k(((ae=Q[oe])===null||ae===void 0?void 0:ae.call(Q,j(),null))||null)}return oe===jr&&P!==er&&(G(j()),d>0&&(clearTimeout(V.current),V.current=setTimeout(function(){H({deadline:!0})},d))),oe===Rh&&J(),D_}),fe=ce(se,2),de=fe[0],oe=fe[1],re=kh(oe);K.current=re;var _e=O.useRef(null);Ih(function(){if(!(D.current&&_e.current===t)){I(t);var Ee=D.current;D.current=!0;var Se;!Ee&&t&&s&&(Se=an),Ee&&t&&h&&(Se=cn),(Ee&&!t&&a||!Ee&&u&&!t&&a)&&(Se=ln);var ae=Z(Se);Se&&(e||ae[Dt])?(F(Se),de()):F(er),_e.current=t}},[t]),O.useEffect(function(){(P===an&&!s||P===cn&&!h||P===ln&&!a)&&F(er)},[s,h,a]),O.useEffect(function(){return function(){D.current=!1,clearTimeout(V.current)}},[]);var xe=O.useRef(!1);O.useEffect(function(){M&&(xe.current=!0),M!==void 0&&P===er&&((xe.current||M)&&y?.(M),xe.current=!0)},[M,P]);var Ge=A;return Q[Dt]&&oe===Hr&&(Ge=Y({transition:"none"},Ge)),[P,oe,Ge,M??t]}function H_(e){var t=e;he(e)==="object"&&(t=e.transitionSupport);function r(n,h){return!!(n.motionName&&t&&h!==!1)}var i=O.forwardRef(function(n,h){var f=n.visible,s=f===void 0?!0:f,o=n.removeOnLeave,a=o===void 0?!0:o,d=n.forceRender,u=n.children,g=n.motionName,b=n.leavedClassName,S=n.eventProps,m=O.useContext(xh),c=m.motion,p=r(n,c),l=O.useRef(),v=O.useRef();function _(){try{return l.current instanceof HTMLElement?l.current:mn(v.current)}catch{return null}}var w=F_(p,s,_,n),E=ce(w,4),C=E[0],y=E[1],x=E[2],R=E[3],M=O.useRef(R);R&&(M.current=!0);var I=O.useCallback(function(U){l.current=U,Au(h,U)},[h]),T,B=Y(Y({},S),{},{visible:s});if(!u)T=null;else if(C===er)R?T=u(Y({},B),I):!a&&M.current&&b?T=u(Y(Y({},B),{},{className:b}),I):d||!a&&!b?T=u(Y(Y({},B),{},{style:{display:"none"}}),I):T=null;else{var $;y===Dt?$="prepare":kh(y)?$="active":y===Hr&&($="start");var F=ll(g,"".concat(C,"-").concat($));T=u(Y(Y({},B),{},{className:pe(ll(g,C),q(q({},F,F&&$),g,typeof g=="string")),style:x}),I)}if(O.isValidElement(T)&&fa(T)){var z=pa(T);z||(T=O.cloneElement(T,{ref:I}))}return O.createElement(O_,{ref:v},T)});return i.displayName="CSSMotion",i}const Ta=H_(Mh);var Do="add",$o="keep",Fo="remove",Hs="removed";function j_(e){var t;return e&&he(e)==="object"&&"key"in e?t=e:t={key:e},Y(Y({},t),{},{key:String(t.key)})}function Ho(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return e.map(j_)}function z_(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=[],i=0,n=t.length,h=Ho(e),f=Ho(t);h.forEach(function(a){for(var d=!1,u=i;u<n;u+=1){var g=f[u];if(g.key===a.key){i<u&&(r=r.concat(f.slice(i,u).map(function(b){return Y(Y({},b),{},{status:Do})})),i=u),r.push(Y(Y({},g),{},{status:$o})),i+=1,d=!0;break}}d||r.push(Y(Y({},a),{},{status:Fo}))}),i<n&&(r=r.concat(f.slice(i).map(function(a){return Y(Y({},a),{},{status:Do})})));var s={};r.forEach(function(a){var d=a.key;s[d]=(s[d]||0)+1});var o=Object.keys(s).filter(function(a){return s[a]>1});return o.forEach(function(a){r=r.filter(function(d){var u=d.key,g=d.status;return u!==a||g!==Fo}),r.forEach(function(d){d.key===a&&(d.status=$o)})}),r}var N_=["component","children","onVisibleChanged","onAllRemoved"],V_=["status"],W_=["eventProps","visible","children","motionName","motionAppear","motionEnter","motionLeave","motionLeaveImmediately","motionDeadline","removeOnLeave","leavedClassName","onAppearPrepare","onAppearStart","onAppearActive","onAppearEnd","onEnterStart","onEnterActive","onEnterEnd","onLeaveStart","onLeaveActive","onLeaveEnd"];function U_(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ta,r=function(i){ur(h,i);var n=hr(h);function h(){var f;rt(this,h);for(var s=arguments.length,o=new Array(s),a=0;a<s;a++)o[a]=arguments[a];return f=n.call.apply(n,[this].concat(o)),q(me(f),"state",{keyEntities:[]}),q(me(f),"removeKey",function(d){f.setState(function(u){var g=u.keyEntities.map(function(b){return b.key!==d?b:Y(Y({},b),{},{status:Hs})});return{keyEntities:g}},function(){var u=f.state.keyEntities,g=u.filter(function(b){var S=b.status;return S!==Hs}).length;g===0&&f.props.onAllRemoved&&f.props.onAllRemoved()})}),f}return it(h,[{key:"render",value:function(){var s=this,o=this.state.keyEntities,a=this.props,d=a.component,u=a.children,g=a.onVisibleChanged;a.onAllRemoved;var b=ht(a,N_),S=d||O.Fragment,m={};return W_.forEach(function(c){m[c]=b[c],delete b[c]}),delete b.keys,O.createElement(S,b,o.map(function(c,p){var l=c.status,v=ht(c,V_),_=l===Do||l===$o;return O.createElement(t,et({},m,{key:v.key,visible:_,eventProps:v,onVisibleChanged:function(E){g?.(E,{key:v.key}),E||s.removeKey(v.key)}}),function(w,E){return u(Y(Y({},w),{},{index:p}),E)})}))}}],[{key:"getDerivedStateFromProps",value:function(s,o){var a=s.keys,d=o.keyEntities,u=Ho(a),g=z_(d,u);return{keyEntities:g.filter(function(b){var S=d.find(function(m){var c=m.key;return b.key===c});return!(S&&S.status===Hs&&b.status===Fo)})}}}]),h}(O.Component);return q(r,"defaultProps",{component:"div"}),r}U_(Mh);const ul=O.createContext(!0);function q_(e){const t=O.useContext(ul),{children:r}=e,[,i]=xr(),{motion:n}=i,h=O.useRef(!1);return h.current||(h.current=t!==n),h.current?O.createElement(ul.Provider,{value:n},O.createElement(R_,{motion:n},r)):r}const G_=()=>null;var K_=function(e,t){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(r[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,i=Object.getOwnPropertySymbols(e);n<i.length;n++)t.indexOf(i[n])<0&&Object.prototype.propertyIsEnumerable.call(e,i[n])&&(r[i[n]]=e[i[n]]);return r};const X_=["getTargetContainer","getPopupContainer","renderEmpty","input","pagination","form","select","button"];let Bh;function Y_(){return Bh||In}function J_(e){return Object.keys(e).some(t=>t.endsWith("Color"))}const Z_=e=>{const{prefixCls:t,iconPrefixCls:r,theme:i,holderRender:n}=e;t!==void 0&&(Bh=t),i&&J_(i)&&Gm(Y_(),i)},Q_=e=>{const{children:t,csp:r,autoInsertSpaceInButton:i,alert:n,anchor:h,form:f,locale:s,componentSize:o,direction:a,space:d,splitter:u,virtual:g,dropdownMatchSelectWidth:b,popupMatchSelectWidth:S,popupOverflow:m,legacyLocale:c,parentContext:p,iconPrefixCls:l,theme:v,componentDisabled:_,segmented:w,statistic:E,spin:C,calendar:y,carousel:x,cascader:R,collapse:M,typography:I,checkbox:T,descriptions:B,divider:$,drawer:F,skeleton:z,steps:U,image:A,layout:k,list:P,mentions:D,modal:V,progress:j,result:K,slider:J,breadcrumb:H,menu:L,pagination:W,input:G,textArea:Z,empty:Q,badge:se,radio:fe,rate:de,switch:oe,transfer:re,avatar:_e,message:xe,tag:Ge,table:Ee,card:Se,tabs:ae,timeline:le,timePicker:ve,upload:De,notification:Ze,tree:Pe,colorPicker:Ke,datePicker:ze,rangePicker:lt,flex:we,wave:Oe,dropdown:ge,warning:$e,tour:Re,tooltip:nt,popover:ut,popconfirm:ns,floatButtonGroup:Ar,variant:fr,inputNumber:ji,treeSelect:zi}=e,Ni=O.useCallback((Fe,Ne)=>{const{prefixCls:ft}=e;if(Ne)return Ne;const pt=ft||p.getPrefixCls("");return Fe?`${pt}-${Fe}`:pt},[p.getPrefixCls,e.prefixCls]),Tr=l||p.iconPrefixCls||Ea,pr=r||p.csp;y_(Tr,pr);const Lr=E_(v,p.theme,{prefixCls:Ni("")}),Yt={csp:pr,autoInsertSpaceInButton:i,alert:n,anchor:h,locale:s||c,direction:a,space:d,splitter:u,virtual:g,popupMatchSelectWidth:S??b,popupOverflow:m,getPrefixCls:Ni,iconPrefixCls:Tr,theme:Lr,segmented:w,statistic:E,spin:C,calendar:y,carousel:x,cascader:R,collapse:M,typography:I,checkbox:T,descriptions:B,divider:$,drawer:F,skeleton:z,steps:U,image:A,input:G,textArea:Z,layout:k,list:P,mentions:D,modal:V,progress:j,result:K,slider:J,breadcrumb:H,menu:L,pagination:W,empty:Q,badge:se,radio:fe,rate:de,switch:oe,transfer:re,avatar:_e,message:xe,tag:Ge,table:Ee,card:Se,tabs:ae,timeline:le,timePicker:ve,upload:De,notification:Ze,tree:Pe,colorPicker:Ke,datePicker:ze,rangePicker:lt,flex:we,wave:Oe,dropdown:ge,warning:$e,tour:Re,tooltip:nt,popover:ut,popconfirm:ns,floatButtonGroup:Ar,variant:fr,inputNumber:ji,treeSelect:zi},dt=Object.assign({},p);Object.keys(Yt).forEach(Fe=>{Yt[Fe]!==void 0&&(dt[Fe]=Yt[Fe])}),X_.forEach(Fe=>{const Ne=e[Fe];Ne&&(dt[Fe]=Ne)}),typeof i<"u"&&(dt.button=Object.assign({autoInsertSpace:i},dt.button));const Jt=da(()=>dt,dt,(Fe,Ne)=>{const ft=Object.keys(Fe),pt=Object.keys(Ne);return ft.length!==pt.length||ft.some(vr=>Fe[vr]!==Ne[vr])}),{layer:Mt}=O.useContext(ki),ss=O.useMemo(()=>({prefixCls:Tr,csp:pr,layer:Mt?"antd":void 0}),[Tr,pr,Mt]);let ke=O.createElement(O.Fragment,null,O.createElement(G_,{dropdownMatchSelectWidth:b}),t);const ei=O.useMemo(()=>{var Fe,Ne,ft,pt;return Fr(((Fe=qn.Form)===null||Fe===void 0?void 0:Fe.defaultValidateMessages)||{},((ft=(Ne=Jt.locale)===null||Ne===void 0?void 0:Ne.Form)===null||ft===void 0?void 0:ft.defaultValidateMessages)||{},((pt=Jt.form)===null||pt===void 0?void 0:pt.validateMessages)||{},f?.validateMessages||{})},[Jt,f?.validateMessages]);Object.keys(ei).length>0&&(ke=O.createElement(xm.Provider,{value:ei},ke)),s&&(ke=O.createElement(Am,{locale:s,_ANT_MARK__:Om},ke)),ke=O.createElement(wa.Provider,{value:ss},ke),o&&(ke=O.createElement(Xm,{size:o},ke)),ke=O.createElement(q_,null,ke);const os=O.useMemo(()=>{const Fe=Lr||{},{algorithm:Ne,token:ft,components:pt,cssVar:vr}=Fe,gr=K_(Fe,["algorithm","token","components","cssVar"]),ti=Ne&&(!Array.isArray(Ne)||Ne.length>0)?mo(Ne):ph,ri={};Object.entries(pt||{}).forEach(([X,ie])=>{const ne=Object.assign({},ie);"algorithm"in ne&&(ne.algorithm===!0?ne.theme=ti:(Array.isArray(ne.algorithm)||typeof ne.algorithm=="function")&&(ne.theme=mo(ne.algorithm)),delete ne.algorithm),ri[X]=ne});const N=Object.assign(Object.assign({},xi),ft);return Object.assign(Object.assign({},gr),{theme:ti,token:N,components:ri,override:Object.assign({override:N},ri),cssVar:vr})},[Lr]);return v&&(ke=O.createElement(vh.Provider,{value:os},ke)),Jt.warning&&(ke=O.createElement(Em.Provider,{value:Jt.warning},ke)),_!==void 0&&(ke=O.createElement(Km,{disabled:_},ke)),O.createElement(tt.Provider,{value:Jt},ke)},Bi=e=>{const t=O.useContext(tt),r=O.useContext(uh);return O.createElement(Q_,Object.assign({parentContext:t,legacyLocale:r},e))};Bi.ConfigContext=tt;Bi.SizeContext=Gr;Bi.config=Z_;Bi.useConfig=Ym;Object.defineProperty(Bi,"SizeContext",{get:()=>Gr});function Dh(e){var t;return e==null||(t=e.getRootNode)===null||t===void 0?void 0:t.call(e)}function e0(e){return Dh(e)instanceof ShadowRoot}function t0(e){return e0(e)?Dh(e):null}function r0(e){return e.replace(/-(.)/g,function(t,r){return r.toUpperCase()})}function i0(e,t){St(e,"[@ant-design/icons] ".concat(t))}function hl(e){return he(e)==="object"&&typeof e.name=="string"&&typeof e.theme=="string"&&(he(e.icon)==="object"||typeof e.icon=="function")}function dl(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Object.keys(e).reduce(function(t,r){var i=e[r];switch(r){case"class":t.className=i,delete t.class;break;default:delete t[r],t[r0(r)]=i}return t},{})}function jo(e,t,r){return r?ee.createElement(e.tag,Y(Y({key:t},dl(e.attrs)),r),(e.children||[]).map(function(i,n){return jo(i,"".concat(t,"-").concat(e.tag,"-").concat(n))})):ee.createElement(e.tag,Y({key:t},dl(e.attrs)),(e.children||[]).map(function(i,n){return jo(i,"".concat(t,"-").concat(e.tag,"-").concat(n))}))}function $h(e){return Ri(e)[0]}function Fh(e){return e?Array.isArray(e)?e:[e]:[]}var n0=`
.anticon {
  display: inline-flex;
  align-items: center;
  color: inherit;
  font-style: normal;
  line-height: 0;
  text-align: center;
  text-transform: none;
  vertical-align: -0.125em;
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

.anticon > * {
  line-height: 1;
}

.anticon svg {
  display: inline-block;
}

.anticon::before {
  display: none;
}

.anticon .anticon-icon {
  display: block;
}

.anticon[tabindex] {
  cursor: pointer;
}

.anticon-spin::before,
.anticon-spin {
  display: inline-block;
  -webkit-animation: loadingCircle 1s infinite linear;
  animation: loadingCircle 1s infinite linear;
}

@-webkit-keyframes loadingCircle {
  100% {
    -webkit-transform: rotate(360deg);
    transform: rotate(360deg);
  }
}

@keyframes loadingCircle {
  100% {
    -webkit-transform: rotate(360deg);
    transform: rotate(360deg);
  }
}
`,s0=function(t){var r=O.useContext(wa),i=r.csp,n=r.prefixCls,h=r.layer,f=n0;n&&(f=f.replace(/anticon/g,n)),h&&(f="@layer ".concat(h,` {
`).concat(f,`
}`)),O.useEffect(function(){var s=t.current,o=t0(s);Sr(f,"@ant-design-icons",{prepend:!h,csp:i,attachTo:o})},[])},o0=["icon","className","onClick","style","primaryColor","secondaryColor"],gi={primaryColor:"#333",secondaryColor:"#E6E6E6",calculated:!1};function a0(e){var t=e.primaryColor,r=e.secondaryColor;gi.primaryColor=t,gi.secondaryColor=r||$h(t),gi.calculated=!!r}function c0(){return Y({},gi)}var Zr=function(t){var r=t.icon,i=t.className,n=t.onClick,h=t.style,f=t.primaryColor,s=t.secondaryColor,o=ht(t,o0),a=O.useRef(),d=gi;if(f&&(d={primaryColor:f,secondaryColor:s||$h(f)}),s0(a),i0(hl(r),"icon should be icon definiton, but got ".concat(r)),!hl(r))return null;var u=r;return u&&typeof u.icon=="function"&&(u=Y(Y({},u),{},{icon:u.icon(d.primaryColor,d.secondaryColor)})),jo(u.icon,"svg-".concat(u.name),Y(Y({className:i,onClick:n,style:h,"data-icon":u.name,width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"},o),{},{ref:a}))};Zr.displayName="IconReact";Zr.getTwoToneColors=c0;Zr.setTwoToneColors=a0;function Hh(e){var t=Fh(e),r=ce(t,2),i=r[0],n=r[1];return Zr.setTwoToneColors({primaryColor:i,secondaryColor:n})}function l0(){var e=Zr.getTwoToneColors();return e.calculated?[e.primaryColor,e.secondaryColor]:e.primaryColor}var u0=["className","icon","spin","rotate","tabIndex","onClick","twoToneColor"];Hh(Mn.primary);var dr=O.forwardRef(function(e,t){var r=e.className,i=e.icon,n=e.spin,h=e.rotate,f=e.tabIndex,s=e.onClick,o=e.twoToneColor,a=ht(e,u0),d=O.useContext(wa),u=d.prefixCls,g=u===void 0?"anticon":u,b=d.rootClassName,S=pe(b,g,q(q({},"".concat(g,"-").concat(i.name),!!i.name),"".concat(g,"-spin"),!!n||i.name==="loading"),r),m=f;m===void 0&&s&&(m=-1);var c=h?{msTransform:"rotate(".concat(h,"deg)"),transform:"rotate(".concat(h,"deg)")}:void 0,p=Fh(o),l=ce(p,2),v=l[0],_=l[1];return O.createElement("span",et({role:"img","aria-label":i.name},a,{ref:t,tabIndex:m,onClick:s,className:S}),O.createElement(Zr,{icon:i,primaryColor:v,secondaryColor:_,style:c}))});dr.displayName="AntdIcon";dr.getTwoToneColor=l0;dr.setTwoToneColor=Hh;var h0={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64c247.4 0 448 200.6 448 448S759.4 960 512 960 64 759.4 64 512 264.6 64 512 64zm127.98 274.82h-.04l-.08.06L512 466.75 384.14 338.88c-.04-.05-.06-.06-.08-.06a.12.12 0 00-.07 0c-.03 0-.05.01-.09.05l-45.02 45.02a.2.2 0 00-.05.09.12.12 0 000 .07v.02a.27.27 0 00.06.06L466.75 512 338.88 639.86c-.05.04-.06.06-.06.08a.12.12 0 000 .07c0 .03.01.05.05.09l45.02 45.02a.2.2 0 00.09.05.12.12 0 00.07 0c.02 0 .04-.01.08-.05L512 557.25l127.86 127.87c.04.04.06.05.08.05a.12.12 0 00.07 0c.03 0 .05-.01.09-.05l45.02-45.02a.2.2 0 00.05-.09.12.12 0 000-.07v-.02a.27.27 0 00-.05-.06L557.25 512l127.87-127.86c.04-.04.05-.06.05-.08a.12.12 0 000-.07c0-.03-.01-.05-.05-.09l-45.02-45.02a.2.2 0 00-.09-.05.12.12 0 00-.07 0z"}}]},name:"close-circle",theme:"filled"},d0=function(t,r){return O.createElement(dr,et({},t,{ref:r,icon:h0}))},f0=O.forwardRef(d0),p0=`accept acceptCharset accessKey action allowFullScreen allowTransparency
    alt async autoComplete autoFocus autoPlay capture cellPadding cellSpacing challenge
    charSet checked classID className colSpan cols content contentEditable contextMenu
    controls coords crossOrigin data dateTime default defer dir disabled download draggable
    encType form formAction formEncType formMethod formNoValidate formTarget frameBorder
    headers height hidden high href hrefLang htmlFor httpEquiv icon id inputMode integrity
    is keyParams keyType kind label lang list loop low manifest marginHeight marginWidth max maxLength media
    mediaGroup method min minLength multiple muted name noValidate nonce open
    optimum pattern placeholder poster preload radioGroup readOnly rel required
    reversed role rowSpan rows sandbox scope scoped scrolling seamless selected
    shape size sizes span spellCheck src srcDoc srcLang srcSet start step style
    summary tabIndex target title type useMap value width wmode wrap`,v0=`onCopy onCut onPaste onCompositionEnd onCompositionStart onCompositionUpdate onKeyDown
    onKeyPress onKeyUp onFocus onBlur onChange onInput onSubmit onClick onContextMenu onDoubleClick
    onDrag onDragEnd onDragEnter onDragExit onDragLeave onDragOver onDragStart onDrop onMouseDown
    onMouseEnter onMouseLeave onMouseMove onMouseOut onMouseOver onMouseUp onSelect onTouchCancel
    onTouchEnd onTouchMove onTouchStart onScroll onWheel onAbort onCanPlay onCanPlayThrough
    onDurationChange onEmptied onEncrypted onEnded onError onLoadedData onLoadedMetadata
    onLoadStart onPause onPlay onPlaying onProgress onRateChange onSeeked onSeeking onStalled onSuspend onTimeUpdate onVolumeChange onWaiting onLoad onError`,g0="".concat(p0," ").concat(v0).split(/[\s\n]+/),m0="aria-",_0="data-";function fl(e,t){return e.indexOf(t)===0}function b0(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r;t===!1?r={aria:!0,data:!0,attr:!0}:t===!0?r={aria:!0}:r=Y({},t);var i={};return Object.keys(e).forEach(function(n){(r.aria&&(n==="role"||fl(n,m0))||r.data&&fl(n,_0)||r.attr&&g0.includes(n))&&(i[n]=e[n])}),i}function y0(e){return e&&ee.isValidElement(e)&&e.type===ee.Fragment}const S0=(e,t,r)=>ee.isValidElement(e)?ee.cloneElement(e,typeof r=="function"?r(e.props||{}):r):t;function Pn(e,t){return S0(e,e,t)}const jh=e=>{const[,,,,t]=xr();return t?`${e}-css-var`:""};var C0={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M988 548c-19.9 0-36-16.1-36-36 0-59.4-11.6-117-34.6-171.3a440.45 440.45 0 00-94.3-139.9 437.71 437.71 0 00-139.9-94.3C629 83.6 571.4 72 512 72c-19.9 0-36-16.1-36-36s16.1-36 36-36c69.1 0 136.2 13.5 199.3 40.3C772.3 66 827 103 874 150c47 47 83.9 101.8 109.7 162.7 26.7 63.1 40.2 130.2 40.2 199.3.1 19.9-16 36-35.9 36z"}}]},name:"loading",theme:"outlined"},w0=function(t,r){return O.createElement(dr,et({},t,{ref:r,icon:C0}))},E0=O.forwardRef(w0);function zh(e,t){this.v=e,this.k=t}function st(e,t,r,i){var n=Object.defineProperty;try{n({},"",{})}catch{n=0}st=function(f,s,o,a){function d(u,g){st(f,u,function(b){return this._invoke(u,g,b)})}s?n?n(f,s,{value:o,enumerable:!a,configurable:!a,writable:!a}):f[s]=o:(d("next",0),d("throw",1),d("return",2))},st(e,t,r,i)}function La(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */var e,t,r=typeof Symbol=="function"?Symbol:{},i=r.iterator||"@@iterator",n=r.toStringTag||"@@toStringTag";function h(b,S,m,c){var p=S&&S.prototype instanceof s?S:s,l=Object.create(p.prototype);return st(l,"_invoke",function(v,_,w){var E,C,y,x=0,R=w||[],M=!1,I={p:0,n:0,v:e,a:T,f:T.bind(e,4),d:function($,F){return E=$,C=0,y=e,I.n=F,f}};function T(B,$){for(C=B,y=$,t=0;!M&&x&&!F&&t<R.length;t++){var F,z=R[t],U=I.p,A=z[2];B>3?(F=A===$)&&(y=z[(C=z[4])?5:(C=3,3)],z[4]=z[5]=e):z[0]<=U&&((F=B<2&&U<z[1])?(C=0,I.v=$,I.n=z[1]):U<A&&(F=B<3||z[0]>$||$>A)&&(z[4]=B,z[5]=$,I.n=A,C=0))}if(F||B>1)return f;throw M=!0,$}return function(B,$,F){if(x>1)throw TypeError("Generator is already running");for(M&&$===1&&T($,F),C=$,y=F;(t=C<2?e:y)||!M;){E||(C?C<3?(C>1&&(I.n=-1),T(C,y)):I.n=y:I.v=y);try{if(x=2,E){if(C||(B="next"),t=E[B]){if(!(t=t.call(E,y)))throw TypeError("iterator result is not an object");if(!t.done)return t;y=t.value,C<2&&(C=0)}else C===1&&(t=E.return)&&t.call(E),C<2&&(y=TypeError("The iterator does not provide a '"+B+"' method"),C=1);E=e}else if((t=(M=I.n<0)?y:v.call(_,I))!==f)break}catch(z){E=e,C=1,y=z}finally{x=1}}return{value:t,done:M}}}(b,m,c),!0),l}var f={};function s(){}function o(){}function a(){}t=Object.getPrototypeOf;var d=[][i]?t(t([][i]())):(st(t={},i,function(){return this}),t),u=a.prototype=s.prototype=Object.create(d);function g(b){return Object.setPrototypeOf?Object.setPrototypeOf(b,a):(b.__proto__=a,st(b,n,"GeneratorFunction")),b.prototype=Object.create(u),b}return o.prototype=a,st(u,"constructor",a),st(a,"constructor",o),o.displayName="GeneratorFunction",st(a,n,"GeneratorFunction"),st(u),st(u,n,"Generator"),st(u,i,function(){return this}),st(u,"toString",function(){return"[object Generator]"}),(La=function(){return{w:h,m:g}})()}function kn(e,t){function r(n,h,f,s){try{var o=e[n](h),a=o.value;return a instanceof zh?t.resolve(a.v).then(function(d){r("next",d,f,s)},function(d){r("throw",d,f,s)}):t.resolve(a).then(function(d){o.value=d,f(o)},function(d){return r("throw",d,f,s)})}catch(d){s(d)}}var i;this.next||(st(kn.prototype),st(kn.prototype,typeof Symbol=="function"&&Symbol.asyncIterator||"@asyncIterator",function(){return this})),st(this,"_invoke",function(n,h,f){function s(){return new t(function(o,a){r(n,f,o,a)})}return i=i?i.then(s,s):s()},!0)}function Nh(e,t,r,i,n){return new kn(La().w(e,t,r,i),n||Promise)}function x0(e,t,r,i,n){var h=Nh(e,t,r,i,n);return h.next().then(function(f){return f.done?f.value:h.next()})}function R0(e){var t=Object(e),r=[];for(var i in t)r.unshift(i);return function n(){for(;r.length;)if((i=r.pop())in t)return n.value=i,n.done=!1,n;return n.done=!0,n}}function pl(e){if(e!=null){var t=e[typeof Symbol=="function"&&Symbol.iterator||"@@iterator"],r=0;if(t)return t.call(e);if(typeof e.next=="function")return e;if(!isNaN(e.length))return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}}}throw new TypeError(he(e)+" is not iterable")}function ot(){var e=La(),t=e.m(ot),r=(Object.getPrototypeOf?Object.getPrototypeOf(t):t.__proto__).constructor;function i(f){var s=typeof f=="function"&&f.constructor;return!!s&&(s===r||(s.displayName||s.name)==="GeneratorFunction")}var n={throw:1,return:2,break:3,continue:3};function h(f){var s,o;return function(a){s||(s={stop:function(){return o(a.a,2)},catch:function(){return a.v},abrupt:function(u,g){return o(a.a,n[u],g)},delegateYield:function(u,g,b){return s.resultName=g,o(a.d,pl(u),b)},finish:function(u){return o(a.f,u)}},o=function(u,g,b){a.p=s.prev,a.n=s.next;try{return u(g,b)}finally{s.next=a.n}}),s.resultName&&(s[s.resultName]=a.v,s.resultName=void 0),s.sent=a.v,s.next=a.n;try{return f.call(this,s)}finally{a.p=s.prev,a.n=s.next}}}return(ot=function(){return{wrap:function(o,a,d,u){return e.w(h(o),a,d,u&&u.reverse())},isGeneratorFunction:i,mark:e.m,awrap:function(o,a){return new zh(o,a)},AsyncIterator:kn,async:function(o,a,d,u,g){return(i(a)?Nh:x0)(h(o),a,d,u,g)},keys:R0,values:pl}})()}function vl(e,t,r,i,n,h,f){try{var s=e[h](f),o=s.value}catch(a){return void r(a)}s.done?t(o):Promise.resolve(o).then(i,n)}function Or(e){return function(){var t=this,r=arguments;return new Promise(function(i,n){var h=e.apply(t,r);function f(o){vl(h,i,n,f,s,"next",o)}function s(o){vl(h,i,n,f,s,"throw",o)}f(void 0)})}}var Di=Y({},Rd),O0=Di.version,js=Di.render,A0=Di.unmountComponentAtNode,Gn;try{var T0=Number((O0||"").split(".")[0]);T0>=18&&(Gn=Di.createRoot)}catch{}function gl(e){var t=Di.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;t&&he(t)==="object"&&(t.usingClientEntryPoint=e)}var Bn="__rc_react_root__";function L0(e,t){gl(!0);var r=t[Bn]||Gn(t);gl(!1),r.render(e),t[Bn]=r}function M0(e,t){js?.(e,t)}function I0(e,t){if(Gn){L0(e,t);return}M0(e,t)}function P0(e){return zo.apply(this,arguments)}function zo(){return zo=Or(ot().mark(function e(t){return ot().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",Promise.resolve().then(function(){var n;(n=t[Bn])===null||n===void 0||n.unmount(),delete t[Bn]}));case 1:case"end":return i.stop()}},e)})),zo.apply(this,arguments)}function k0(e){A0(e)}function B0(e){return No.apply(this,arguments)}function No(){return No=Or(ot().mark(function e(t){return ot().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(Gn===void 0){i.next=2;break}return i.abrupt("return",P0(t));case 2:k0(t);case 3:case"end":return i.stop()}},e)})),No.apply(this,arguments)}const D0=(e,t)=>(I0(e,t),()=>B0(t));let $0=D0;function F0(e){return $0}function Ma(e,t){var r=Object.assign({},e);return Array.isArray(t)&&t.forEach(function(i){delete r[i]}),r}const H0=function(e){if(!e)return!1;if(e instanceof Element){if(e.offsetParent)return!0;if(e.getBBox){var t=e.getBBox(),r=t.width,i=t.height;if(r||i)return!0}if(e.getBoundingClientRect){var n=e.getBoundingClientRect(),h=n.width,f=n.height;if(h||f)return!0}}return!1},j0=e=>{const{componentCls:t,colorPrimary:r}=e;return{[t]:{position:"absolute",background:"transparent",pointerEvents:"none",boxSizing:"border-box",color:`var(--wave-color, ${r})`,boxShadow:"0 0 0 0 currentcolor",opacity:.2,"&.wave-motion-appear":{transition:[`box-shadow 0.4s ${e.motionEaseOutCirc}`,`opacity 2s ${e.motionEaseOutCirc}`].join(","),"&-active":{boxShadow:"0 0 0 6px currentcolor",opacity:0},"&.wave-quick":{transition:[`box-shadow ${e.motionDurationSlow} ${e.motionEaseInOut}`,`opacity ${e.motionDurationSlow} ${e.motionEaseInOut}`].join(",")}}}}},z0=__("Wave",e=>[j0(e)]),Vh=`${In}-wave-target`;function zs(e){return e&&e!=="#fff"&&e!=="#ffffff"&&e!=="rgb(255, 255, 255)"&&e!=="rgba(255, 255, 255, 1)"&&!/rgba\((?:\d*, ){3}0\)/.test(e)&&e!=="transparent"}function N0(e){const{borderTopColor:t,borderColor:r,backgroundColor:i}=getComputedStyle(e);return zs(t)?t:zs(r)?r:zs(i)?i:null}function Ns(e){return Number.isNaN(e)?0:e}const V0=e=>{const{className:t,target:r,component:i,registerUnmount:n}=e,h=O.useRef(null),f=O.useRef(null);O.useEffect(()=>{f.current=n()},[]);const[s,o]=O.useState(null),[a,d]=O.useState([]),[u,g]=O.useState(0),[b,S]=O.useState(0),[m,c]=O.useState(0),[p,l]=O.useState(0),[v,_]=O.useState(!1),w={left:u,top:b,width:m,height:p,borderRadius:a.map(y=>`${y}px`).join(" ")};s&&(w["--wave-color"]=s);function E(){const y=getComputedStyle(r);o(N0(r));const x=y.position==="static",{borderLeftWidth:R,borderTopWidth:M}=y;g(x?r.offsetLeft:Ns(-parseFloat(R))),S(x?r.offsetTop:Ns(-parseFloat(M))),c(r.offsetWidth),l(r.offsetHeight);const{borderTopLeftRadius:I,borderTopRightRadius:T,borderBottomLeftRadius:B,borderBottomRightRadius:$}=y;d([I,T,$,B].map(F=>Ns(parseFloat(F))))}if(O.useEffect(()=>{if(r){const y=Wt(()=>{E(),_(!0)});let x;return typeof ResizeObserver<"u"&&(x=new ResizeObserver(E),x.observe(r)),()=>{Wt.cancel(y),x?.disconnect()}}},[]),!v)return null;const C=(i==="Checkbox"||i==="Radio")&&r?.classList.contains(Vh);return O.createElement(Ta,{visible:!0,motionAppear:!0,motionName:"wave-motion",motionDeadline:5e3,onAppearEnd:(y,x)=>{var R,M;if(x.deadline||x.propertyName==="opacity"){const I=(R=h.current)===null||R===void 0?void 0:R.parentElement;(M=f.current)===null||M===void 0||M.call(f).then(()=>{I?.remove()})}return!1}},({className:y},x)=>O.createElement("div",{ref:Yr(h,x),className:pe(t,y,{"wave-quick":C}),style:w}))},W0=(e,t)=>{var r;const{component:i}=t;if(i==="Checkbox"&&!(!((r=e.querySelector("input"))===null||r===void 0)&&r.checked))return;const n=document.createElement("div");n.style.position="absolute",n.style.left="0px",n.style.top="0px",e?.insertBefore(n,e?.firstChild);const h=F0();let f=null;function s(){return f}f=h(O.createElement(V0,Object.assign({},t,{target:e,registerUnmount:s})),n)},U0=(e,t,r)=>{const{wave:i}=O.useContext(tt),[,n,h]=xr(),f=ar(a=>{const d=e.current;if(i?.disabled||!d)return;const u=d.querySelector(`.${Vh}`)||d,{showEffect:g}=i||{};(g||W0)(u,{className:t,token:n,component:r,event:a,hashId:h})}),s=O.useRef(null);return a=>{Wt.cancel(s.current),s.current=Wt(()=>{f(a)})}},q0=e=>{const{children:t,disabled:r,component:i}=e,{getPrefixCls:n}=O.useContext(tt),h=O.useRef(null),f=n("wave"),[,s]=z0(f),o=U0(h,pe(f,s),i);if(ee.useEffect(()=>{const d=h.current;if(!d||d.nodeType!==1||r)return;const u=g=>{!H0(g.target)||!d.getAttribute||d.getAttribute("disabled")||d.disabled||d.className.includes("disabled")||d.className.includes("-leave")||o(g)};return d.addEventListener("click",u,!0),()=>{d.removeEventListener("click",u,!0)}},[r]),!ee.isValidElement(t))return t??null;const a=fa(t)?Yr(pa(t),h):h;return Pn(t,{ref:a})},$i=e=>{const t=ee.useContext(Gr);return ee.useMemo(()=>e?typeof e=="string"?e??t:typeof e=="function"?e(t):t:t,[e,t])},Wh=O.createContext(null),Kn=(e,t)=>{const r=O.useContext(Wh),i=O.useMemo(()=>{if(!r)return"";const{compactDirection:n,isFirstItem:h,isLastItem:f}=r,s=n==="vertical"?"-vertical-":"-";return pe(`${e}-compact${s}item`,{[`${e}-compact${s}first-item`]:h,[`${e}-compact${s}last-item`]:f,[`${e}-compact${s}item-rtl`]:t==="rtl"})},[e,t,r]);return{compactSize:r?.compactSize,compactDirection:r?.compactDirection,compactItemClassnames:i}},G0=e=>{const{children:t}=e;return O.createElement(Wh.Provider,{value:null},t)};var K0=function(e,t){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(r[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,i=Object.getOwnPropertySymbols(e);n<i.length;n++)t.indexOf(i[n])<0&&Object.prototype.propertyIsEnumerable.call(e,i[n])&&(r[i[n]]=e[i[n]]);return r};const Uh=O.createContext(void 0),X0=e=>{const{getPrefixCls:t,direction:r}=O.useContext(tt),{prefixCls:i,size:n,className:h}=e,f=K0(e,["prefixCls","size","className"]),s=t("btn-group",i),[,,o]=xr(),a=O.useMemo(()=>{switch(n){case"large":return"lg";case"small":return"sm";default:return""}},[n]),d=pe(s,{[`${s}-${a}`]:a,[`${s}-rtl`]:r==="rtl"},h,o);return O.createElement(Uh.Provider,{value:n},O.createElement("div",Object.assign({},f,{className:d})))},ml=/^[\u4E00-\u9FA5]{2}$/,Vo=ml.test.bind(ml);function _l(e){return typeof e=="string"}function Vs(e){return e==="text"||e==="link"}function Y0(e,t){if(e==null)return;const r=t?" ":"";return typeof e!="string"&&typeof e!="number"&&_l(e.type)&&Vo(e.props.children)?Pn(e,{children:e.props.children.split("").join(r)}):_l(e)?Vo(e)?ee.createElement("span",null,e.split("").join(r)):ee.createElement("span",null,e):y0(e)?ee.createElement("span",null,e):e}function J0(e,t){let r=!1;const i=[];return ee.Children.forEach(e,n=>{const h=typeof n,f=h==="string"||h==="number";if(r&&f){const s=i.length-1,o=i[s];i[s]=`${o}${n}`}else i.push(n);r=f}),ee.Children.map(i,n=>Y0(n,t))}["default","primary","danger"].concat(ue(Oa));const Wo=O.forwardRef((e,t)=>{const{className:r,style:i,children:n,prefixCls:h}=e,f=pe(`${h}-icon`,r);return ee.createElement("span",{ref:t,className:f,style:i},n)}),bl=O.forwardRef((e,t)=>{const{prefixCls:r,className:i,style:n,iconClassName:h}=e,f=pe(`${r}-loading-icon`,i);return ee.createElement(Wo,{prefixCls:r,className:f,style:n,ref:t},ee.createElement(E0,{className:h}))}),Ws=()=>({width:0,opacity:0,transform:"scale(0)"}),Us=e=>({width:e.scrollWidth,opacity:1,transform:"scale(1)"}),Z0=e=>{const{prefixCls:t,loading:r,existIcon:i,className:n,style:h,mount:f}=e,s=!!r;return i?ee.createElement(bl,{prefixCls:t,className:n,style:h}):ee.createElement(Ta,{visible:s,motionName:`${t}-loading-icon-motion`,motionAppear:!f,motionEnter:!f,motionLeave:!f,removeOnLeave:!0,onAppearStart:Ws,onAppearActive:Us,onEnterStart:Ws,onEnterActive:Us,onLeaveStart:Us,onLeaveActive:Ws},({className:o,style:a},d)=>{const u=Object.assign(Object.assign({},h),a);return ee.createElement(bl,{prefixCls:t,className:pe(n,o),style:u,ref:d})})},yl=(e,t)=>({[`> span, > ${e}`]:{"&:not(:last-child)":{[`&, & > ${e}`]:{"&:not(:disabled)":{borderInlineEndColor:t}}},"&:not(:first-child)":{[`&, & > ${e}`]:{"&:not(:disabled)":{borderInlineStartColor:t}}}}}),Q0=e=>{const{componentCls:t,fontSize:r,lineWidth:i,groupBorderColor:n,colorErrorHover:h}=e;return{[`${t}-group`]:[{position:"relative",display:"inline-flex",[`> span, > ${t}`]:{"&:not(:last-child)":{[`&, & > ${t}`]:{borderStartEndRadius:0,borderEndEndRadius:0}},"&:not(:first-child)":{marginInlineStart:e.calc(i).mul(-1).equal(),[`&, & > ${t}`]:{borderStartStartRadius:0,borderEndStartRadius:0}}},[t]:{position:"relative",zIndex:1,"&:hover, &:focus, &:active":{zIndex:2},"&[disabled]":{zIndex:0}},[`${t}-icon-only`]:{fontSize:r}},yl(`${t}-primary`,n),yl(`${t}-danger`,h)]}};var eb=["b"],tb=["v"],qs=function(t){return Math.round(Number(t||0))},rb=function(t){if(t instanceof He)return t;if(t&&he(t)==="object"&&"h"in t&&"b"in t){var r=t,i=r.b,n=ht(r,eb);return Y(Y({},n),{},{v:i})}return typeof t=="string"&&/hsb/.test(t)?t.replace(/hsb/,"hsv"):t},Ai=function(e){ur(r,e);var t=hr(r);function r(i){return rt(this,r),t.call(this,rb(i))}return it(r,[{key:"toHsbString",value:function(){var n=this.toHsb(),h=qs(n.s*100),f=qs(n.b*100),s=qs(n.h),o=n.a,a="hsb(".concat(s,", ").concat(h,"%, ").concat(f,"%)"),d="hsba(".concat(s,", ").concat(h,"%, ").concat(f,"%, ").concat(o.toFixed(o===0?0:2),")");return o===1?a:d}},{key:"toHsb",value:function(){var n=this.toHsv(),h=n.v,f=ht(n,tb);return Y(Y({},f),{},{b:h,a:this.a})}}]),r}(He),ib=function(t){return t instanceof Ai?t:new Ai(t)};ib("#1677ff");const nb=(e,t)=>e?.replace(/[^\w/]/g,"").slice(0,t?8:6)||"",sb=(e,t)=>e?nb(e,t):"";let ob=function(){function e(t){rt(this,e);var r;if(this.cleared=!1,t instanceof e){this.metaColor=t.metaColor.clone(),this.colors=(r=t.colors)===null||r===void 0?void 0:r.map(n=>({color:new e(n.color),percent:n.percent})),this.cleared=t.cleared;return}const i=Array.isArray(t);i&&t.length?(this.colors=t.map(({color:n,percent:h})=>({color:new e(n),percent:h})),this.metaColor=new Ai(this.colors[0].color.metaColor)):this.metaColor=new Ai(i?"":t),(!t||i&&!this.colors)&&(this.metaColor=this.metaColor.setA(0),this.cleared=!0)}return it(e,[{key:"toHsb",value:function(){return this.metaColor.toHsb()}},{key:"toHsbString",value:function(){return this.metaColor.toHsbString()}},{key:"toHex",value:function(){return sb(this.toHexString(),this.metaColor.a<1)}},{key:"toHexString",value:function(){return this.metaColor.toHexString()}},{key:"toRgb",value:function(){return this.metaColor.toRgb()}},{key:"toRgbString",value:function(){return this.metaColor.toRgbString()}},{key:"isGradient",value:function(){return!!this.colors&&!this.cleared}},{key:"getColors",value:function(){return this.colors||[{color:this,percent:0}]}},{key:"toCssString",value:function(){const{colors:r}=this;return r?`linear-gradient(90deg, ${r.map(n=>`${n.color.toRgbString()} ${n.percent}%`).join(", ")})`:this.metaColor.toRgbString()}},{key:"equals",value:function(r){return!r||this.isGradient()!==r.isGradient()?!1:this.isGradient()?this.colors.length===r.colors.length&&this.colors.every((i,n)=>{const h=r.colors[n];return i.percent===h.percent&&i.color.equals(h.color)}):this.toHexString()===r.toHexString()}}])}();const ab=(e,t)=>{const{r,g:i,b:n,a:h}=e.toRgb(),f=new Ai(e.toRgbString()).onBackground(t).toHsv();return h<=.5?f.v>.5:r*.299+i*.587+n*.114>192},qh=e=>{const{paddingInline:t,onlyIconSize:r}=e;return Ct(e,{buttonPaddingHorizontal:t,buttonPaddingVertical:0,buttonIconOnlyFontSize:r})},Gh=e=>{var t,r,i,n,h,f;const s=(t=e.contentFontSize)!==null&&t!==void 0?t:e.fontSize,o=(r=e.contentFontSizeSM)!==null&&r!==void 0?r:e.fontSize,a=(i=e.contentFontSizeLG)!==null&&i!==void 0?i:e.fontSizeLG,d=(n=e.contentLineHeight)!==null&&n!==void 0?n:En(s),u=(h=e.contentLineHeightSM)!==null&&h!==void 0?h:En(o),g=(f=e.contentLineHeightLG)!==null&&f!==void 0?f:En(a),b=ab(new ob(e.colorBgSolid),"#fff")?"#000":"#fff",S=Oa.reduce((m,c)=>Object.assign(Object.assign({},m),{[`${c}ShadowColor`]:`0 ${Me(e.controlOutlineWidth)} 0 ${hi(e[`${c}1`],e.colorBgContainer)}`}),{});return Object.assign(Object.assign({},S),{fontWeight:400,defaultShadow:`0 ${e.controlOutlineWidth}px 0 ${e.controlTmpOutline}`,primaryShadow:`0 ${e.controlOutlineWidth}px 0 ${e.controlOutline}`,dangerShadow:`0 ${e.controlOutlineWidth}px 0 ${e.colorErrorOutline}`,primaryColor:e.colorTextLightSolid,dangerColor:e.colorTextLightSolid,borderColorDisabled:e.colorBorder,defaultGhostColor:e.colorBgContainer,ghostBg:"transparent",defaultGhostBorderColor:e.colorBgContainer,paddingInline:e.paddingContentHorizontal-e.lineWidth,paddingInlineLG:e.paddingContentHorizontal-e.lineWidth,paddingInlineSM:8-e.lineWidth,onlyIconSize:"inherit",onlyIconSizeSM:"inherit",onlyIconSizeLG:"inherit",groupBorderColor:e.colorPrimaryHover,linkHoverBg:"transparent",textTextColor:e.colorText,textTextHoverColor:e.colorText,textTextActiveColor:e.colorText,textHoverBg:e.colorFillTertiary,defaultColor:e.colorText,defaultBg:e.colorBgContainer,defaultBorderColor:e.colorBorder,defaultBorderColorDisabled:e.colorBorder,defaultHoverBg:e.colorBgContainer,defaultHoverColor:e.colorPrimaryHover,defaultHoverBorderColor:e.colorPrimaryHover,defaultActiveBg:e.colorBgContainer,defaultActiveColor:e.colorPrimaryActive,defaultActiveBorderColor:e.colorPrimaryActive,solidTextColor:b,contentFontSize:s,contentFontSizeSM:o,contentFontSizeLG:a,contentLineHeight:d,contentLineHeightSM:u,contentLineHeightLG:g,paddingBlock:Math.max((e.controlHeight-s*d)/2-e.lineWidth,0),paddingBlockSM:Math.max((e.controlHeightSM-o*u)/2-e.lineWidth,0),paddingBlockLG:Math.max((e.controlHeightLG-a*g)/2-e.lineWidth,0)})},cb=e=>{const{componentCls:t,iconCls:r,fontWeight:i,opacityLoading:n,motionDurationSlow:h,motionEaseInOut:f,marginXS:s,calc:o}=e;return{[t]:{outline:"none",position:"relative",display:"inline-flex",gap:e.marginXS,alignItems:"center",justifyContent:"center",fontWeight:i,whiteSpace:"nowrap",textAlign:"center",backgroundImage:"none",background:"transparent",border:`${Me(e.lineWidth)} ${e.lineType} transparent`,cursor:"pointer",transition:`all ${e.motionDurationMid} ${e.motionEaseInOut}`,userSelect:"none",touchAction:"manipulation",color:e.colorText,"&:disabled > *":{pointerEvents:"none"},[`${t}-icon > svg`]:wh(),"> a":{color:"currentColor"},"&:not(:disabled)":m_(e),[`&${t}-two-chinese-chars::first-letter`]:{letterSpacing:"0.34em"},[`&${t}-two-chinese-chars > *:not(${r})`]:{marginInlineEnd:"-0.34em",letterSpacing:"0.34em"},[`&${t}-icon-only`]:{paddingInline:0,[`&${t}-compact-item`]:{flex:"none"},[`&${t}-round`]:{width:"auto"}},[`&${t}-loading`]:{opacity:n,cursor:"default"},[`${t}-loading-icon`]:{transition:["width","opacity","margin"].map(a=>`${a} ${h} ${f}`).join(",")},[`&:not(${t}-icon-end)`]:{[`${t}-loading-icon-motion`]:{"&-appear-start, &-enter-start":{marginInlineEnd:o(s).mul(-1).equal()},"&-appear-active, &-enter-active":{marginInlineEnd:0},"&-leave-start":{marginInlineEnd:0},"&-leave-active":{marginInlineEnd:o(s).mul(-1).equal()}}},"&-icon-end":{flexDirection:"row-reverse",[`${t}-loading-icon-motion`]:{"&-appear-start, &-enter-start":{marginInlineStart:o(s).mul(-1).equal()},"&-appear-active, &-enter-active":{marginInlineStart:0},"&-leave-start":{marginInlineStart:0},"&-leave-active":{marginInlineStart:o(s).mul(-1).equal()}}}}}},Kh=(e,t,r)=>({[`&:not(:disabled):not(${e}-disabled)`]:{"&:hover":t,"&:active":r}}),lb=e=>({minWidth:e.controlHeight,paddingInlineStart:0,paddingInlineEnd:0,borderRadius:"50%"}),ub=e=>({borderRadius:e.controlHeight,paddingInlineStart:e.calc(e.controlHeight).div(2).equal(),paddingInlineEnd:e.calc(e.controlHeight).div(2).equal()}),hb=e=>({cursor:"not-allowed",borderColor:e.borderColorDisabled,color:e.colorTextDisabled,background:e.colorBgContainerDisabled,boxShadow:"none"}),Xn=(e,t,r,i,n,h,f,s)=>({[`&${e}-background-ghost`]:Object.assign(Object.assign({color:r||void 0,background:t,borderColor:i||void 0,boxShadow:"none"},Kh(e,Object.assign({background:t},f),Object.assign({background:t},s))),{"&:disabled":{cursor:"not-allowed",color:n||void 0,borderColor:h||void 0}})}),db=e=>({[`&:disabled, &${e.componentCls}-disabled`]:Object.assign({},hb(e))}),fb=e=>({[`&:disabled, &${e.componentCls}-disabled`]:{cursor:"not-allowed",color:e.colorTextDisabled}}),Yn=(e,t,r,i)=>{const h=i&&["link","text"].includes(i)?fb:db;return Object.assign(Object.assign({},h(e)),Kh(e.componentCls,t,r))},Jn=(e,t,r,i,n)=>({[`&${e.componentCls}-variant-solid`]:Object.assign({color:t,background:r},Yn(e,i,n))}),Zn=(e,t,r,i,n)=>({[`&${e.componentCls}-variant-outlined, &${e.componentCls}-variant-dashed`]:Object.assign({borderColor:t,background:r},Yn(e,i,n))}),Qn=e=>({[`&${e.componentCls}-variant-dashed`]:{borderStyle:"dashed"}}),es=(e,t,r,i)=>({[`&${e.componentCls}-variant-filled`]:Object.assign({boxShadow:"none",background:t},Yn(e,r,i))}),Ut=(e,t,r,i,n)=>({[`&${e.componentCls}-variant-${r}`]:Object.assign({color:t,boxShadow:"none"},Yn(e,i,n,r))}),pb=e=>{const{componentCls:t}=e;return Oa.reduce((r,i)=>{const n=e[`${i}6`],h=e[`${i}1`],f=e[`${i}5`],s=e[`${i}2`],o=e[`${i}3`],a=e[`${i}7`];return Object.assign(Object.assign({},r),{[`&${t}-color-${i}`]:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({color:n,boxShadow:e[`${i}ShadowColor`]},Jn(e,e.colorTextLightSolid,n,{background:f},{background:a})),Zn(e,n,e.colorBgContainer,{color:f,borderColor:f,background:e.colorBgContainer},{color:a,borderColor:a,background:e.colorBgContainer})),Qn(e)),es(e,h,{background:s},{background:o})),Ut(e,n,"link",{color:f},{color:a})),Ut(e,n,"text",{color:f,background:h},{color:a,background:o}))})},{})},vb=e=>Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({color:e.defaultColor,boxShadow:e.defaultShadow},Jn(e,e.solidTextColor,e.colorBgSolid,{color:e.solidTextColor,background:e.colorBgSolidHover},{color:e.solidTextColor,background:e.colorBgSolidActive})),Qn(e)),es(e,e.colorFillTertiary,{background:e.colorFillSecondary},{background:e.colorFill})),Xn(e.componentCls,e.ghostBg,e.defaultGhostColor,e.defaultGhostBorderColor,e.colorTextDisabled,e.colorBorder)),Ut(e,e.textTextColor,"link",{color:e.colorLinkHover,background:e.linkHoverBg},{color:e.colorLinkActive})),gb=e=>Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({color:e.colorPrimary,boxShadow:e.primaryShadow},Zn(e,e.colorPrimary,e.colorBgContainer,{color:e.colorPrimaryTextHover,borderColor:e.colorPrimaryHover,background:e.colorBgContainer},{color:e.colorPrimaryTextActive,borderColor:e.colorPrimaryActive,background:e.colorBgContainer})),Qn(e)),es(e,e.colorPrimaryBg,{background:e.colorPrimaryBgHover},{background:e.colorPrimaryBorder})),Ut(e,e.colorPrimaryText,"text",{color:e.colorPrimaryTextHover,background:e.colorPrimaryBg},{color:e.colorPrimaryTextActive,background:e.colorPrimaryBorder})),Ut(e,e.colorPrimaryText,"link",{color:e.colorPrimaryTextHover,background:e.linkHoverBg},{color:e.colorPrimaryTextActive})),Xn(e.componentCls,e.ghostBg,e.colorPrimary,e.colorPrimary,e.colorTextDisabled,e.colorBorder,{color:e.colorPrimaryHover,borderColor:e.colorPrimaryHover},{color:e.colorPrimaryActive,borderColor:e.colorPrimaryActive})),mb=e=>Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({color:e.colorError,boxShadow:e.dangerShadow},Jn(e,e.dangerColor,e.colorError,{background:e.colorErrorHover},{background:e.colorErrorActive})),Zn(e,e.colorError,e.colorBgContainer,{color:e.colorErrorHover,borderColor:e.colorErrorBorderHover},{color:e.colorErrorActive,borderColor:e.colorErrorActive})),Qn(e)),es(e,e.colorErrorBg,{background:e.colorErrorBgFilledHover},{background:e.colorErrorBgActive})),Ut(e,e.colorError,"text",{color:e.colorErrorHover,background:e.colorErrorBg},{color:e.colorErrorHover,background:e.colorErrorBgActive})),Ut(e,e.colorError,"link",{color:e.colorErrorHover},{color:e.colorErrorActive})),Xn(e.componentCls,e.ghostBg,e.colorError,e.colorError,e.colorTextDisabled,e.colorBorder,{color:e.colorErrorHover,borderColor:e.colorErrorHover},{color:e.colorErrorActive,borderColor:e.colorErrorActive})),_b=e=>Object.assign(Object.assign({},Ut(e,e.colorLink,"link",{color:e.colorLinkHover},{color:e.colorLinkActive})),Xn(e.componentCls,e.ghostBg,e.colorInfo,e.colorInfo,e.colorTextDisabled,e.colorBorder,{color:e.colorInfoHover,borderColor:e.colorInfoHover},{color:e.colorInfoActive,borderColor:e.colorInfoActive})),bb=e=>{const{componentCls:t}=e;return Object.assign({[`${t}-color-default`]:vb(e),[`${t}-color-primary`]:gb(e),[`${t}-color-dangerous`]:mb(e),[`${t}-color-link`]:_b(e)},pb(e))},yb=e=>Object.assign(Object.assign(Object.assign(Object.assign({},Zn(e,e.defaultBorderColor,e.defaultBg,{color:e.defaultHoverColor,borderColor:e.defaultHoverBorderColor,background:e.defaultHoverBg},{color:e.defaultActiveColor,borderColor:e.defaultActiveBorderColor,background:e.defaultActiveBg})),Ut(e,e.textTextColor,"text",{color:e.textTextHoverColor,background:e.textHoverBg},{color:e.textTextActiveColor,background:e.colorBgTextActive})),Jn(e,e.primaryColor,e.colorPrimary,{background:e.colorPrimaryHover,color:e.primaryColor},{background:e.colorPrimaryActive,color:e.primaryColor})),Ut(e,e.colorLink,"link",{color:e.colorLinkHover,background:e.linkHoverBg},{color:e.colorLinkActive})),Ia=(e,t="")=>{const{componentCls:r,controlHeight:i,fontSize:n,borderRadius:h,buttonPaddingHorizontal:f,iconCls:s,buttonPaddingVertical:o,buttonIconOnlyFontSize:a}=e;return[{[t]:{fontSize:n,height:i,padding:`${Me(o)} ${Me(f)}`,borderRadius:h,[`&${r}-icon-only`]:{width:i,[s]:{fontSize:a}}}},{[`${r}${r}-circle${t}`]:lb(e)},{[`${r}${r}-round${t}`]:ub(e)}]},Sb=e=>{const t=Ct(e,{fontSize:e.contentFontSize});return Ia(t,e.componentCls)},Cb=e=>{const t=Ct(e,{controlHeight:e.controlHeightSM,fontSize:e.contentFontSizeSM,padding:e.paddingXS,buttonPaddingHorizontal:e.paddingInlineSM,buttonPaddingVertical:0,borderRadius:e.borderRadiusSM,buttonIconOnlyFontSize:e.onlyIconSizeSM});return Ia(t,`${e.componentCls}-sm`)},wb=e=>{const t=Ct(e,{controlHeight:e.controlHeightLG,fontSize:e.contentFontSizeLG,buttonPaddingHorizontal:e.paddingInlineLG,buttonPaddingVertical:0,borderRadius:e.borderRadiusLG,buttonIconOnlyFontSize:e.onlyIconSizeLG});return Ia(t,`${e.componentCls}-lg`)},Eb=e=>{const{componentCls:t}=e;return{[t]:{[`&${t}-block`]:{width:"100%"}}}},xb=Rr("Button",e=>{const t=qh(e);return[cb(t),Sb(t),Cb(t),wb(t),Eb(t),bb(t),yb(t),Q0(t)]},Gh,{unitless:{fontWeight:!0,contentLineHeight:!0,contentLineHeightSM:!0,contentLineHeightLG:!0}});function Rb(e,t,r){const{focusElCls:i,focus:n,borderElCls:h}=r,f=h?"> *":"",s=["hover",n?"focus":null,"active"].filter(Boolean).map(o=>`&:${o} ${f}`).join(",");return{[`&-item:not(${t}-last-item)`]:{marginInlineEnd:e.calc(e.lineWidth).mul(-1).equal()},"&-item":Object.assign(Object.assign({[s]:{zIndex:2}},i?{[`&${i}`]:{zIndex:2}}:{}),{[`&[disabled] ${f}`]:{zIndex:0}})}}function Ob(e,t,r){const{borderElCls:i}=r,n=i?`> ${i}`:"";return{[`&-item:not(${t}-first-item):not(${t}-last-item) ${n}`]:{borderRadius:0},[`&-item:not(${t}-last-item)${t}-first-item`]:{[`& ${n}, &${e}-sm ${n}, &${e}-lg ${n}`]:{borderStartEndRadius:0,borderEndEndRadius:0}},[`&-item:not(${t}-first-item)${t}-last-item`]:{[`& ${n}, &${e}-sm ${n}, &${e}-lg ${n}`]:{borderStartStartRadius:0,borderEndStartRadius:0}}}}function Xh(e,t={focus:!0}){const{componentCls:r}=e,i=`${r}-compact`;return{[i]:Object.assign(Object.assign({},Rb(e,i,t)),Ob(r,i,t))}}function Ab(e,t){return{[`&-item:not(${t}-last-item)`]:{marginBottom:e.calc(e.lineWidth).mul(-1).equal()},"&-item":{"&:hover,&:focus,&:active":{zIndex:2},"&[disabled]":{zIndex:0}}}}function Tb(e,t){return{[`&-item:not(${t}-first-item):not(${t}-last-item)`]:{borderRadius:0},[`&-item${t}-first-item:not(${t}-last-item)`]:{[`&, &${e}-sm, &${e}-lg`]:{borderEndEndRadius:0,borderEndStartRadius:0}},[`&-item${t}-last-item:not(${t}-first-item)`]:{[`&, &${e}-sm, &${e}-lg`]:{borderStartStartRadius:0,borderStartEndRadius:0}}}}function Lb(e){const t=`${e.componentCls}-compact-vertical`;return{[t]:Object.assign(Object.assign({},Ab(e,t)),Tb(e.componentCls,t))}}const Mb=e=>{const{componentCls:t,colorPrimaryHover:r,lineWidth:i,calc:n}=e,h=n(i).mul(-1).equal(),f=s=>{const o=`${t}-compact${s?"-vertical":""}-item${t}-primary:not([disabled])`;return{[`${o} + ${o}::before`]:{position:"absolute",top:s?h:0,insetInlineStart:s?0:h,backgroundColor:r,content:'""',width:s?"100%":i,height:s?i:"100%"}}};return Object.assign(Object.assign({},f()),f(!0))},Ib=b_(["Button","compact"],e=>{const t=qh(e);return[Xh(t),Lb(t),Mb(t)]},Gh);var Pb=function(e,t){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(r[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,i=Object.getOwnPropertySymbols(e);n<i.length;n++)t.indexOf(i[n])<0&&Object.prototype.propertyIsEnumerable.call(e,i[n])&&(r[i[n]]=e[i[n]]);return r};function kb(e){if(typeof e=="object"&&e){let t=e?.delay;return t=!Number.isNaN(t)&&typeof t=="number"?t:0,{loading:t<=0,delay:t}}return{loading:!!e,delay:0}}const Bb={default:["default","outlined"],primary:["primary","solid"],dashed:["default","dashed"],link:["link","link"],text:["default","text"]},Db=ee.forwardRef((e,t)=>{var r,i;const{loading:n=!1,prefixCls:h,color:f,variant:s,type:o,danger:a=!1,shape:d="default",size:u,styles:g,disabled:b,className:S,rootClassName:m,children:c,icon:p,iconPosition:l="start",ghost:v=!1,block:_=!1,htmlType:w="button",classNames:E,style:C={},autoInsertSpace:y,autoFocus:x}=e,R=Pb(e,["loading","prefixCls","color","variant","type","danger","shape","size","styles","disabled","className","rootClassName","children","icon","iconPosition","ghost","block","htmlType","classNames","style","autoInsertSpace","autoFocus"]),M=o||"default",{button:I}=ee.useContext(tt),[T,B]=O.useMemo(()=>{if(f&&s)return[f,s];if(o||a){const Re=Bb[M]||[];return a?["danger",Re[1]]:Re}return I?.color&&I?.variant?[I.color,I.variant]:["default","outlined"]},[o,f,s,a,I?.variant,I?.color]),F=T==="danger"?"dangerous":T,{getPrefixCls:z,direction:U,autoInsertSpace:A,className:k,style:P,classNames:D,styles:V}=xa("button"),j=(r=y??A)!==null&&r!==void 0?r:!0,K=z("btn",h),[J,H,L]=xb(K),W=O.useContext(wr),G=b??W,Z=O.useContext(Uh),Q=O.useMemo(()=>kb(n),[n]),[se,fe]=O.useState(Q.loading),[de,oe]=O.useState(!1),re=O.useRef(null),_e=Tu(t,re),xe=O.Children.count(c)===1&&!p&&!Vs(B),Ge=O.useRef(!0);ee.useEffect(()=>(Ge.current=!1,()=>{Ge.current=!0}),[]),O.useLayoutEffect(()=>{let Re=null;Q.delay>0?Re=setTimeout(()=>{Re=null,fe(!0)},Q.delay):fe(Q.loading);function nt(){Re&&(clearTimeout(Re),Re=null)}return nt},[Q.delay,Q.loading]),O.useEffect(()=>{if(!re.current||!j)return;const Re=re.current.textContent||"";xe&&Vo(Re)?de||oe(!0):de&&oe(!1)}),O.useEffect(()=>{x&&re.current&&re.current.focus()},[]);const Ee=ee.useCallback(Re=>{var nt;if(se||G){Re.preventDefault();return}(nt=e.onClick)===null||nt===void 0||nt.call(e,("href"in e,Re))},[e.onClick,se,G]),{compactSize:Se,compactItemClassnames:ae}=Kn(K,U),le={large:"lg",small:"sm",middle:void 0},ve=$i(Re=>{var nt,ut;return(ut=(nt=u??Se)!==null&&nt!==void 0?nt:Z)!==null&&ut!==void 0?ut:Re}),De=ve&&(i=le[ve])!==null&&i!==void 0?i:"",Ze=se?"loading":p,Pe=Ma(R,["navigate"]),Ke=pe(K,H,L,{[`${K}-${d}`]:d!=="default"&&d,[`${K}-${M}`]:M,[`${K}-dangerous`]:a,[`${K}-color-${F}`]:F,[`${K}-variant-${B}`]:B,[`${K}-${De}`]:De,[`${K}-icon-only`]:!c&&c!==0&&!!Ze,[`${K}-background-ghost`]:v&&!Vs(B),[`${K}-loading`]:se,[`${K}-two-chinese-chars`]:de&&j&&!se,[`${K}-block`]:_,[`${K}-rtl`]:U==="rtl",[`${K}-icon-end`]:l==="end"},ae,S,m,k),ze=Object.assign(Object.assign({},P),C),lt=pe(E?.icon,D.icon),we=Object.assign(Object.assign({},g?.icon||{}),V.icon||{}),Oe=p&&!se?ee.createElement(Wo,{prefixCls:K,className:lt,style:we},p):n&&typeof n=="object"&&n.icon?ee.createElement(Wo,{prefixCls:K,className:lt,style:we},n.icon):ee.createElement(Z0,{existIcon:!!p,prefixCls:K,loading:se,mount:Ge.current}),ge=c||c===0?J0(c,xe&&j):null;if(Pe.href!==void 0)return J(ee.createElement("a",Object.assign({},Pe,{className:pe(Ke,{[`${K}-disabled`]:G}),href:G?void 0:Pe.href,style:ze,onClick:Ee,ref:_e,tabIndex:G?-1:0}),Oe,ge));let $e=ee.createElement("button",Object.assign({},R,{type:w,className:Ke,style:ze,onClick:Ee,disabled:G,ref:_e}),Oe,ge,ae&&ee.createElement(Ib,{prefixCls:K}));return Vs(B)||($e=ee.createElement(q0,{component:"Button",disabled:se},$e)),J($e)}),Pa=Db;Pa.Group=X0;Pa.__ANT_BUTTON=!0;var yr="RC_FORM_INTERNAL_HOOKS",Le=function(){St(!1,"Can not find FormContext. Please make sure you wrap Field under Form.")},Kr=O.createContext({getFieldValue:Le,getFieldsValue:Le,getFieldError:Le,getFieldWarning:Le,getFieldsError:Le,isFieldsTouched:Le,isFieldTouched:Le,isFieldValidating:Le,isFieldsValidating:Le,resetFields:Le,setFields:Le,setFieldValue:Le,setFieldsValue:Le,validateFields:Le,submit:Le,getInternalHooks:function(){return Le(),{dispatch:Le,initEntityValue:Le,registerField:Le,useSubscribe:Le,setInitialValues:Le,destroyForm:Le,setCallbacks:Le,registerWatch:Le,getFields:Le,setValidateMessages:Le,setPreserve:Le,getInitialValue:Le}}}),Dn=O.createContext(null);function Uo(e){return e==null?[]:Array.isArray(e)?e:[e]}function $b(e){return e&&!!e._init}function qo(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){var t=JSON.parse(JSON.stringify(this));return t.clone=this.clone,t}}}var Go=qo();function Fb(e){try{return Function.toString.call(e).indexOf("[native code]")!==-1}catch{return typeof e=="function"}}function Hb(e,t,r){if(va())return Reflect.construct.apply(null,arguments);var i=[null];i.push.apply(i,t);var n=new(e.bind.apply(e,i));return r&&yi(n,r.prototype),n}function Ko(e){var t=typeof Map=="function"?new Map:void 0;return Ko=function(i){if(i===null||!Fb(i))return i;if(typeof i!="function")throw new TypeError("Super expression must either be null or a function");if(t!==void 0){if(t.has(i))return t.get(i);t.set(i,n)}function n(){return Hb(i,arguments,Si(this).constructor)}return n.prototype=Object.create(i.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),yi(n,i)},Ko(e)}var jb=/%[sdj%]/g,zb=function(){};function Xo(e){if(!e||!e.length)return null;var t={};return e.forEach(function(r){var i=r.field;t[i]=t[i]||[],t[i].push(r)}),t}function yt(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];var n=0,h=r.length;if(typeof e=="function")return e.apply(null,r);if(typeof e=="string"){var f=e.replace(jb,function(s){if(s==="%%")return"%";if(n>=h)return s;switch(s){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch{return"[Circular]"}break;default:return s}});return f}return e}function Nb(e){return e==="string"||e==="url"||e==="hex"||e==="email"||e==="date"||e==="pattern"}function Je(e,t){return!!(e==null||t==="array"&&Array.isArray(e)&&!e.length||Nb(t)&&typeof e=="string"&&!e)}function Vb(e,t,r){var i=[],n=0,h=e.length;function f(s){i.push.apply(i,ue(s||[])),n++,n===h&&r(i)}e.forEach(function(s){t(s,f)})}function Sl(e,t,r){var i=0,n=e.length;function h(f){if(f&&f.length){r(f);return}var s=i;i=i+1,s<n?t(e[s],h):r([])}h([])}function Wb(e){var t=[];return Object.keys(e).forEach(function(r){t.push.apply(t,ue(e[r]||[]))}),t}var Cl=function(e){ur(r,e);var t=hr(r);function r(i,n){var h;return rt(this,r),h=t.call(this,"Async Validation Error"),q(me(h),"errors",void 0),q(me(h),"fields",void 0),h.errors=i,h.fields=n,h}return it(r)}(Ko(Error));function Ub(e,t,r,i,n){if(t.first){var h=new Promise(function(g,b){var S=function(p){return i(p),p.length?b(new Cl(p,Xo(p))):g(n)},m=Wb(e);Sl(m,r,S)});return h.catch(function(g){return g}),h}var f=t.firstFields===!0?Object.keys(e):t.firstFields||[],s=Object.keys(e),o=s.length,a=0,d=[],u=new Promise(function(g,b){var S=function(c){if(d.push.apply(d,c),a++,a===o)return i(d),d.length?b(new Cl(d,Xo(d))):g(n)};s.length||(i(d),g(n)),s.forEach(function(m){var c=e[m];f.indexOf(m)!==-1?Sl(c,r,S):Vb(c,r,S)})});return u.catch(function(g){return g}),u}function qb(e){return!!(e&&e.message!==void 0)}function Gb(e,t){for(var r=e,i=0;i<t.length;i++){if(r==null)return r;r=r[t[i]]}return r}function wl(e,t){return function(r){var i;return e.fullFields?i=Gb(t,e.fullFields):i=t[r.field||e.fullField],qb(r)?(r.field=r.field||e.fullField,r.fieldValue=i,r):{message:typeof r=="function"?r():r,fieldValue:i,field:r.field||e.fullField}}}function El(e,t){if(t){for(var r in t)if(t.hasOwnProperty(r)){var i=t[r];he(i)==="object"&&he(e[r])==="object"?e[r]=Y(Y({},e[r]),i):e[r]=i}}return e}var Br="enum",Kb=function(t,r,i,n,h){t[Br]=Array.isArray(t[Br])?t[Br]:[],t[Br].indexOf(r)===-1&&n.push(yt(h.messages[Br],t.fullField,t[Br].join(", ")))},Xb=function(t,r,i,n,h){if(t.pattern){if(t.pattern instanceof RegExp)t.pattern.lastIndex=0,t.pattern.test(r)||n.push(yt(h.messages.pattern.mismatch,t.fullField,r,t.pattern));else if(typeof t.pattern=="string"){var f=new RegExp(t.pattern);f.test(r)||n.push(yt(h.messages.pattern.mismatch,t.fullField,r,t.pattern))}}},Yb=function(t,r,i,n,h){var f=typeof t.len=="number",s=typeof t.min=="number",o=typeof t.max=="number",a=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,d=r,u=null,g=typeof r=="number",b=typeof r=="string",S=Array.isArray(r);if(g?u="number":b?u="string":S&&(u="array"),!u)return!1;S&&(d=r.length),b&&(d=r.replace(a,"_").length),f?d!==t.len&&n.push(yt(h.messages[u].len,t.fullField,t.len)):s&&!o&&d<t.min?n.push(yt(h.messages[u].min,t.fullField,t.min)):o&&!s&&d>t.max?n.push(yt(h.messages[u].max,t.fullField,t.max)):s&&o&&(d<t.min||d>t.max)&&n.push(yt(h.messages[u].range,t.fullField,t.min,t.max))},Yh=function(t,r,i,n,h,f){t.required&&(!i.hasOwnProperty(t.field)||Je(r,f||t.type))&&n.push(yt(h.messages.required,t.fullField))},hn;const Jb=function(){if(hn)return hn;var e="[a-fA-F\\d:]",t=function(E){return E&&E.includeBoundaries?"(?:(?<=\\s|^)(?=".concat(e,")|(?<=").concat(e,")(?=\\s|$))"):""},r="(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}",i="[a-fA-F\\d]{1,4}",n=["(?:".concat(i,":){7}(?:").concat(i,"|:)"),"(?:".concat(i,":){6}(?:").concat(r,"|:").concat(i,"|:)"),"(?:".concat(i,":){5}(?::").concat(r,"|(?::").concat(i,"){1,2}|:)"),"(?:".concat(i,":){4}(?:(?::").concat(i,"){0,1}:").concat(r,"|(?::").concat(i,"){1,3}|:)"),"(?:".concat(i,":){3}(?:(?::").concat(i,"){0,2}:").concat(r,"|(?::").concat(i,"){1,4}|:)"),"(?:".concat(i,":){2}(?:(?::").concat(i,"){0,3}:").concat(r,"|(?::").concat(i,"){1,5}|:)"),"(?:".concat(i,":){1}(?:(?::").concat(i,"){0,4}:").concat(r,"|(?::").concat(i,"){1,6}|:)"),"(?::(?:(?::".concat(i,"){0,5}:").concat(r,"|(?::").concat(i,"){1,7}|:))")],h="(?:%[0-9a-zA-Z]{1,})?",f="(?:".concat(n.join("|"),")").concat(h),s=new RegExp("(?:^".concat(r,"$)|(?:^").concat(f,"$)")),o=new RegExp("^".concat(r,"$")),a=new RegExp("^".concat(f,"$")),d=function(E){return E&&E.exact?s:new RegExp("(?:".concat(t(E)).concat(r).concat(t(E),")|(?:").concat(t(E)).concat(f).concat(t(E),")"),"g")};d.v4=function(w){return w&&w.exact?o:new RegExp("".concat(t(w)).concat(r).concat(t(w)),"g")},d.v6=function(w){return w&&w.exact?a:new RegExp("".concat(t(w)).concat(f).concat(t(w)),"g")};var u="(?:(?:[a-z]+:)?//)",g="(?:\\S+(?::\\S*)?@)?",b=d.v4().source,S=d.v6().source,m="(?:(?:[a-z\\u00a1-\\uffff0-9][-_]*)*[a-z\\u00a1-\\uffff0-9]+)",c="(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*",p="(?:\\.(?:[a-z\\u00a1-\\uffff]{2,}))",l="(?::\\d{2,5})?",v='(?:[/?#][^\\s"]*)?',_="(?:".concat(u,"|www\\.)").concat(g,"(?:localhost|").concat(b,"|").concat(S,"|").concat(m).concat(c).concat(p,")").concat(l).concat(v);return hn=new RegExp("(?:^".concat(_,"$)"),"i"),hn};var xl={email:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+\.)+[a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}))$/,hex:/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i},di={integer:function(t){return di.number(t)&&parseInt(t,10)===t},float:function(t){return di.number(t)&&!di.integer(t)},array:function(t){return Array.isArray(t)},regexp:function(t){if(t instanceof RegExp)return!0;try{return!!new RegExp(t)}catch{return!1}},date:function(t){return typeof t.getTime=="function"&&typeof t.getMonth=="function"&&typeof t.getYear=="function"&&!isNaN(t.getTime())},number:function(t){return isNaN(t)?!1:typeof t=="number"},object:function(t){return he(t)==="object"&&!di.array(t)},method:function(t){return typeof t=="function"},email:function(t){return typeof t=="string"&&t.length<=320&&!!t.match(xl.email)},url:function(t){return typeof t=="string"&&t.length<=2048&&!!t.match(Jb())},hex:function(t){return typeof t=="string"&&!!t.match(xl.hex)}},Zb=function(t,r,i,n,h){if(t.required&&r===void 0){Yh(t,r,i,n,h);return}var f=["integer","float","array","regexp","object","method","email","number","date","url","hex"],s=t.type;f.indexOf(s)>-1?di[s](r)||n.push(yt(h.messages.types[s],t.fullField,t.type)):s&&he(r)!==t.type&&n.push(yt(h.messages.types[s],t.fullField,t.type))},Qb=function(t,r,i,n,h){(/^\s+$/.test(r)||r==="")&&n.push(yt(h.messages.whitespace,t.fullField))};const ye={required:Yh,whitespace:Qb,type:Zb,range:Yb,enum:Kb,pattern:Xb};var ey=function(t,r,i,n,h){var f=[],s=t.required||!t.required&&n.hasOwnProperty(t.field);if(s){if(Je(r)&&!t.required)return i();ye.required(t,r,n,f,h)}i(f)},ty=function(t,r,i,n,h){var f=[],s=t.required||!t.required&&n.hasOwnProperty(t.field);if(s){if(r==null&&!t.required)return i();ye.required(t,r,n,f,h,"array"),r!=null&&(ye.type(t,r,n,f,h),ye.range(t,r,n,f,h))}i(f)},ry=function(t,r,i,n,h){var f=[],s=t.required||!t.required&&n.hasOwnProperty(t.field);if(s){if(Je(r)&&!t.required)return i();ye.required(t,r,n,f,h),r!==void 0&&ye.type(t,r,n,f,h)}i(f)},iy=function(t,r,i,n,h){var f=[],s=t.required||!t.required&&n.hasOwnProperty(t.field);if(s){if(Je(r,"date")&&!t.required)return i();if(ye.required(t,r,n,f,h),!Je(r,"date")){var o;r instanceof Date?o=r:o=new Date(r),ye.type(t,o,n,f,h),o&&ye.range(t,o.getTime(),n,f,h)}}i(f)},ny="enum",sy=function(t,r,i,n,h){var f=[],s=t.required||!t.required&&n.hasOwnProperty(t.field);if(s){if(Je(r)&&!t.required)return i();ye.required(t,r,n,f,h),r!==void 0&&ye[ny](t,r,n,f,h)}i(f)},oy=function(t,r,i,n,h){var f=[],s=t.required||!t.required&&n.hasOwnProperty(t.field);if(s){if(Je(r)&&!t.required)return i();ye.required(t,r,n,f,h),r!==void 0&&(ye.type(t,r,n,f,h),ye.range(t,r,n,f,h))}i(f)},ay=function(t,r,i,n,h){var f=[],s=t.required||!t.required&&n.hasOwnProperty(t.field);if(s){if(Je(r)&&!t.required)return i();ye.required(t,r,n,f,h),r!==void 0&&(ye.type(t,r,n,f,h),ye.range(t,r,n,f,h))}i(f)},cy=function(t,r,i,n,h){var f=[],s=t.required||!t.required&&n.hasOwnProperty(t.field);if(s){if(Je(r)&&!t.required)return i();ye.required(t,r,n,f,h),r!==void 0&&ye.type(t,r,n,f,h)}i(f)},ly=function(t,r,i,n,h){var f=[],s=t.required||!t.required&&n.hasOwnProperty(t.field);if(s){if(r===""&&(r=void 0),Je(r)&&!t.required)return i();ye.required(t,r,n,f,h),r!==void 0&&(ye.type(t,r,n,f,h),ye.range(t,r,n,f,h))}i(f)},uy=function(t,r,i,n,h){var f=[],s=t.required||!t.required&&n.hasOwnProperty(t.field);if(s){if(Je(r)&&!t.required)return i();ye.required(t,r,n,f,h),r!==void 0&&ye.type(t,r,n,f,h)}i(f)},hy=function(t,r,i,n,h){var f=[],s=t.required||!t.required&&n.hasOwnProperty(t.field);if(s){if(Je(r,"string")&&!t.required)return i();ye.required(t,r,n,f,h),Je(r,"string")||ye.pattern(t,r,n,f,h)}i(f)},dy=function(t,r,i,n,h){var f=[],s=t.required||!t.required&&n.hasOwnProperty(t.field);if(s){if(Je(r)&&!t.required)return i();ye.required(t,r,n,f,h),Je(r)||ye.type(t,r,n,f,h)}i(f)},fy=function(t,r,i,n,h){var f=[],s=Array.isArray(r)?"array":he(r);ye.required(t,r,n,f,h,s),i(f)},py=function(t,r,i,n,h){var f=[],s=t.required||!t.required&&n.hasOwnProperty(t.field);if(s){if(Je(r,"string")&&!t.required)return i();ye.required(t,r,n,f,h,"string"),Je(r,"string")||(ye.type(t,r,n,f,h),ye.range(t,r,n,f,h),ye.pattern(t,r,n,f,h),t.whitespace===!0&&ye.whitespace(t,r,n,f,h))}i(f)},Gs=function(t,r,i,n,h){var f=t.type,s=[],o=t.required||!t.required&&n.hasOwnProperty(t.field);if(o){if(Je(r,f)&&!t.required)return i();ye.required(t,r,n,s,h,f),Je(r,f)||ye.type(t,r,n,s,h)}i(s)};const mi={string:py,method:cy,number:ly,boolean:ry,regexp:dy,integer:ay,float:oy,array:ty,object:uy,enum:sy,pattern:hy,date:iy,url:Gs,hex:Gs,email:Gs,required:fy,any:ey};var Fi=function(){function e(t){rt(this,e),q(this,"rules",null),q(this,"_messages",Go),this.define(t)}return it(e,[{key:"define",value:function(r){var i=this;if(!r)throw new Error("Cannot configure a schema with no rules");if(he(r)!=="object"||Array.isArray(r))throw new Error("Rules must be an object");this.rules={},Object.keys(r).forEach(function(n){var h=r[n];i.rules[n]=Array.isArray(h)?h:[h]})}},{key:"messages",value:function(r){return r&&(this._messages=El(qo(),r)),this._messages}},{key:"validate",value:function(r){var i=this,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:function(){},f=r,s=n,o=h;if(typeof s=="function"&&(o=s,s={}),!this.rules||Object.keys(this.rules).length===0)return o&&o(null,f),Promise.resolve(f);function a(S){var m=[],c={};function p(v){if(Array.isArray(v)){var _;m=(_=m).concat.apply(_,ue(v))}else m.push(v)}for(var l=0;l<S.length;l++)p(S[l]);m.length?(c=Xo(m),o(m,c)):o(null,f)}if(s.messages){var d=this.messages();d===Go&&(d=qo()),El(d,s.messages),s.messages=d}else s.messages=this.messages();var u={},g=s.keys||Object.keys(this.rules);g.forEach(function(S){var m=i.rules[S],c=f[S];m.forEach(function(p){var l=p;typeof l.transform=="function"&&(f===r&&(f=Y({},f)),c=f[S]=l.transform(c),c!=null&&(l.type=l.type||(Array.isArray(c)?"array":he(c)))),typeof l=="function"?l={validator:l}:l=Y({},l),l.validator=i.getValidationMethod(l),l.validator&&(l.field=S,l.fullField=l.fullField||S,l.type=i.getType(l),u[S]=u[S]||[],u[S].push({rule:l,value:c,source:f,field:S}))})});var b={};return Ub(u,s,function(S,m){var c=S.rule,p=(c.type==="object"||c.type==="array")&&(he(c.fields)==="object"||he(c.defaultField)==="object");p=p&&(c.required||!c.required&&S.value),c.field=S.field;function l(C,y){return Y(Y({},y),{},{fullField:"".concat(c.fullField,".").concat(C),fullFields:c.fullFields?[].concat(ue(c.fullFields),[C]):[C]})}function v(){var C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],y=Array.isArray(C)?C:[C];!s.suppressWarning&&y.length&&e.warning("async-validator:",y),y.length&&c.message!==void 0&&(y=[].concat(c.message));var x=y.map(wl(c,f));if(s.first&&x.length)return b[c.field]=1,m(x);if(!p)m(x);else{if(c.required&&!S.value)return c.message!==void 0?x=[].concat(c.message).map(wl(c,f)):s.error&&(x=[s.error(c,yt(s.messages.required,c.field))]),m(x);var R={};c.defaultField&&Object.keys(S.value).map(function(T){R[T]=c.defaultField}),R=Y(Y({},R),S.rule.fields);var M={};Object.keys(R).forEach(function(T){var B=R[T],$=Array.isArray(B)?B:[B];M[T]=$.map(l.bind(null,T))});var I=new e(M);I.messages(s.messages),S.rule.options&&(S.rule.options.messages=s.messages,S.rule.options.error=s.error),I.validate(S.value,S.rule.options||s,function(T){var B=[];x&&x.length&&B.push.apply(B,ue(x)),T&&T.length&&B.push.apply(B,ue(T)),m(B.length?B:null)})}}var _;if(c.asyncValidator)_=c.asyncValidator(c,S.value,v,S.source,s);else if(c.validator){try{_=c.validator(c,S.value,v,S.source,s)}catch(C){var w,E;(w=(E=console).error)===null||w===void 0||w.call(E,C),s.suppressValidatorError||setTimeout(function(){throw C},0),v(C.message)}_===!0?v():_===!1?v(typeof c.message=="function"?c.message(c.fullField||c.field):c.message||"".concat(c.fullField||c.field," fails")):_ instanceof Array?v(_):_ instanceof Error&&v(_.message)}_&&_.then&&_.then(function(){return v()},function(C){return v(C)})},function(S){a(S)},f)}},{key:"getType",value:function(r){if(r.type===void 0&&r.pattern instanceof RegExp&&(r.type="pattern"),typeof r.validator!="function"&&r.type&&!mi.hasOwnProperty(r.type))throw new Error(yt("Unknown rule type %s",r.type));return r.type||"string"}},{key:"getValidationMethod",value:function(r){if(typeof r.validator=="function")return r.validator;var i=Object.keys(r),n=i.indexOf("message");return n!==-1&&i.splice(n,1),i.length===1&&i[0]==="required"?mi.required:mi[this.getType(r)]||void 0}}]),e}();q(Fi,"register",function(t,r){if(typeof r!="function")throw new Error("Cannot register a validator by type, validator is not a function");mi[t]=r});q(Fi,"warning",zb);q(Fi,"messages",Go);q(Fi,"validators",mi);var gt="'${name}' is not a valid ${type}",Jh={default:"Validation error on field '${name}'",required:"'${name}' is required",enum:"'${name}' must be one of [${enum}]",whitespace:"'${name}' cannot be empty",date:{format:"'${name}' is invalid for format date",parse:"'${name}' could not be parsed as date",invalid:"'${name}' is invalid date"},types:{string:gt,method:gt,array:gt,object:gt,number:gt,date:gt,boolean:gt,integer:gt,float:gt,regexp:gt,email:gt,url:gt,hex:gt},string:{len:"'${name}' must be exactly ${len} characters",min:"'${name}' must be at least ${min} characters",max:"'${name}' cannot be longer than ${max} characters",range:"'${name}' must be between ${min} and ${max} characters"},number:{len:"'${name}' must equal ${len}",min:"'${name}' cannot be less than ${min}",max:"'${name}' cannot be greater than ${max}",range:"'${name}' must be between ${min} and ${max}"},array:{len:"'${name}' must be exactly ${len} in length",min:"'${name}' cannot be less than ${min} in length",max:"'${name}' cannot be greater than ${max} in length",range:"'${name}' must be between ${min} and ${max} in length"},pattern:{mismatch:"'${name}' does not match pattern ${pattern}"}},Rl=Fi;function vy(e,t){return e.replace(/\\?\$\{\w+\}/g,function(r){if(r.startsWith("\\"))return r.slice(1);var i=r.slice(2,-1);return t[i]})}var Ol="CODE_LOGIC_ERROR";function Yo(e,t,r,i,n){return Jo.apply(this,arguments)}function Jo(){return Jo=Or(ot().mark(function e(t,r,i,n,h){var f,s,o,a,d,u,g,b,S;return ot().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return f=Y({},i),delete f.ruleIndex,Rl.warning=function(){},f.validator&&(s=f.validator,f.validator=function(){try{return s.apply(void 0,arguments)}catch(p){return console.error(p),Promise.reject(Ol)}}),o=null,f&&f.type==="array"&&f.defaultField&&(o=f.defaultField,delete f.defaultField),a=new Rl(q({},t,[f])),d=Fr(Jh,n.validateMessages),a.messages(d),u=[],c.prev=10,c.next=13,Promise.resolve(a.validate(q({},t,r),Y({},n)));case 13:c.next=18;break;case 15:c.prev=15,c.t0=c.catch(10),c.t0.errors&&(u=c.t0.errors.map(function(p,l){var v=p.message,_=v===Ol?d.default:v;return O.isValidElement(_)?O.cloneElement(_,{key:"error_".concat(l)}):_}));case 18:if(!(!u.length&&o)){c.next=23;break}return c.next=21,Promise.all(r.map(function(p,l){return Yo("".concat(t,".").concat(l),p,o,n,h)}));case 21:return g=c.sent,c.abrupt("return",g.reduce(function(p,l){return[].concat(ue(p),ue(l))},[]));case 23:return b=Y(Y({},i),{},{name:t,enum:(i.enum||[]).join(", ")},h),S=u.map(function(p){return typeof p=="string"?vy(p,b):p}),c.abrupt("return",S);case 26:case"end":return c.stop()}},e,null,[[10,15]])})),Jo.apply(this,arguments)}function gy(e,t,r,i,n,h){var f=e.join("."),s=r.map(function(d,u){var g=d.validator,b=Y(Y({},d),{},{ruleIndex:u});return g&&(b.validator=function(S,m,c){var p=!1,l=function(){for(var w=arguments.length,E=new Array(w),C=0;C<w;C++)E[C]=arguments[C];Promise.resolve().then(function(){St(!p,"Your validator function has already return a promise. `callback` will be ignored."),p||c.apply(void 0,E)})},v=g(S,m,l);p=v&&typeof v.then=="function"&&typeof v.catch=="function",St(p,"`callback` is deprecated. Please return a promise instead."),p&&v.then(function(){c()}).catch(function(_){c(_||" ")})}),b}).sort(function(d,u){var g=d.warningOnly,b=d.ruleIndex,S=u.warningOnly,m=u.ruleIndex;return!!g==!!S?b-m:g?1:-1}),o;if(n===!0)o=new Promise(function(){var d=Or(ot().mark(function u(g,b){var S,m,c;return ot().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:S=0;case 1:if(!(S<s.length)){l.next=12;break}return m=s[S],l.next=5,Yo(f,t,m,i,h);case 5:if(c=l.sent,!c.length){l.next=9;break}return b([{errors:c,rule:m}]),l.abrupt("return");case 9:S+=1,l.next=1;break;case 12:g([]);case 13:case"end":return l.stop()}},u)}));return function(u,g){return d.apply(this,arguments)}}());else{var a=s.map(function(d){return Yo(f,t,d,i,h).then(function(u){return{errors:u,rule:d}})});o=(n?_y(a):my(a)).then(function(d){return Promise.reject(d)})}return o.catch(function(d){return d}),o}function my(e){return Zo.apply(this,arguments)}function Zo(){return Zo=Or(ot().mark(function e(t){return ot().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",Promise.all(t).then(function(n){var h,f=(h=[]).concat.apply(h,ue(n));return f}));case 1:case"end":return i.stop()}},e)})),Zo.apply(this,arguments)}function _y(e){return Qo.apply(this,arguments)}function Qo(){return Qo=Or(ot().mark(function e(t){var r;return ot().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r=0,n.abrupt("return",new Promise(function(h){t.forEach(function(f){f.then(function(s){s.errors.length&&h([s]),r+=1,r===t.length&&h([])})})}));case 2:case"end":return n.stop()}},e)})),Qo.apply(this,arguments)}function Ve(e){return Uo(e)}function Al(e,t){var r={};return t.forEach(function(i){var n=zt(e,i);r=Bt(r,i,n)}),r}function Nr(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return e&&e.some(function(i){return Zh(t,i,r)})}function Zh(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return!e||!t||!r&&e.length!==t.length?!1:t.every(function(i,n){return e[n]===i})}function by(e,t){if(e===t)return!0;if(!e&&t||e&&!t||!e||!t||he(e)!=="object"||he(t)!=="object")return!1;var r=Object.keys(e),i=Object.keys(t),n=new Set([].concat(r,i));return ue(n).every(function(h){var f=e[h],s=t[h];return typeof f=="function"&&typeof s=="function"?!0:f===s})}function yy(e){var t=arguments.length<=1?void 0:arguments[1];return t&&t.target&&he(t.target)==="object"&&e in t.target?t.target[e]:t}function Tl(e,t,r){var i=e.length;if(t<0||t>=i||r<0||r>=i)return e;var n=e[t],h=t-r;return h>0?[].concat(ue(e.slice(0,r)),[n],ue(e.slice(r,t)),ue(e.slice(t+1,i))):h<0?[].concat(ue(e.slice(0,t)),ue(e.slice(t+1,r+1)),[n],ue(e.slice(r+1,i))):e}var Sy=["name"],Rt=[];function Ks(e,t,r,i,n,h){return typeof e=="function"?e(t,r,"source"in h?{source:h.source}:{}):i!==n}var ka=function(e){ur(r,e);var t=hr(r);function r(i){var n;if(rt(this,r),n=t.call(this,i),q(me(n),"state",{resetCount:0}),q(me(n),"cancelRegisterFunc",null),q(me(n),"mounted",!1),q(me(n),"touched",!1),q(me(n),"dirty",!1),q(me(n),"validatePromise",void 0),q(me(n),"prevValidating",void 0),q(me(n),"errors",Rt),q(me(n),"warnings",Rt),q(me(n),"cancelRegister",function(){var o=n.props,a=o.preserve,d=o.isListField,u=o.name;n.cancelRegisterFunc&&n.cancelRegisterFunc(d,a,Ve(u)),n.cancelRegisterFunc=null}),q(me(n),"getNamePath",function(){var o=n.props,a=o.name,d=o.fieldContext,u=d.prefixName,g=u===void 0?[]:u;return a!==void 0?[].concat(ue(g),ue(a)):[]}),q(me(n),"getRules",function(){var o=n.props,a=o.rules,d=a===void 0?[]:a,u=o.fieldContext;return d.map(function(g){return typeof g=="function"?g(u):g})}),q(me(n),"refresh",function(){n.mounted&&n.setState(function(o){var a=o.resetCount;return{resetCount:a+1}})}),q(me(n),"metaCache",null),q(me(n),"triggerMetaEvent",function(o){var a=n.props.onMetaChange;if(a){var d=Y(Y({},n.getMeta()),{},{destroy:o});vo(n.metaCache,d)||a(d),n.metaCache=d}else n.metaCache=null}),q(me(n),"onStoreChange",function(o,a,d){var u=n.props,g=u.shouldUpdate,b=u.dependencies,S=b===void 0?[]:b,m=u.onReset,c=d.store,p=n.getNamePath(),l=n.getValue(o),v=n.getValue(c),_=a&&Nr(a,p);switch(d.type==="valueUpdate"&&d.source==="external"&&!vo(l,v)&&(n.touched=!0,n.dirty=!0,n.validatePromise=null,n.errors=Rt,n.warnings=Rt,n.triggerMetaEvent()),d.type){case"reset":if(!a||_){n.touched=!1,n.dirty=!1,n.validatePromise=void 0,n.errors=Rt,n.warnings=Rt,n.triggerMetaEvent(),m?.(),n.refresh();return}break;case"remove":{if(g&&Ks(g,o,c,l,v,d)){n.reRender();return}break}case"setField":{var w=d.data;if(_){"touched"in w&&(n.touched=w.touched),"validating"in w&&!("originRCField"in w)&&(n.validatePromise=w.validating?Promise.resolve([]):null),"errors"in w&&(n.errors=w.errors||Rt),"warnings"in w&&(n.warnings=w.warnings||Rt),n.dirty=!0,n.triggerMetaEvent(),n.reRender();return}else if("value"in w&&Nr(a,p,!0)){n.reRender();return}if(g&&!p.length&&Ks(g,o,c,l,v,d)){n.reRender();return}break}case"dependenciesUpdate":{var E=S.map(Ve);if(E.some(function(C){return Nr(d.relatedFields,C)})){n.reRender();return}break}default:if(_||(!S.length||p.length||g)&&Ks(g,o,c,l,v,d)){n.reRender();return}break}g===!0&&n.reRender()}),q(me(n),"validateRules",function(o){var a=n.getNamePath(),d=n.getValue(),u=o||{},g=u.triggerName,b=u.validateOnly,S=b===void 0?!1:b,m=Promise.resolve().then(Or(ot().mark(function c(){var p,l,v,_,w,E,C;return ot().wrap(function(x){for(;;)switch(x.prev=x.next){case 0:if(n.mounted){x.next=2;break}return x.abrupt("return",[]);case 2:if(p=n.props,l=p.validateFirst,v=l===void 0?!1:l,_=p.messageVariables,w=p.validateDebounce,E=n.getRules(),g&&(E=E.filter(function(R){return R}).filter(function(R){var M=R.validateTrigger;if(!M)return!0;var I=Uo(M);return I.includes(g)})),!(w&&g)){x.next=10;break}return x.next=8,new Promise(function(R){setTimeout(R,w)});case 8:if(n.validatePromise===m){x.next=10;break}return x.abrupt("return",[]);case 10:return C=gy(a,d,E,o,v,_),C.catch(function(R){return R}).then(function(){var R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Rt;if(n.validatePromise===m){var M;n.validatePromise=null;var I=[],T=[];(M=R.forEach)===null||M===void 0||M.call(R,function(B){var $=B.rule.warningOnly,F=B.errors,z=F===void 0?Rt:F;$?T.push.apply(T,ue(z)):I.push.apply(I,ue(z))}),n.errors=I,n.warnings=T,n.triggerMetaEvent(),n.reRender()}}),x.abrupt("return",C);case 13:case"end":return x.stop()}},c)})));return S||(n.validatePromise=m,n.dirty=!0,n.errors=Rt,n.warnings=Rt,n.triggerMetaEvent(),n.reRender()),m}),q(me(n),"isFieldValidating",function(){return!!n.validatePromise}),q(me(n),"isFieldTouched",function(){return n.touched}),q(me(n),"isFieldDirty",function(){if(n.dirty||n.props.initialValue!==void 0)return!0;var o=n.props.fieldContext,a=o.getInternalHooks(yr),d=a.getInitialValue;return d(n.getNamePath())!==void 0}),q(me(n),"getErrors",function(){return n.errors}),q(me(n),"getWarnings",function(){return n.warnings}),q(me(n),"isListField",function(){return n.props.isListField}),q(me(n),"isList",function(){return n.props.isList}),q(me(n),"isPreserve",function(){return n.props.preserve}),q(me(n),"getMeta",function(){n.prevValidating=n.isFieldValidating();var o={touched:n.isFieldTouched(),validating:n.prevValidating,errors:n.errors,warnings:n.warnings,name:n.getNamePath(),validated:n.validatePromise===null};return o}),q(me(n),"getOnlyChild",function(o){if(typeof o=="function"){var a=n.getMeta();return Y(Y({},n.getOnlyChild(o(n.getControlled(),a,n.props.fieldContext))),{},{isFunction:!0})}var d=On(o);return d.length!==1||!O.isValidElement(d[0])?{child:d,isFunction:!1}:{child:d[0],isFunction:!1}}),q(me(n),"getValue",function(o){var a=n.props.fieldContext.getFieldsValue,d=n.getNamePath();return zt(o||a(!0),d)}),q(me(n),"getControlled",function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a=n.props,d=a.name,u=a.trigger,g=a.validateTrigger,b=a.getValueFromEvent,S=a.normalize,m=a.valuePropName,c=a.getValueProps,p=a.fieldContext,l=g!==void 0?g:p.validateTrigger,v=n.getNamePath(),_=p.getInternalHooks,w=p.getFieldsValue,E=_(yr),C=E.dispatch,y=n.getValue(),x=c||function(B){return q({},m,B)},R=o[u],M=d!==void 0?x(y):{},I=Y(Y({},o),M);I[u]=function(){n.touched=!0,n.dirty=!0,n.triggerMetaEvent();for(var B,$=arguments.length,F=new Array($),z=0;z<$;z++)F[z]=arguments[z];b?B=b.apply(void 0,F):B=yy.apply(void 0,[m].concat(F)),S&&(B=S(B,y,w(!0))),B!==y&&C({type:"updateValue",namePath:v,value:B}),R&&R.apply(void 0,F)};var T=Uo(l||[]);return T.forEach(function(B){var $=I[B];I[B]=function(){$&&$.apply(void 0,arguments);var F=n.props.rules;F&&F.length&&C({type:"validateField",namePath:v,triggerName:B})}}),I}),i.fieldContext){var h=i.fieldContext.getInternalHooks,f=h(yr),s=f.initEntityValue;s(me(n))}return n}return it(r,[{key:"componentDidMount",value:function(){var n=this.props,h=n.shouldUpdate,f=n.fieldContext;if(this.mounted=!0,f){var s=f.getInternalHooks,o=s(yr),a=o.registerField;this.cancelRegisterFunc=a(this)}h===!0&&this.reRender()}},{key:"componentWillUnmount",value:function(){this.cancelRegister(),this.triggerMetaEvent(!0),this.mounted=!1}},{key:"reRender",value:function(){this.mounted&&this.forceUpdate()}},{key:"render",value:function(){var n=this.state.resetCount,h=this.props.children,f=this.getOnlyChild(h),s=f.child,o=f.isFunction,a;return o?a=s:O.isValidElement(s)?a=O.cloneElement(s,this.getControlled(s.props)):(St(!s,"`children` of Field is not validate ReactElement."),a=s),O.createElement(O.Fragment,{key:n},a)}}]),r}(O.Component);q(ka,"contextType",Kr);q(ka,"defaultProps",{trigger:"onChange",valuePropName:"value"});function Qh(e){var t,r=e.name,i=ht(e,Sy),n=O.useContext(Kr),h=O.useContext(Dn),f=r!==void 0?Ve(r):void 0,s=(t=i.isListField)!==null&&t!==void 0?t:!!h,o="keep";return s||(o="_".concat((f||[]).join("_"))),O.createElement(ka,et({key:o,name:f,isListField:s},i,{fieldContext:n}))}function Cy(e){var t=e.name,r=e.initialValue,i=e.children,n=e.rules,h=e.validateTrigger,f=e.isListField,s=O.useContext(Kr),o=O.useContext(Dn),a=O.useRef({keys:[],id:0}),d=a.current,u=O.useMemo(function(){var m=Ve(s.prefixName)||[];return[].concat(ue(m),ue(Ve(t)))},[s.prefixName,t]),g=O.useMemo(function(){return Y(Y({},s),{},{prefixName:u})},[s,u]),b=O.useMemo(function(){return{getKey:function(c){var p=u.length,l=c[p];return[d.keys[l],c.slice(p+1)]}}},[u]);if(typeof i!="function")return St(!1,"Form.List only accepts function as children."),null;var S=function(c,p,l){var v=l.source;return v==="internal"?!1:c!==p};return O.createElement(Dn.Provider,{value:b},O.createElement(Kr.Provider,{value:g},O.createElement(Qh,{name:[],shouldUpdate:S,rules:n,validateTrigger:h,initialValue:r,isList:!0,isListField:f??!!o},function(m,c){var p=m.value,l=p===void 0?[]:p,v=m.onChange,_=s.getFieldValue,w=function(){var x=_(u||[]);return x||[]},E={add:function(x,R){var M=w();R>=0&&R<=M.length?(d.keys=[].concat(ue(d.keys.slice(0,R)),[d.id],ue(d.keys.slice(R))),v([].concat(ue(M.slice(0,R)),[x],ue(M.slice(R))))):(d.keys=[].concat(ue(d.keys),[d.id]),v([].concat(ue(M),[x]))),d.id+=1},remove:function(x){var R=w(),M=new Set(Array.isArray(x)?x:[x]);M.size<=0||(d.keys=d.keys.filter(function(I,T){return!M.has(T)}),v(R.filter(function(I,T){return!M.has(T)})))},move:function(x,R){if(x!==R){var M=w();x<0||x>=M.length||R<0||R>=M.length||(d.keys=Tl(d.keys,x,R),v(Tl(M,x,R)))}}},C=l||[];return Array.isArray(C)||(C=[]),i(C.map(function(y,x){var R=d.keys[x];return R===void 0&&(d.keys[x]=d.id,R=d.keys[x],d.id+=1),{name:x,key:R,isListField:!0}}),E,c)})))}function wy(e){var t=!1,r=e.length,i=[];return e.length?new Promise(function(n,h){e.forEach(function(f,s){f.catch(function(o){return t=!0,o}).then(function(o){r-=1,i[s]=o,!(r>0)&&(t&&h(i),n(i))})})}):Promise.resolve([])}var ed="__@field_split__";function Xs(e){return e.map(function(t){return"".concat(he(t),":").concat(t)}).join(ed)}var Dr=function(){function e(){rt(this,e),q(this,"kvs",new Map)}return it(e,[{key:"set",value:function(r,i){this.kvs.set(Xs(r),i)}},{key:"get",value:function(r){return this.kvs.get(Xs(r))}},{key:"update",value:function(r,i){var n=this.get(r),h=i(n);h?this.set(r,h):this.delete(r)}},{key:"delete",value:function(r){this.kvs.delete(Xs(r))}},{key:"map",value:function(r){return ue(this.kvs.entries()).map(function(i){var n=ce(i,2),h=n[0],f=n[1],s=h.split(ed);return r({key:s.map(function(o){var a=o.match(/^([^:]*):(.*)$/),d=ce(a,3),u=d[1],g=d[2];return u==="number"?Number(g):g}),value:f})})}},{key:"toJSON",value:function(){var r={};return this.map(function(i){var n=i.key,h=i.value;return r[n.join(".")]=h,null}),r}}]),e}(),Ey=["name"],xy=it(function e(t){var r=this;rt(this,e),q(this,"formHooked",!1),q(this,"forceRootUpdate",void 0),q(this,"subscribable",!0),q(this,"store",{}),q(this,"fieldEntities",[]),q(this,"initialValues",{}),q(this,"callbacks",{}),q(this,"validateMessages",null),q(this,"preserve",null),q(this,"lastValidatePromise",null),q(this,"getForm",function(){return{getFieldValue:r.getFieldValue,getFieldsValue:r.getFieldsValue,getFieldError:r.getFieldError,getFieldWarning:r.getFieldWarning,getFieldsError:r.getFieldsError,isFieldsTouched:r.isFieldsTouched,isFieldTouched:r.isFieldTouched,isFieldValidating:r.isFieldValidating,isFieldsValidating:r.isFieldsValidating,resetFields:r.resetFields,setFields:r.setFields,setFieldValue:r.setFieldValue,setFieldsValue:r.setFieldsValue,validateFields:r.validateFields,submit:r.submit,_init:!0,getInternalHooks:r.getInternalHooks}}),q(this,"getInternalHooks",function(i){return i===yr?(r.formHooked=!0,{dispatch:r.dispatch,initEntityValue:r.initEntityValue,registerField:r.registerField,useSubscribe:r.useSubscribe,setInitialValues:r.setInitialValues,destroyForm:r.destroyForm,setCallbacks:r.setCallbacks,setValidateMessages:r.setValidateMessages,getFields:r.getFields,setPreserve:r.setPreserve,getInitialValue:r.getInitialValue,registerWatch:r.registerWatch}):(St(!1,"`getInternalHooks` is internal usage. Should not call directly."),null)}),q(this,"useSubscribe",function(i){r.subscribable=i}),q(this,"prevWithoutPreserves",null),q(this,"setInitialValues",function(i,n){if(r.initialValues=i||{},n){var h,f=Fr(i,r.store);(h=r.prevWithoutPreserves)===null||h===void 0||h.map(function(s){var o=s.key;f=Bt(f,o,zt(i,o))}),r.prevWithoutPreserves=null,r.updateStore(f)}}),q(this,"destroyForm",function(i){if(i)r.updateStore({});else{var n=new Dr;r.getFieldEntities(!0).forEach(function(h){r.isMergedPreserve(h.isPreserve())||n.set(h.getNamePath(),!0)}),r.prevWithoutPreserves=n}}),q(this,"getInitialValue",function(i){var n=zt(r.initialValues,i);return i.length?Fr(n):n}),q(this,"setCallbacks",function(i){r.callbacks=i}),q(this,"setValidateMessages",function(i){r.validateMessages=i}),q(this,"setPreserve",function(i){r.preserve=i}),q(this,"watchList",[]),q(this,"registerWatch",function(i){return r.watchList.push(i),function(){r.watchList=r.watchList.filter(function(n){return n!==i})}}),q(this,"notifyWatch",function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];if(r.watchList.length){var n=r.getFieldsValue(),h=r.getFieldsValue(!0);r.watchList.forEach(function(f){f(n,h,i)})}}),q(this,"timeoutId",null),q(this,"warningUnhooked",function(){}),q(this,"updateStore",function(i){r.store=i}),q(this,"getFieldEntities",function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return i?r.fieldEntities.filter(function(n){return n.getNamePath().length}):r.fieldEntities}),q(this,"getFieldsMap",function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,n=new Dr;return r.getFieldEntities(i).forEach(function(h){var f=h.getNamePath();n.set(f,h)}),n}),q(this,"getFieldEntitiesForNamePathList",function(i){if(!i)return r.getFieldEntities(!0);var n=r.getFieldsMap(!0);return i.map(function(h){var f=Ve(h);return n.get(f)||{INVALIDATE_NAME_PATH:Ve(h)}})}),q(this,"getFieldsValue",function(i,n){r.warningUnhooked();var h,f,s;if(i===!0||Array.isArray(i)?(h=i,f=n):i&&he(i)==="object"&&(s=i.strict,f=i.filter),h===!0&&!f)return r.store;var o=r.getFieldEntitiesForNamePathList(Array.isArray(h)?h:null),a=[];return o.forEach(function(d){var u,g,b="INVALIDATE_NAME_PATH"in d?d.INVALIDATE_NAME_PATH:d.getNamePath();if(s){var S,m;if((S=(m=d).isList)!==null&&S!==void 0&&S.call(m))return}else if(!h&&(u=(g=d).isListField)!==null&&u!==void 0&&u.call(g))return;if(!f)a.push(b);else{var c="getMeta"in d?d.getMeta():null;f(c)&&a.push(b)}}),Al(r.store,a.map(Ve))}),q(this,"getFieldValue",function(i){r.warningUnhooked();var n=Ve(i);return zt(r.store,n)}),q(this,"getFieldsError",function(i){r.warningUnhooked();var n=r.getFieldEntitiesForNamePathList(i);return n.map(function(h,f){return h&&!("INVALIDATE_NAME_PATH"in h)?{name:h.getNamePath(),errors:h.getErrors(),warnings:h.getWarnings()}:{name:Ve(i[f]),errors:[],warnings:[]}})}),q(this,"getFieldError",function(i){r.warningUnhooked();var n=Ve(i),h=r.getFieldsError([n])[0];return h.errors}),q(this,"getFieldWarning",function(i){r.warningUnhooked();var n=Ve(i),h=r.getFieldsError([n])[0];return h.warnings}),q(this,"isFieldsTouched",function(){r.warningUnhooked();for(var i=arguments.length,n=new Array(i),h=0;h<i;h++)n[h]=arguments[h];var f=n[0],s=n[1],o,a=!1;n.length===0?o=null:n.length===1?Array.isArray(f)?(o=f.map(Ve),a=!1):(o=null,a=f):(o=f.map(Ve),a=s);var d=r.getFieldEntities(!0),u=function(c){return c.isFieldTouched()};if(!o)return a?d.every(function(m){return u(m)||m.isList()}):d.some(u);var g=new Dr;o.forEach(function(m){g.set(m,[])}),d.forEach(function(m){var c=m.getNamePath();o.forEach(function(p){p.every(function(l,v){return c[v]===l})&&g.update(p,function(l){return[].concat(ue(l),[m])})})});var b=function(c){return c.some(u)},S=g.map(function(m){var c=m.value;return c});return a?S.every(b):S.some(b)}),q(this,"isFieldTouched",function(i){return r.warningUnhooked(),r.isFieldsTouched([i])}),q(this,"isFieldsValidating",function(i){r.warningUnhooked();var n=r.getFieldEntities();if(!i)return n.some(function(f){return f.isFieldValidating()});var h=i.map(Ve);return n.some(function(f){var s=f.getNamePath();return Nr(h,s)&&f.isFieldValidating()})}),q(this,"isFieldValidating",function(i){return r.warningUnhooked(),r.isFieldsValidating([i])}),q(this,"resetWithFieldInitialValue",function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=new Dr,h=r.getFieldEntities(!0);h.forEach(function(o){var a=o.props.initialValue,d=o.getNamePath();if(a!==void 0){var u=n.get(d)||new Set;u.add({entity:o,value:a}),n.set(d,u)}});var f=function(a){a.forEach(function(d){var u=d.props.initialValue;if(u!==void 0){var g=d.getNamePath(),b=r.getInitialValue(g);if(b!==void 0)St(!1,"Form already set 'initialValues' with path '".concat(g.join("."),"'. Field can not overwrite it."));else{var S=n.get(g);if(S&&S.size>1)St(!1,"Multiple Field with path '".concat(g.join("."),"' set 'initialValue'. Can not decide which one to pick."));else if(S){var m=r.getFieldValue(g),c=d.isListField();!c&&(!i.skipExist||m===void 0)&&r.updateStore(Bt(r.store,g,ue(S)[0].value))}}}})},s;i.entities?s=i.entities:i.namePathList?(s=[],i.namePathList.forEach(function(o){var a=n.get(o);if(a){var d;(d=s).push.apply(d,ue(ue(a).map(function(u){return u.entity})))}})):s=h,f(s)}),q(this,"resetFields",function(i){r.warningUnhooked();var n=r.store;if(!i){r.updateStore(Fr(r.initialValues)),r.resetWithFieldInitialValue(),r.notifyObservers(n,null,{type:"reset"}),r.notifyWatch();return}var h=i.map(Ve);h.forEach(function(f){var s=r.getInitialValue(f);r.updateStore(Bt(r.store,f,s))}),r.resetWithFieldInitialValue({namePathList:h}),r.notifyObservers(n,h,{type:"reset"}),r.notifyWatch(h)}),q(this,"setFields",function(i){r.warningUnhooked();var n=r.store,h=[];i.forEach(function(f){var s=f.name,o=ht(f,Ey),a=Ve(s);h.push(a),"value"in o&&r.updateStore(Bt(r.store,a,o.value)),r.notifyObservers(n,[a],{type:"setField",data:f})}),r.notifyWatch(h)}),q(this,"getFields",function(){var i=r.getFieldEntities(!0),n=i.map(function(h){var f=h.getNamePath(),s=h.getMeta(),o=Y(Y({},s),{},{name:f,value:r.getFieldValue(f)});return Object.defineProperty(o,"originRCField",{value:!0}),o});return n}),q(this,"initEntityValue",function(i){var n=i.props.initialValue;if(n!==void 0){var h=i.getNamePath(),f=zt(r.store,h);f===void 0&&r.updateStore(Bt(r.store,h,n))}}),q(this,"isMergedPreserve",function(i){var n=i!==void 0?i:r.preserve;return n??!0}),q(this,"registerField",function(i){r.fieldEntities.push(i);var n=i.getNamePath();if(r.notifyWatch([n]),i.props.initialValue!==void 0){var h=r.store;r.resetWithFieldInitialValue({entities:[i],skipExist:!0}),r.notifyObservers(h,[i.getNamePath()],{type:"valueUpdate",source:"internal"})}return function(f,s){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];if(r.fieldEntities=r.fieldEntities.filter(function(u){return u!==i}),!r.isMergedPreserve(s)&&(!f||o.length>1)){var a=f?void 0:r.getInitialValue(n);if(n.length&&r.getFieldValue(n)!==a&&r.fieldEntities.every(function(u){return!Zh(u.getNamePath(),n)})){var d=r.store;r.updateStore(Bt(d,n,a,!0)),r.notifyObservers(d,[n],{type:"remove"}),r.triggerDependenciesUpdate(d,n)}}r.notifyWatch([n])}}),q(this,"dispatch",function(i){switch(i.type){case"updateValue":{var n=i.namePath,h=i.value;r.updateValue(n,h);break}case"validateField":{var f=i.namePath,s=i.triggerName;r.validateFields([f],{triggerName:s});break}}}),q(this,"notifyObservers",function(i,n,h){if(r.subscribable){var f=Y(Y({},h),{},{store:r.getFieldsValue(!0)});r.getFieldEntities().forEach(function(s){var o=s.onStoreChange;o(i,n,f)})}else r.forceRootUpdate()}),q(this,"triggerDependenciesUpdate",function(i,n){var h=r.getDependencyChildrenFields(n);return h.length&&r.validateFields(h),r.notifyObservers(i,h,{type:"dependenciesUpdate",relatedFields:[n].concat(ue(h))}),h}),q(this,"updateValue",function(i,n){var h=Ve(i),f=r.store;r.updateStore(Bt(r.store,h,n)),r.notifyObservers(f,[h],{type:"valueUpdate",source:"internal"}),r.notifyWatch([h]);var s=r.triggerDependenciesUpdate(f,h),o=r.callbacks.onValuesChange;if(o){var a=Al(r.store,[h]);o(a,r.getFieldsValue())}r.triggerOnFieldsChange([h].concat(ue(s)))}),q(this,"setFieldsValue",function(i){r.warningUnhooked();var n=r.store;if(i){var h=Fr(r.store,i);r.updateStore(h)}r.notifyObservers(n,null,{type:"valueUpdate",source:"external"}),r.notifyWatch()}),q(this,"setFieldValue",function(i,n){r.setFields([{name:i,value:n,errors:[],warnings:[]}])}),q(this,"getDependencyChildrenFields",function(i){var n=new Set,h=[],f=new Dr;r.getFieldEntities().forEach(function(o){var a=o.props.dependencies;(a||[]).forEach(function(d){var u=Ve(d);f.update(u,function(){var g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:new Set;return g.add(o),g})})});var s=function o(a){var d=f.get(a)||new Set;d.forEach(function(u){if(!n.has(u)){n.add(u);var g=u.getNamePath();u.isFieldDirty()&&g.length&&(h.push(g),o(g))}})};return s(i),h}),q(this,"triggerOnFieldsChange",function(i,n){var h=r.callbacks.onFieldsChange;if(h){var f=r.getFields();if(n){var s=new Dr;n.forEach(function(a){var d=a.name,u=a.errors;s.set(d,u)}),f.forEach(function(a){a.errors=s.get(a.name)||a.errors})}var o=f.filter(function(a){var d=a.name;return Nr(i,d)});o.length&&h(o,f)}}),q(this,"validateFields",function(i,n){r.warningUnhooked();var h,f;Array.isArray(i)||typeof i=="string"||typeof n=="string"?(h=i,f=n):f=i;var s=!!h,o=s?h.map(Ve):[],a=[],d=String(Date.now()),u=new Set,g=f||{},b=g.recursive,S=g.dirty;r.getFieldEntities(!0).forEach(function(l){if(s||o.push(l.getNamePath()),!(!l.props.rules||!l.props.rules.length)&&!(S&&!l.isFieldDirty())){var v=l.getNamePath();if(u.add(v.join(d)),!s||Nr(o,v,b)){var _=l.validateRules(Y({validateMessages:Y(Y({},Jh),r.validateMessages)},f));a.push(_.then(function(){return{name:v,errors:[],warnings:[]}}).catch(function(w){var E,C=[],y=[];return(E=w.forEach)===null||E===void 0||E.call(w,function(x){var R=x.rule.warningOnly,M=x.errors;R?y.push.apply(y,ue(M)):C.push.apply(C,ue(M))}),C.length?Promise.reject({name:v,errors:C,warnings:y}):{name:v,errors:C,warnings:y}}))}}});var m=wy(a);r.lastValidatePromise=m,m.catch(function(l){return l}).then(function(l){var v=l.map(function(_){var w=_.name;return w});r.notifyObservers(r.store,v,{type:"validateFinish"}),r.triggerOnFieldsChange(v,l)});var c=m.then(function(){return r.lastValidatePromise===m?Promise.resolve(r.getFieldsValue(o)):Promise.reject([])}).catch(function(l){var v=l.filter(function(_){return _&&_.errors.length});return Promise.reject({values:r.getFieldsValue(o),errorFields:v,outOfDate:r.lastValidatePromise!==m})});c.catch(function(l){return l});var p=o.filter(function(l){return u.has(l.join(d))});return r.triggerOnFieldsChange(p),c}),q(this,"submit",function(){r.warningUnhooked(),r.validateFields().then(function(i){var n=r.callbacks.onFinish;if(n)try{n(i)}catch(h){console.error(h)}}).catch(function(i){var n=r.callbacks.onFinishFailed;n&&n(i)})}),this.forceRootUpdate=t});function td(e){var t=O.useRef(),r=O.useState({}),i=ce(r,2),n=i[1];if(!t.current)if(e)t.current=e;else{var h=function(){n({})},f=new xy(h);t.current=f.getForm()}return[t.current]}var ea=O.createContext({triggerFormChange:function(){},triggerFormFinish:function(){},registerForm:function(){},unregisterForm:function(){}}),Ry=function(t){var r=t.validateMessages,i=t.onFormChange,n=t.onFormFinish,h=t.children,f=O.useContext(ea),s=O.useRef({});return O.createElement(ea.Provider,{value:Y(Y({},f),{},{validateMessages:Y(Y({},f.validateMessages),r),triggerFormChange:function(a,d){i&&i(a,{changedFields:d,forms:s.current}),f.triggerFormChange(a,d)},triggerFormFinish:function(a,d){n&&n(a,{values:d,forms:s.current}),f.triggerFormFinish(a,d)},registerForm:function(a,d){a&&(s.current=Y(Y({},s.current),{},q({},a,d))),f.registerForm(a,d)},unregisterForm:function(a){var d=Y({},s.current);delete d[a],s.current=d,f.unregisterForm(a)}})},h)},Oy=["name","initialValues","fields","form","preserve","children","component","validateMessages","validateTrigger","onValuesChange","onFieldsChange","onFinish","onFinishFailed","clearOnDestroy"],Ay=function(t,r){var i=t.name,n=t.initialValues,h=t.fields,f=t.form,s=t.preserve,o=t.children,a=t.component,d=a===void 0?"form":a,u=t.validateMessages,g=t.validateTrigger,b=g===void 0?"onChange":g,S=t.onValuesChange,m=t.onFieldsChange,c=t.onFinish,p=t.onFinishFailed,l=t.clearOnDestroy,v=ht(t,Oy),_=O.useRef(null),w=O.useContext(ea),E=td(f),C=ce(E,1),y=C[0],x=y.getInternalHooks(yr),R=x.useSubscribe,M=x.setInitialValues,I=x.setCallbacks,T=x.setValidateMessages,B=x.setPreserve,$=x.destroyForm;O.useImperativeHandle(r,function(){return Y(Y({},y),{},{nativeElement:_.current})}),O.useEffect(function(){return w.registerForm(i,y),function(){w.unregisterForm(i)}},[w,y,i]),T(Y(Y({},w.validateMessages),u)),I({onValuesChange:S,onFieldsChange:function(j){if(w.triggerFormChange(i,j),m){for(var K=arguments.length,J=new Array(K>1?K-1:0),H=1;H<K;H++)J[H-1]=arguments[H];m.apply(void 0,[j].concat(J))}},onFinish:function(j){w.triggerFormFinish(i,j),c&&c(j)},onFinishFailed:p}),B(s);var F=O.useRef(null);M(n,!F.current),F.current||(F.current=!0),O.useEffect(function(){return function(){return $(l)}},[]);var z,U=typeof o=="function";if(U){var A=y.getFieldsValue(!0);z=o(A,y)}else z=o;R(!U);var k=O.useRef();O.useEffect(function(){by(k.current||[],h||[])||y.setFields(h||[]),k.current=h},[h,y]);var P=O.useMemo(function(){return Y(Y({},y),{},{validateTrigger:b})},[y,b]),D=O.createElement(Dn.Provider,{value:null},O.createElement(Kr.Provider,{value:P},z));return d===!1?D:O.createElement(d,et({},v,{ref:_,onSubmit:function(j){j.preventDefault(),j.stopPropagation(),y.submit()},onReset:function(j){var K;j.preventDefault(),y.resetFields(),(K=v.onReset)===null||K===void 0||K.call(v,j)}}),D)};function Ll(e){try{return JSON.stringify(e)}catch{return Math.random()}}function Ty(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var i=t[0],n=t[1],h=n===void 0?{}:n,f=$b(h)?{form:h}:h,s=f.form,o=O.useState(),a=ce(o,2),d=a[0],u=a[1],g=O.useMemo(function(){return Ll(d)},[d]),b=O.useRef(g);b.current=g;var S=O.useContext(Kr),m=s||S,c=m&&m._init,p=Ve(i),l=O.useRef(p);return l.current=p,O.useEffect(function(){if(c){var v=m.getFieldsValue,_=m.getInternalHooks,w=_(yr),E=w.registerWatch,C=function(M,I){var T=f.preserve?I:M;return typeof i=="function"?i(T):zt(T,l.current)},y=E(function(R,M){var I=C(R,M),T=Ll(I);b.current!==T&&(b.current=T,u(I))}),x=C(v(),v(!0));return d!==x&&u(x),y}},[c]),d}var Ly=O.forwardRef(Ay),Hi=Ly;Hi.FormProvider=Ry;Hi.Field=Qh;Hi.List=Cy;Hi.useForm=td;Hi.useWatch=Ty;const cr=O.createContext({}),My=({children:e,status:t,override:r})=>{const i=O.useContext(cr),n=O.useMemo(()=>{const h=Object.assign({},i);return r&&delete h.isFormItemInput,t&&(delete h.status,delete h.hasFeedback,delete h.feedbackIcon),h},[t,r,i]);return O.createElement(cr.Provider,{value:n},e)},Iy=O.createContext(void 0),Ml=e=>{const{space:t,form:r,children:i}=e;if(i==null)return null;let n=i;return r&&(n=ee.createElement(My,{override:!0,status:!0},n)),t&&(n=ee.createElement(G0,null,n)),n},Py=e=>{const{componentCls:t}=e;return{[t]:{display:"flex",flexFlow:"row wrap",minWidth:0,"&::before, &::after":{display:"flex"},"&-no-wrap":{flexWrap:"nowrap"},"&-start":{justifyContent:"flex-start"},"&-center":{justifyContent:"center"},"&-end":{justifyContent:"flex-end"},"&-space-between":{justifyContent:"space-between"},"&-space-around":{justifyContent:"space-around"},"&-space-evenly":{justifyContent:"space-evenly"},"&-top":{alignItems:"flex-start"},"&-middle":{alignItems:"center"},"&-bottom":{alignItems:"flex-end"}}}},ky=e=>{const{componentCls:t}=e;return{[t]:{position:"relative",maxWidth:"100%",minHeight:1}}},By=(e,t)=>{const{prefixCls:r,componentCls:i,gridColumns:n}=e,h={};for(let f=n;f>=0;f--)f===0?(h[`${i}${t}-${f}`]={display:"none"},h[`${i}-push-${f}`]={insetInlineStart:"auto"},h[`${i}-pull-${f}`]={insetInlineEnd:"auto"},h[`${i}${t}-push-${f}`]={insetInlineStart:"auto"},h[`${i}${t}-pull-${f}`]={insetInlineEnd:"auto"},h[`${i}${t}-offset-${f}`]={marginInlineStart:0},h[`${i}${t}-order-${f}`]={order:0}):(h[`${i}${t}-${f}`]=[{"--ant-display":"block",display:"block"},{display:"var(--ant-display)",flex:`0 0 ${f/n*100}%`,maxWidth:`${f/n*100}%`}],h[`${i}${t}-push-${f}`]={insetInlineStart:`${f/n*100}%`},h[`${i}${t}-pull-${f}`]={insetInlineEnd:`${f/n*100}%`},h[`${i}${t}-offset-${f}`]={marginInlineStart:`${f/n*100}%`},h[`${i}${t}-order-${f}`]={order:f});return h[`${i}${t}-flex`]={flex:`var(--${r}${t}-flex)`},h},ta=(e,t)=>By(e,t),Dy=(e,t,r)=>({[`@media (min-width: ${Me(t)})`]:Object.assign({},ta(e,r))}),$y=()=>({}),Fy=()=>({}),Hy=Rr("Grid",Py,$y),jy=e=>({xs:e.screenXSMin,sm:e.screenSMMin,md:e.screenMDMin,lg:e.screenLGMin,xl:e.screenXLMin,xxl:e.screenXXLMin});Rr("Grid",e=>{const t=Ct(e,{gridColumns:24}),r=jy(t);return delete r.xs,[ky(t),ta(t,""),ta(t,"-xs"),Object.keys(r).map(i=>Dy(t,r[i],`-${i}`)).reduce((i,n)=>Object.assign(Object.assign({},i),n),{})]},Fy);function ra(e,t,r){return pe({[`${e}-status-success`]:t==="success",[`${e}-status-warning`]:t==="warning",[`${e}-status-error`]:t==="error",[`${e}-status-validating`]:t==="validating",[`${e}-has-feedback`]:r})}const Ba=(e,t)=>t||e,rd=(e,t,r=void 0)=>{var i,n;const{variant:h,[e]:f}=O.useContext(tt),s=O.useContext(Iy),o=f?.variant;let a;typeof t<"u"?a=t:r===!1?a="borderless":a=(n=(i=s??o)!==null&&i!==void 0?i:h)!==null&&n!==void 0?n:"outlined";const d=Vm.includes(a);return[a,d]};var zy={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M909.6 854.5L649.9 594.8C690.2 542.7 712 479 712 412c0-80.2-31.3-155.4-87.9-212.1-56.6-56.7-132-87.9-212.1-87.9s-155.5 31.3-212.1 87.9C143.2 256.5 112 331.8 112 412c0 80.1 31.3 155.5 87.9 212.1C256.5 680.8 331.8 712 412 712c67 0 130.6-21.8 182.7-62l259.7 259.6a8.2 8.2 0 0011.6 0l43.6-43.5a8.2 8.2 0 000-11.6zM570.4 570.4C528 612.7 471.8 636 412 636s-116-23.3-158.4-65.6C211.3 528 188 471.8 188 412s23.3-116.1 65.6-158.4C296 211.3 352.2 188 412 188s116.1 23.2 158.4 65.6S636 352.2 636 412s-23.3 116.1-65.6 158.4z"}}]},name:"search",theme:"outlined"},Ny=function(t,r){return O.createElement(dr,et({},t,{ref:r,icon:zy}))},Vy=O.forwardRef(Ny);const Wy=(e,t)=>{typeof e?.addEventListener<"u"?e.addEventListener("change",t):typeof e?.addListener<"u"&&e.addListener(t)},Uy=(e,t)=>{typeof e?.removeEventListener<"u"?e.removeEventListener("change",t):typeof e?.removeListener<"u"&&e.removeListener(t)},Ti=["xxl","xl","lg","md","sm","xs"],qy=e=>({xs:`(max-width: ${e.screenXSMax}px)`,sm:`(min-width: ${e.screenSM}px)`,md:`(min-width: ${e.screenMD}px)`,lg:`(min-width: ${e.screenLG}px)`,xl:`(min-width: ${e.screenXL}px)`,xxl:`(min-width: ${e.screenXXL}px)`}),Gy=e=>{const t=e,r=[].concat(Ti).reverse();return r.forEach((i,n)=>{const h=i.toUpperCase(),f=`screen${h}Min`,s=`screen${h}`;if(!(t[f]<=t[s]))throw new Error(`${f}<=${s} fails : !(${t[f]}<=${t[s]})`);if(n<r.length-1){const o=`screen${h}Max`;if(!(t[s]<=t[o]))throw new Error(`${s}<=${o} fails : !(${t[s]}<=${t[o]})`);const d=`screen${r[n+1].toUpperCase()}Min`;if(!(t[o]<=t[d]))throw new Error(`${o}<=${d} fails : !(${t[o]}<=${t[d]})`)}}),e},Ky=()=>{const[,e]=xr(),t=qy(Gy(e));return ee.useMemo(()=>{const r=new Map;let i=-1,n={};return{responsiveMap:t,matchHandlers:{},dispatch(h){return n=h,r.forEach(f=>f(n)),r.size>=1},subscribe(h){return r.size||this.register(),i+=1,r.set(i,h),h(n),i},unsubscribe(h){r.delete(h),r.size||this.unregister()},register(){Object.entries(t).forEach(([h,f])=>{const s=({matches:a})=>{this.dispatch(Object.assign(Object.assign({},n),{[h]:a}))},o=window.matchMedia(f);Wy(o,s),this.matchHandlers[f]={mql:o,listener:s},s(o)})},unregister(){Object.values(t).forEach(h=>{const f=this.matchHandlers[h];Uy(f?.mql,f?.listener)}),r.clear()}}},[e])};function Xy(){const[,e]=O.useReducer(t=>t+1,0);return e}function Yy(e=!0,t={}){const r=O.useRef(t),i=Xy(),n=Ky();return wi(()=>{const h=n.subscribe(f=>{r.current=f,e&&i()});return()=>n.unsubscribe(h)},[]),r.current}function ts(e){return Ct(e,{inputAffixPadding:e.paddingXXS})}const rs=e=>{const{controlHeight:t,fontSize:r,lineHeight:i,lineWidth:n,controlHeightSM:h,controlHeightLG:f,fontSizeLG:s,lineHeightLG:o,paddingSM:a,controlPaddingHorizontalSM:d,controlPaddingHorizontal:u,colorFillAlter:g,colorPrimaryHover:b,colorPrimary:S,controlOutlineWidth:m,controlOutline:c,colorErrorOutline:p,colorWarningOutline:l,colorBgContainer:v,inputFontSize:_,inputFontSizeLG:w,inputFontSizeSM:E}=e,C=_||r,y=E||C,x=w||s,R=Math.round((t-C*i)/2*10)/10-n,M=Math.round((h-y*i)/2*10)/10-n,I=Math.ceil((f-x*o)/2*10)/10-n;return{paddingBlock:Math.max(R,0),paddingBlockSM:Math.max(M,0),paddingBlockLG:Math.max(I,0),paddingInline:a-n,paddingInlineSM:d-n,paddingInlineLG:u-n,addonBg:g,activeBorderColor:S,hoverBorderColor:b,activeShadow:`0 0 0 ${m}px ${c}`,errorActiveShadow:`0 0 0 ${m}px ${p}`,warningActiveShadow:`0 0 0 ${m}px ${l}`,hoverBg:v,activeBg:v,inputFontSize:C,inputFontSizeLG:x,inputFontSizeSM:y}},Jy=e=>({borderColor:e.hoverBorderColor,backgroundColor:e.hoverBg}),Da=e=>({color:e.colorTextDisabled,backgroundColor:e.colorBgContainerDisabled,borderColor:e.colorBorder,boxShadow:"none",cursor:"not-allowed",opacity:1,"input[disabled], textarea[disabled]":{cursor:"not-allowed"},"&:hover:not([disabled])":Object.assign({},Jy(Ct(e,{hoverBorderColor:e.colorBorder,hoverBg:e.colorBgContainerDisabled})))}),id=(e,t)=>({background:e.colorBgContainer,borderWidth:e.lineWidth,borderStyle:e.lineType,borderColor:t.borderColor,"&:hover":{borderColor:t.hoverBorderColor,backgroundColor:e.hoverBg},"&:focus, &:focus-within":{borderColor:t.activeBorderColor,boxShadow:t.activeShadow,outline:0,backgroundColor:e.activeBg}}),Il=(e,t)=>({[`&${e.componentCls}-status-${t.status}:not(${e.componentCls}-disabled)`]:Object.assign(Object.assign({},id(e,t)),{[`${e.componentCls}-prefix, ${e.componentCls}-suffix`]:{color:t.affixColor}}),[`&${e.componentCls}-status-${t.status}${e.componentCls}-disabled`]:{borderColor:t.borderColor}}),Zy=(e,t)=>({"&-outlined":Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},id(e,{borderColor:e.colorBorder,hoverBorderColor:e.hoverBorderColor,activeBorderColor:e.activeBorderColor,activeShadow:e.activeShadow})),{[`&${e.componentCls}-disabled, &[disabled]`]:Object.assign({},Da(e))}),Il(e,{status:"error",borderColor:e.colorError,hoverBorderColor:e.colorErrorBorderHover,activeBorderColor:e.colorError,activeShadow:e.errorActiveShadow,affixColor:e.colorError})),Il(e,{status:"warning",borderColor:e.colorWarning,hoverBorderColor:e.colorWarningBorderHover,activeBorderColor:e.colorWarning,activeShadow:e.warningActiveShadow,affixColor:e.colorWarning})),t)}),Pl=(e,t)=>({[`&${e.componentCls}-group-wrapper-status-${t.status}`]:{[`${e.componentCls}-group-addon`]:{borderColor:t.addonBorderColor,color:t.addonColor}}}),Qy=e=>({"&-outlined":Object.assign(Object.assign(Object.assign({[`${e.componentCls}-group`]:{"&-addon":{background:e.addonBg,border:`${Me(e.lineWidth)} ${e.lineType} ${e.colorBorder}`},"&-addon:first-child":{borderInlineEnd:0},"&-addon:last-child":{borderInlineStart:0}}},Pl(e,{status:"error",addonBorderColor:e.colorError,addonColor:e.colorErrorText})),Pl(e,{status:"warning",addonBorderColor:e.colorWarning,addonColor:e.colorWarningText})),{[`&${e.componentCls}-group-wrapper-disabled`]:{[`${e.componentCls}-group-addon`]:Object.assign({},Da(e))}})}),eS=(e,t)=>{const{componentCls:r}=e;return{"&-borderless":Object.assign({background:"transparent",border:"none","&:focus, &:focus-within":{outline:"none"},[`&${r}-disabled, &[disabled]`]:{color:e.colorTextDisabled,cursor:"not-allowed"},[`&${r}-status-error`]:{"&, & input, & textarea":{color:e.colorError}},[`&${r}-status-warning`]:{"&, & input, & textarea":{color:e.colorWarning}}},t)}},nd=(e,t)=>{var r;return{background:t.bg,borderWidth:e.lineWidth,borderStyle:e.lineType,borderColor:"transparent","input&, & input, textarea&, & textarea":{color:(r=t?.inputColor)!==null&&r!==void 0?r:"unset"},"&:hover":{background:t.hoverBg},"&:focus, &:focus-within":{outline:0,borderColor:t.activeBorderColor,backgroundColor:e.activeBg}}},kl=(e,t)=>({[`&${e.componentCls}-status-${t.status}:not(${e.componentCls}-disabled)`]:Object.assign(Object.assign({},nd(e,t)),{[`${e.componentCls}-prefix, ${e.componentCls}-suffix`]:{color:t.affixColor}})}),tS=(e,t)=>({"&-filled":Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},nd(e,{bg:e.colorFillTertiary,hoverBg:e.colorFillSecondary,activeBorderColor:e.activeBorderColor})),{[`&${e.componentCls}-disabled, &[disabled]`]:Object.assign({},Da(e))}),kl(e,{status:"error",bg:e.colorErrorBg,hoverBg:e.colorErrorBgHover,activeBorderColor:e.colorError,inputColor:e.colorErrorText,affixColor:e.colorError})),kl(e,{status:"warning",bg:e.colorWarningBg,hoverBg:e.colorWarningBgHover,activeBorderColor:e.colorWarning,inputColor:e.colorWarningText,affixColor:e.colorWarning})),t)}),Bl=(e,t)=>({[`&${e.componentCls}-group-wrapper-status-${t.status}`]:{[`${e.componentCls}-group-addon`]:{background:t.addonBg,color:t.addonColor}}}),rS=e=>({"&-filled":Object.assign(Object.assign(Object.assign({[`${e.componentCls}-group-addon`]:{background:e.colorFillTertiary,"&:last-child":{position:"static"}}},Bl(e,{status:"error",addonBg:e.colorErrorBg,addonColor:e.colorErrorText})),Bl(e,{status:"warning",addonBg:e.colorWarningBg,addonColor:e.colorWarningText})),{[`&${e.componentCls}-group-wrapper-disabled`]:{[`${e.componentCls}-group`]:{"&-addon":{background:e.colorFillTertiary,color:e.colorTextDisabled},"&-addon:first-child":{borderInlineStart:`${Me(e.lineWidth)} ${e.lineType} ${e.colorBorder}`,borderTop:`${Me(e.lineWidth)} ${e.lineType} ${e.colorBorder}`,borderBottom:`${Me(e.lineWidth)} ${e.lineType} ${e.colorBorder}`},"&-addon:last-child":{borderInlineEnd:`${Me(e.lineWidth)} ${e.lineType} ${e.colorBorder}`,borderTop:`${Me(e.lineWidth)} ${e.lineType} ${e.colorBorder}`,borderBottom:`${Me(e.lineWidth)} ${e.lineType} ${e.colorBorder}`}}}})}),sd=(e,t)=>({background:e.colorBgContainer,borderWidth:`${Me(e.lineWidth)} 0`,borderStyle:`${e.lineType} none`,borderColor:`transparent transparent ${t.borderColor} transparent`,borderRadius:0,"&:hover":{borderColor:`transparent transparent ${t.borderColor} transparent`,backgroundColor:e.hoverBg},"&:focus, &:focus-within":{borderColor:`transparent transparent ${t.activeBorderColor} transparent`,outline:0,backgroundColor:e.activeBg}}),Dl=(e,t)=>({[`&${e.componentCls}-status-${t.status}:not(${e.componentCls}-disabled)`]:Object.assign(Object.assign({},sd(e,t)),{[`${e.componentCls}-prefix, ${e.componentCls}-suffix`]:{color:t.affixColor}}),[`&${e.componentCls}-status-${t.status}${e.componentCls}-disabled`]:{borderColor:`transparent transparent ${t.borderColor} transparent`}}),iS=(e,t)=>({"&-underlined":Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},sd(e,{borderColor:e.colorBorder,hoverBorderColor:e.hoverBorderColor,activeBorderColor:e.activeBorderColor,activeShadow:e.activeShadow})),{[`&${e.componentCls}-disabled, &[disabled]`]:{color:e.colorTextDisabled,boxShadow:"none",cursor:"not-allowed","&:hover":{borderColor:`transparent transparent ${e.colorBorder} transparent`}},"input[disabled], textarea[disabled]":{cursor:"not-allowed"}}),Dl(e,{status:"error",borderColor:e.colorError,hoverBorderColor:e.colorErrorBorderHover,activeBorderColor:e.colorError,activeShadow:e.errorActiveShadow,affixColor:e.colorError})),Dl(e,{status:"warning",borderColor:e.colorWarning,hoverBorderColor:e.colorWarningBorderHover,activeBorderColor:e.colorWarning,activeShadow:e.warningActiveShadow,affixColor:e.colorWarning})),t)}),nS=e=>({"&::-moz-placeholder":{opacity:1},"&::placeholder":{color:e,userSelect:"none"},"&:placeholder-shown":{textOverflow:"ellipsis"}}),od=e=>{const{paddingBlockLG:t,lineHeightLG:r,borderRadiusLG:i,paddingInlineLG:n}=e;return{padding:`${Me(t)} ${Me(n)}`,fontSize:e.inputFontSizeLG,lineHeight:r,borderRadius:i}},ad=e=>({padding:`${Me(e.paddingBlockSM)} ${Me(e.paddingInlineSM)}`,fontSize:e.inputFontSizeSM,borderRadius:e.borderRadiusSM}),cd=e=>Object.assign(Object.assign({position:"relative",display:"inline-block",width:"100%",minWidth:0,padding:`${Me(e.paddingBlock)} ${Me(e.paddingInline)}`,color:e.colorText,fontSize:e.inputFontSize,lineHeight:e.lineHeight,borderRadius:e.borderRadius,transition:`all ${e.motionDurationMid}`},nS(e.colorTextPlaceholder)),{"&-lg":Object.assign({},od(e)),"&-sm":Object.assign({},ad(e)),"&-rtl, &-textarea-rtl":{direction:"rtl"}}),sS=e=>{const{componentCls:t,antCls:r}=e;return{position:"relative",display:"table",width:"100%",borderCollapse:"separate",borderSpacing:0,"&[class*='col-']":{paddingInlineEnd:e.paddingXS,"&:last-child":{paddingInlineEnd:0}},[`&-lg ${t}, &-lg > ${t}-group-addon`]:Object.assign({},od(e)),[`&-sm ${t}, &-sm > ${t}-group-addon`]:Object.assign({},ad(e)),[`&-lg ${r}-select-single ${r}-select-selector`]:{height:e.controlHeightLG},[`&-sm ${r}-select-single ${r}-select-selector`]:{height:e.controlHeightSM},[`> ${t}`]:{display:"table-cell","&:not(:first-child):not(:last-child)":{borderRadius:0}},[`${t}-group`]:{"&-addon, &-wrap":{display:"table-cell",width:1,whiteSpace:"nowrap",verticalAlign:"middle","&:not(:first-child):not(:last-child)":{borderRadius:0}},"&-wrap > *":{display:"block !important"},"&-addon":{position:"relative",padding:`0 ${Me(e.paddingInline)}`,color:e.colorText,fontWeight:"normal",fontSize:e.inputFontSize,textAlign:"center",borderRadius:e.borderRadius,transition:`all ${e.motionDurationSlow}`,lineHeight:1,[`${r}-select`]:{margin:`${Me(e.calc(e.paddingBlock).add(1).mul(-1).equal())} ${Me(e.calc(e.paddingInline).mul(-1).equal())}`,[`&${r}-select-single:not(${r}-select-customize-input):not(${r}-pagination-size-changer)`]:{[`${r}-select-selector`]:{backgroundColor:"inherit",border:`${Me(e.lineWidth)} ${e.lineType} transparent`,boxShadow:"none"}}},[`${r}-cascader-picker`]:{margin:`-9px ${Me(e.calc(e.paddingInline).mul(-1).equal())}`,backgroundColor:"transparent",[`${r}-cascader-input`]:{textAlign:"start",border:0,boxShadow:"none"}}}},[t]:{width:"100%",marginBottom:0,textAlign:"inherit","&:focus":{zIndex:1,borderInlineEndWidth:1},"&:hover":{zIndex:1,borderInlineEndWidth:1,[`${t}-search-with-button &`]:{zIndex:0}}},[`> ${t}:first-child, ${t}-group-addon:first-child`]:{borderStartEndRadius:0,borderEndEndRadius:0,[`${r}-select ${r}-select-selector`]:{borderStartEndRadius:0,borderEndEndRadius:0}},[`> ${t}-affix-wrapper`]:{[`&:not(:first-child) ${t}`]:{borderStartStartRadius:0,borderEndStartRadius:0},[`&:not(:last-child) ${t}`]:{borderStartEndRadius:0,borderEndEndRadius:0}},[`> ${t}:last-child, ${t}-group-addon:last-child`]:{borderStartStartRadius:0,borderEndStartRadius:0,[`${r}-select ${r}-select-selector`]:{borderStartStartRadius:0,borderEndStartRadius:0}},[`${t}-affix-wrapper`]:{"&:not(:last-child)":{borderStartEndRadius:0,borderEndEndRadius:0,[`${t}-search &`]:{borderStartStartRadius:e.borderRadius,borderEndStartRadius:e.borderRadius}},[`&:not(:first-child), ${t}-search &:not(:first-child)`]:{borderStartStartRadius:0,borderEndStartRadius:0}},[`&${t}-group-compact`]:Object.assign(Object.assign({display:"block"},f_()),{[`${t}-group-addon, ${t}-group-wrap, > ${t}`]:{"&:not(:first-child):not(:last-child)":{borderInlineEndWidth:e.lineWidth,"&:hover, &:focus":{zIndex:1}}},"& > *":{display:"inline-flex",float:"none",verticalAlign:"top",borderRadius:0},[`
        & > ${t}-affix-wrapper,
        & > ${t}-number-affix-wrapper,
        & > ${r}-picker-range
      `]:{display:"inline-flex"},"& > *:not(:last-child)":{marginInlineEnd:e.calc(e.lineWidth).mul(-1).equal(),borderInlineEndWidth:e.lineWidth},[t]:{float:"none"},[`& > ${r}-select > ${r}-select-selector,
      & > ${r}-select-auto-complete ${t},
      & > ${r}-cascader-picker ${t},
      & > ${t}-group-wrapper ${t}`]:{borderInlineEndWidth:e.lineWidth,borderRadius:0,"&:hover, &:focus":{zIndex:1}},[`& > ${r}-select-focused`]:{zIndex:1},[`& > ${r}-select > ${r}-select-arrow`]:{zIndex:1},[`& > *:first-child,
      & > ${r}-select:first-child > ${r}-select-selector,
      & > ${r}-select-auto-complete:first-child ${t},
      & > ${r}-cascader-picker:first-child ${t}`]:{borderStartStartRadius:e.borderRadius,borderEndStartRadius:e.borderRadius},[`& > *:last-child,
      & > ${r}-select:last-child > ${r}-select-selector,
      & > ${r}-cascader-picker:last-child ${t},
      & > ${r}-cascader-picker-focused:last-child ${t}`]:{borderInlineEndWidth:e.lineWidth,borderStartEndRadius:e.borderRadius,borderEndEndRadius:e.borderRadius},[`& > ${r}-select-auto-complete ${t}`]:{verticalAlign:"top"},[`${t}-group-wrapper + ${t}-group-wrapper`]:{marginInlineStart:e.calc(e.lineWidth).mul(-1).equal(),[`${t}-affix-wrapper`]:{borderRadius:0}},[`${t}-group-wrapper:not(:last-child)`]:{[`&${t}-search > ${t}-group`]:{[`& > ${t}-group-addon > ${t}-search-button`]:{borderRadius:0},[`& > ${t}`]:{borderStartStartRadius:e.borderRadius,borderStartEndRadius:0,borderEndEndRadius:0,borderEndStartRadius:e.borderRadius}}}})}},oS=e=>{const{componentCls:t,controlHeightSM:r,lineWidth:i,calc:n}=e,f=n(r).sub(n(i).mul(2)).sub(16).div(2).equal();return{[t]:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},Ch(e)),cd(e)),Zy(e)),tS(e)),eS(e)),iS(e)),{'&[type="color"]':{height:e.controlHeight,[`&${t}-lg`]:{height:e.controlHeightLG},[`&${t}-sm`]:{height:r,paddingTop:f,paddingBottom:f}},'&[type="search"]::-webkit-search-cancel-button, &[type="search"]::-webkit-search-decoration':{appearance:"none"}})}},aS=e=>{const{componentCls:t}=e;return{[`${t}-clear-icon`]:{margin:0,padding:0,lineHeight:0,color:e.colorTextQuaternary,fontSize:e.fontSizeIcon,verticalAlign:-1,cursor:"pointer",transition:`color ${e.motionDurationSlow}`,border:"none",outline:"none",backgroundColor:"transparent","&:hover":{color:e.colorIcon},"&:active":{color:e.colorText},"&-hidden":{visibility:"hidden"},"&-has-suffix":{margin:`0 ${Me(e.inputAffixPadding)}`}}}},cS=e=>{const{componentCls:t,inputAffixPadding:r,colorTextDescription:i,motionDurationSlow:n,colorIcon:h,colorIconHover:f,iconCls:s}=e,o=`${t}-affix-wrapper`,a=`${t}-affix-wrapper-disabled`;return{[o]:Object.assign(Object.assign(Object.assign(Object.assign({},cd(e)),{display:"inline-flex",[`&:not(${t}-disabled):hover`]:{zIndex:1,[`${t}-search-with-button &`]:{zIndex:0}},"&-focused, &:focus":{zIndex:1},[`> input${t}`]:{padding:0},[`> input${t}, > textarea${t}`]:{fontSize:"inherit",border:"none",borderRadius:0,outline:"none",background:"transparent",color:"inherit","&::-ms-reveal":{display:"none"},"&:focus":{boxShadow:"none !important"}},"&::before":{display:"inline-block",width:0,visibility:"hidden",content:'"\\a0"'},[t]:{"&-prefix, &-suffix":{display:"flex",flex:"none",alignItems:"center","> *:not(:last-child)":{marginInlineEnd:e.paddingXS}},"&-show-count-suffix":{color:i,direction:"ltr"},"&-show-count-has-suffix":{marginInlineEnd:e.paddingXXS},"&-prefix":{marginInlineEnd:r},"&-suffix":{marginInlineStart:r}}}),aS(e)),{[`${s}${t}-password-icon`]:{color:h,cursor:"pointer",transition:`all ${n}`,"&:hover":{color:f}}}),[`${t}-underlined`]:{borderRadius:0},[a]:{[`${s}${t}-password-icon`]:{color:h,cursor:"not-allowed","&:hover":{color:h}}}}},lS=e=>{const{componentCls:t,borderRadiusLG:r,borderRadiusSM:i}=e;return{[`${t}-group`]:Object.assign(Object.assign(Object.assign({},Ch(e)),sS(e)),{"&-rtl":{direction:"rtl"},"&-wrapper":Object.assign(Object.assign(Object.assign({display:"inline-block",width:"100%",textAlign:"start",verticalAlign:"top","&-rtl":{direction:"rtl"},"&-lg":{[`${t}-group-addon`]:{borderRadius:r,fontSize:e.inputFontSizeLG}},"&-sm":{[`${t}-group-addon`]:{borderRadius:i}}},Qy(e)),rS(e)),{[`&:not(${t}-compact-first-item):not(${t}-compact-last-item)${t}-compact-item`]:{[`${t}, ${t}-group-addon`]:{borderRadius:0}},[`&:not(${t}-compact-last-item)${t}-compact-first-item`]:{[`${t}, ${t}-group-addon`]:{borderStartEndRadius:0,borderEndEndRadius:0}},[`&:not(${t}-compact-first-item)${t}-compact-last-item`]:{[`${t}, ${t}-group-addon`]:{borderStartStartRadius:0,borderEndStartRadius:0}},[`&:not(${t}-compact-last-item)${t}-compact-item`]:{[`${t}-affix-wrapper`]:{borderStartEndRadius:0,borderEndEndRadius:0}},[`&:not(${t}-compact-first-item)${t}-compact-item`]:{[`${t}-affix-wrapper`]:{borderStartStartRadius:0,borderEndStartRadius:0}}})})}},uS=e=>{const{componentCls:t,antCls:r}=e,i=`${t}-search`;return{[i]:{[t]:{"&:hover, &:focus":{[`+ ${t}-group-addon ${i}-button:not(${r}-btn-color-primary):not(${r}-btn-variant-text)`]:{borderInlineStartColor:e.colorPrimaryHover}}},[`${t}-affix-wrapper`]:{height:e.controlHeight,borderRadius:0},[`${t}-lg`]:{lineHeight:e.calc(e.lineHeightLG).sub(2e-4).equal()},[`> ${t}-group`]:{[`> ${t}-group-addon:last-child`]:{insetInlineStart:-1,padding:0,border:0,[`${i}-button`]:{marginInlineEnd:-1,borderStartStartRadius:0,borderEndStartRadius:0,boxShadow:"none"},[`${i}-button:not(${r}-btn-color-primary)`]:{color:e.colorTextDescription,"&:hover":{color:e.colorPrimaryHover},"&:active":{color:e.colorPrimaryActive},[`&${r}-btn-loading::before`]:{inset:0}}}},[`${i}-button`]:{height:e.controlHeight,"&:hover, &:focus":{zIndex:1}},"&-large":{[`${t}-affix-wrapper, ${i}-button`]:{height:e.controlHeightLG}},"&-small":{[`${t}-affix-wrapper, ${i}-button`]:{height:e.controlHeightSM}},"&-rtl":{direction:"rtl"},[`&${t}-compact-item`]:{[`&:not(${t}-compact-last-item)`]:{[`${t}-group-addon`]:{[`${t}-search-button`]:{marginInlineEnd:e.calc(e.lineWidth).mul(-1).equal(),borderRadius:0}}},[`&:not(${t}-compact-first-item)`]:{[`${t},${t}-affix-wrapper`]:{borderRadius:0}},[`> ${t}-group-addon ${t}-search-button,
        > ${t},
        ${t}-affix-wrapper`]:{"&:hover, &:focus, &:active":{zIndex:2}},[`> ${t}-affix-wrapper-focused`]:{zIndex:2}}}}},hS=e=>{const{componentCls:t}=e;return{[`${t}-out-of-range`]:{[`&, & input, & textarea, ${t}-show-count-suffix, ${t}-data-count`]:{color:e.colorError}}}},ld=Rr(["Input","Shared"],e=>{const t=Ct(e,ts(e));return[oS(t),cS(t)]},rs,{resetFont:!1}),ud=Rr(["Input","Component"],e=>{const t=Ct(e,ts(e));return[lS(t),uS(t),hS(t),Xh(t)]},rs,{resetFont:!1}),dS=O.createContext({});function fS(e,t){const r=[void 0,void 0],i=Array.isArray(e)?e:[e,void 0],n=t||{xs:!0,sm:!0,md:!0,lg:!0,xl:!0,xxl:!0};return i.forEach((h,f)=>{if(typeof h=="object"&&h!==null)for(let s=0;s<Ti.length;s++){const o=Ti[s];if(n[o]&&h[o]!==void 0){r[f]=h[o];break}}else r[f]=h}),r}var pS=function(e,t){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(r[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,i=Object.getOwnPropertySymbols(e);n<i.length;n++)t.indexOf(i[n])<0&&Object.prototype.propertyIsEnumerable.call(e,i[n])&&(r[i[n]]=e[i[n]]);return r};function $l(e,t){const[r,i]=O.useState(typeof e=="string"?e:""),n=()=>{if(typeof e=="string"&&i(e),typeof e=="object")for(let h=0;h<Ti.length;h++){const f=Ti[h];if(!t||!t[f])continue;const s=e[f];if(s!==void 0){i(s);return}}};return O.useEffect(()=>{n()},[JSON.stringify(e),t]),r}const vS=O.forwardRef((e,t)=>{const{prefixCls:r,justify:i,align:n,className:h,style:f,children:s,gutter:o=0,wrap:a}=e,d=pS(e,["prefixCls","justify","align","className","style","children","gutter","wrap"]),{getPrefixCls:u,direction:g}=O.useContext(tt),b=Yy(!0,null),S=$l(n,b),m=$l(i,b),c=u("row",r),[p,l,v]=Hy(c),_=fS(o,b),w=pe(c,{[`${c}-no-wrap`]:a===!1,[`${c}-${m}`]:m,[`${c}-${S}`]:S,[`${c}-rtl`]:g==="rtl"},h,l,v),E={},C=_[0]!=null&&_[0]>0?_[0]/-2:void 0;C&&(E.marginLeft=C,E.marginRight=C);const[y,x]=_;E.rowGap=x;const R=O.useMemo(()=>({gutter:[y,x],wrap:a}),[y,x,a]);return p(O.createElement(dS.Provider,{value:R},O.createElement("div",Object.assign({},d,{className:w,style:Object.assign(Object.assign({},E),f),ref:t}),s)))});function gS(e){return!!(e.addonBefore||e.addonAfter)}function mS(e){return!!(e.prefix||e.suffix||e.allowClear)}function Fl(e,t,r){var i=t.cloneNode(!0),n=Object.create(e,{target:{value:i},currentTarget:{value:i}});return i.value=r,typeof t.selectionStart=="number"&&typeof t.selectionEnd=="number"&&(i.selectionStart=t.selectionStart,i.selectionEnd=t.selectionEnd),i.setSelectionRange=function(){t.setSelectionRange.apply(t,arguments)},n}function $n(e,t,r,i){if(r){var n=t;if(t.type==="click"){n=Fl(t,e,""),r(n);return}if(e.type!=="file"&&i!==void 0){n=Fl(t,e,i),r(n);return}r(n)}}function hd(e,t){if(e){e.focus(t);var r=t||{},i=r.cursor;if(i){var n=e.value.length;switch(i){case"start":e.setSelectionRange(0,0);break;case"end":e.setSelectionRange(n,n);break;default:e.setSelectionRange(0,n)}}}}var dd=ee.forwardRef(function(e,t){var r,i,n,h=e.inputElement,f=e.children,s=e.prefixCls,o=e.prefix,a=e.suffix,d=e.addonBefore,u=e.addonAfter,g=e.className,b=e.style,S=e.disabled,m=e.readOnly,c=e.focused,p=e.triggerFocus,l=e.allowClear,v=e.value,_=e.handleReset,w=e.hidden,E=e.classes,C=e.classNames,y=e.dataAttrs,x=e.styles,R=e.components,M=e.onClear,I=f??h,T=R?.affixWrapper||"span",B=R?.groupWrapper||"span",$=R?.wrapper||"span",F=R?.groupAddon||"span",z=O.useRef(null),U=function(de){var oe;(oe=z.current)!==null&&oe!==void 0&&oe.contains(de.target)&&p?.()},A=mS(e),k=O.cloneElement(I,{value:v,className:pe((r=I.props)===null||r===void 0?void 0:r.className,!A&&C?.variant)||null}),P=O.useRef(null);if(ee.useImperativeHandle(t,function(){return{nativeElement:P.current||z.current}}),A){var D=null;if(l){var V=!S&&!m&&v,j="".concat(s,"-clear-icon"),K=he(l)==="object"&&l!==null&&l!==void 0&&l.clearIcon?l.clearIcon:"";D=ee.createElement("button",{type:"button",tabIndex:-1,onClick:function(de){_?.(de),M?.()},onMouseDown:function(de){return de.preventDefault()},className:pe(j,q(q({},"".concat(j,"-hidden"),!V),"".concat(j,"-has-suffix"),!!a))},K)}var J="".concat(s,"-affix-wrapper"),H=pe(J,q(q(q(q(q({},"".concat(s,"-disabled"),S),"".concat(J,"-disabled"),S),"".concat(J,"-focused"),c),"".concat(J,"-readonly"),m),"".concat(J,"-input-with-clear-btn"),a&&l&&v),E?.affixWrapper,C?.affixWrapper,C?.variant),L=(a||l)&&ee.createElement("span",{className:pe("".concat(s,"-suffix"),C?.suffix),style:x?.suffix},D,a);k=ee.createElement(T,et({className:H,style:x?.affixWrapper,onClick:U},y?.affixWrapper,{ref:z}),o&&ee.createElement("span",{className:pe("".concat(s,"-prefix"),C?.prefix),style:x?.prefix},o),k,L)}if(gS(e)){var W="".concat(s,"-group"),G="".concat(W,"-addon"),Z="".concat(W,"-wrapper"),Q=pe("".concat(s,"-wrapper"),W,E?.wrapper,C?.wrapper),se=pe(Z,q({},"".concat(Z,"-disabled"),S),E?.group,C?.groupWrapper);k=ee.createElement(B,{className:se,ref:P},ee.createElement($,{className:Q},d&&ee.createElement(F,{className:G},d),k,u&&ee.createElement(F,{className:G},u)))}return ee.cloneElement(k,{className:pe((i=k.props)===null||i===void 0?void 0:i.className,g)||null,style:Y(Y({},(n=k.props)===null||n===void 0?void 0:n.style),b),hidden:w})}),_S=["show"];function fd(e,t){return O.useMemo(function(){var r={};t&&(r.show=he(t)==="object"&&t.formatter?t.formatter:!!t),r=Y(Y({},r),e);var i=r,n=i.show,h=ht(i,_S);return Y(Y({},h),{},{show:!!n,showFormatter:typeof n=="function"?n:void 0,strategy:h.strategy||function(f){return f.length}})},[e,t])}var bS=["autoComplete","onChange","onFocus","onBlur","onPressEnter","onKeyDown","onKeyUp","prefixCls","disabled","htmlSize","className","maxLength","suffix","showCount","count","type","classes","classNames","styles","onCompositionStart","onCompositionEnd"],yS=O.forwardRef(function(e,t){var r=e.autoComplete,i=e.onChange,n=e.onFocus,h=e.onBlur,f=e.onPressEnter,s=e.onKeyDown,o=e.onKeyUp,a=e.prefixCls,d=a===void 0?"rc-input":a,u=e.disabled,g=e.htmlSize,b=e.className,S=e.maxLength,m=e.suffix,c=e.showCount,p=e.count,l=e.type,v=l===void 0?"text":l,_=e.classes,w=e.classNames,E=e.styles,C=e.onCompositionStart,y=e.onCompositionEnd,x=ht(e,bS),R=O.useState(!1),M=ce(R,2),I=M[0],T=M[1],B=O.useRef(!1),$=O.useRef(!1),F=O.useRef(null),z=O.useRef(null),U=function(le){F.current&&hd(F.current,le)},A=Ra(e.defaultValue,{value:e.value}),k=ce(A,2),P=k[0],D=k[1],V=P==null?"":String(P),j=O.useState(null),K=ce(j,2),J=K[0],H=K[1],L=fd(p,c),W=L.max||S,G=L.strategy(V),Z=!!W&&G>W;O.useImperativeHandle(t,function(){var ae;return{focus:U,blur:function(){var ve;(ve=F.current)===null||ve===void 0||ve.blur()},setSelectionRange:function(ve,De,Ze){var Pe;(Pe=F.current)===null||Pe===void 0||Pe.setSelectionRange(ve,De,Ze)},select:function(){var ve;(ve=F.current)===null||ve===void 0||ve.select()},input:F.current,nativeElement:((ae=z.current)===null||ae===void 0?void 0:ae.nativeElement)||F.current}}),O.useEffect(function(){$.current&&($.current=!1),T(function(ae){return ae&&u?!1:ae})},[u]);var Q=function(le,ve,De){var Ze=ve;if(!B.current&&L.exceedFormatter&&L.max&&L.strategy(ve)>L.max){if(Ze=L.exceedFormatter(ve,{max:L.max}),ve!==Ze){var Pe,Ke;H([((Pe=F.current)===null||Pe===void 0?void 0:Pe.selectionStart)||0,((Ke=F.current)===null||Ke===void 0?void 0:Ke.selectionEnd)||0])}}else if(De.source==="compositionEnd")return;D(Ze),F.current&&$n(F.current,le,i,Ze)};O.useEffect(function(){if(J){var ae;(ae=F.current)===null||ae===void 0||ae.setSelectionRange.apply(ae,ue(J))}},[J]);var se=function(le){Q(le,le.target.value,{source:"change"})},fe=function(le){B.current=!1,Q(le,le.currentTarget.value,{source:"compositionEnd"}),y?.(le)},de=function(le){f&&le.key==="Enter"&&!$.current&&($.current=!0,f(le)),s?.(le)},oe=function(le){le.key==="Enter"&&($.current=!1),o?.(le)},re=function(le){T(!0),n?.(le)},_e=function(le){$.current&&($.current=!1),T(!1),h?.(le)},xe=function(le){D(""),U(),F.current&&$n(F.current,le,i)},Ge=Z&&"".concat(d,"-out-of-range"),Ee=function(){var le=Ma(e,["prefixCls","onPressEnter","addonBefore","addonAfter","prefix","suffix","allowClear","defaultValue","showCount","count","classes","htmlSize","styles","classNames","onClear"]);return ee.createElement("input",et({autoComplete:r},le,{onChange:se,onFocus:re,onBlur:_e,onKeyDown:de,onKeyUp:oe,className:pe(d,q({},"".concat(d,"-disabled"),u),w?.input),style:E?.input,ref:F,size:g,type:v,onCompositionStart:function(De){B.current=!0,C?.(De)},onCompositionEnd:fe}))},Se=function(){var le=Number(W)>0;if(m||L.show){var ve=L.showFormatter?L.showFormatter({value:V,count:G,maxLength:W}):"".concat(G).concat(le?" / ".concat(W):"");return ee.createElement(ee.Fragment,null,L.show&&ee.createElement("span",{className:pe("".concat(d,"-show-count-suffix"),q({},"".concat(d,"-show-count-has-suffix"),!!m),w?.count),style:Y({},E?.count)},ve),m)}return null};return ee.createElement(dd,et({},x,{prefixCls:d,className:pe(b,Ge),handleReset:xe,value:V,focused:I,triggerFocus:U,suffix:Se(),disabled:u,classes:_,classNames:w,styles:E,ref:z}),Ee())});const pd=e=>{let t;return typeof e=="object"&&e?.clearIcon?t=e:e&&(t={clearIcon:ee.createElement(f0,null)}),t};function vd(e,t){const r=O.useRef([]),i=()=>{r.current.push(setTimeout(()=>{var n,h,f,s;!((n=e.current)===null||n===void 0)&&n.input&&((h=e.current)===null||h===void 0?void 0:h.input.getAttribute("type"))==="password"&&(!((f=e.current)===null||f===void 0)&&f.input.hasAttribute("value"))&&((s=e.current)===null||s===void 0||s.input.removeAttribute("value"))}))};return O.useEffect(()=>(t&&i(),()=>r.current.forEach(n=>{n&&clearTimeout(n)})),[]),i}function SS(e){return!!(e.prefix||e.suffix||e.allowClear||e.showCount)}var CS=function(e,t){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(r[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,i=Object.getOwnPropertySymbols(e);n<i.length;n++)t.indexOf(i[n])<0&&Object.prototype.propertyIsEnumerable.call(e,i[n])&&(r[i[n]]=e[i[n]]);return r};const is=O.forwardRef((e,t)=>{const{prefixCls:r,bordered:i=!0,status:n,size:h,disabled:f,onBlur:s,onFocus:o,suffix:a,allowClear:d,addonAfter:u,addonBefore:g,className:b,style:S,styles:m,rootClassName:c,onChange:p,classNames:l,variant:v}=e,_=CS(e,["prefixCls","bordered","status","size","disabled","onBlur","onFocus","suffix","allowClear","addonAfter","addonBefore","className","style","styles","rootClassName","onChange","classNames","variant"]),{getPrefixCls:w,direction:E,allowClear:C,autoComplete:y,className:x,style:R,classNames:M,styles:I}=xa("input"),T=w("input",r),B=O.useRef(null),$=jh(T),[F,z,U]=ld(T,c),[A]=ud(T,$),{compactSize:k,compactItemClassnames:P}=Kn(T,E),D=$i(_e=>{var xe;return(xe=h??k)!==null&&xe!==void 0?xe:_e}),V=ee.useContext(wr),j=f??V,{status:K,hasFeedback:J,feedbackIcon:H}=O.useContext(cr),L=Ba(K,n),W=SS(e)||!!J;O.useRef(W);const G=vd(B,!0),Z=_e=>{G(),s?.(_e)},Q=_e=>{G(),o?.(_e)},se=_e=>{G(),p?.(_e)},fe=(J||a)&&ee.createElement(ee.Fragment,null,a,J&&H),de=pd(d??C),[oe,re]=rd("input",v,i);return F(A(ee.createElement(yS,Object.assign({ref:Yr(t,B),prefixCls:T,autoComplete:y},_,{disabled:j,onBlur:Z,onFocus:Q,style:Object.assign(Object.assign({},R),S),styles:Object.assign(Object.assign({},I),m),suffix:fe,allowClear:de,className:pe(b,c,U,$,P,x),onChange:se,addonBefore:g&&ee.createElement(Ml,{form:!0,space:!0},g),addonAfter:u&&ee.createElement(Ml,{form:!0,space:!0},u),classNames:Object.assign(Object.assign(Object.assign({},l),M),{input:pe({[`${T}-sm`]:D==="small",[`${T}-lg`]:D==="large",[`${T}-rtl`]:E==="rtl"},l?.input,M.input,z),variant:pe({[`${T}-${oe}`]:re},ra(T,L)),affixWrapper:pe({[`${T}-affix-wrapper-sm`]:D==="small",[`${T}-affix-wrapper-lg`]:D==="large",[`${T}-affix-wrapper-rtl`]:E==="rtl"},z),wrapper:pe({[`${T}-group-rtl`]:E==="rtl"},z),groupWrapper:pe({[`${T}-group-wrapper-sm`]:D==="small",[`${T}-group-wrapper-lg`]:D==="large",[`${T}-group-wrapper-rtl`]:E==="rtl",[`${T}-group-wrapper-${oe}`]:re},ra(`${T}-group-wrapper`,L,J),z)})}))))});var wS={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M942.2 486.2C847.4 286.5 704.1 186 512 186c-192.2 0-335.4 100.5-430.2 300.3a60.3 60.3 0 000 51.5C176.6 737.5 319.9 838 512 838c192.2 0 335.4-100.5 430.2-300.3 7.7-16.2 7.7-35 0-51.5zM512 766c-161.3 0-279.4-81.8-362.7-254C232.6 339.8 350.7 258 512 258c161.3 0 279.4 81.8 362.7 254C791.5 684.2 673.4 766 512 766zm-4-430c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm0 288c-61.9 0-112-50.1-112-112s50.1-112 112-112 112 50.1 112 112-50.1 112-112 112z"}}]},name:"eye",theme:"outlined"},ES=function(t,r){return O.createElement(dr,et({},t,{ref:r,icon:wS}))},xS=O.forwardRef(ES);const RS=e=>{const{getPrefixCls:t,direction:r}=O.useContext(tt),{prefixCls:i,className:n}=e,h=t("input-group",i),f=t("input"),[s,o,a]=ud(f),d=pe(h,a,{[`${h}-lg`]:e.size==="large",[`${h}-sm`]:e.size==="small",[`${h}-compact`]:e.compact,[`${h}-rtl`]:r==="rtl"},o,n),u=O.useContext(cr),g=O.useMemo(()=>Object.assign(Object.assign({},u),{isFormItemInput:!1}),[u]);return s(O.createElement("span",{className:d,style:e.style,onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave,onFocus:e.onFocus,onBlur:e.onBlur},O.createElement(cr.Provider,{value:g},e.children)))},OS=e=>{const{componentCls:t,paddingXS:r}=e;return{[t]:{display:"inline-flex",alignItems:"center",flexWrap:"nowrap",columnGap:r,[`${t}-input-wrapper`]:{position:"relative",[`${t}-mask-icon`]:{position:"absolute",zIndex:"1",top:"50%",right:"50%",transform:"translate(50%, -50%)",pointerEvents:"none"},[`${t}-mask-input`]:{color:"transparent",caretColor:"var(--ant-color-text)"},[`${t}-mask-input[type=number]::-webkit-inner-spin-button`]:{"-webkit-appearance":"none",margin:0},[`${t}-mask-input[type=number]`]:{"-moz-appearance":"textfield"}},"&-rtl":{direction:"rtl"},[`${t}-input`]:{textAlign:"center",paddingInline:e.paddingXXS},[`&${t}-sm ${t}-input`]:{paddingInline:e.calc(e.paddingXXS).div(2).equal()},[`&${t}-lg ${t}-input`]:{paddingInline:e.paddingXS}}}},AS=Rr(["Input","OTP"],e=>{const t=Ct(e,ts(e));return[OS(t)]},rs);var TS=function(e,t){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(r[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,i=Object.getOwnPropertySymbols(e);n<i.length;n++)t.indexOf(i[n])<0&&Object.prototype.propertyIsEnumerable.call(e,i[n])&&(r[i[n]]=e[i[n]]);return r};const LS=O.forwardRef((e,t)=>{const{className:r,value:i,onChange:n,onActiveChange:h,index:f,mask:s}=e,o=TS(e,["className","value","onChange","onActiveChange","index","mask"]),{getPrefixCls:a}=O.useContext(tt),d=a("otp"),u=typeof s=="string"?s:i,g=O.useRef(null);O.useImperativeHandle(t,()=>g.current);const b=p=>{n(f,p.target.value)},S=()=>{Wt(()=>{var p;const l=(p=g.current)===null||p===void 0?void 0:p.input;document.activeElement===l&&l&&l.select()})},m=p=>{const{key:l,ctrlKey:v,metaKey:_}=p;l==="ArrowLeft"?h(f-1):l==="ArrowRight"?h(f+1):l==="z"&&(v||_)&&p.preventDefault(),S()},c=p=>{p.key==="Backspace"&&!i&&h(f-1),S()};return O.createElement("span",{className:`${d}-input-wrapper`,role:"presentation"},s&&i!==""&&i!==void 0&&O.createElement("span",{className:`${d}-mask-icon`,"aria-hidden":"true"},u),O.createElement(is,Object.assign({"aria-label":`OTP Input ${f+1}`,type:s===!0?"password":"text"},o,{ref:g,value:i,onInput:b,onFocus:S,onKeyDown:m,onKeyUp:c,onMouseDown:S,onMouseUp:S,className:pe(r,{[`${d}-mask-input`]:s})})))});var MS=function(e,t){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(r[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,i=Object.getOwnPropertySymbols(e);n<i.length;n++)t.indexOf(i[n])<0&&Object.prototype.propertyIsEnumerable.call(e,i[n])&&(r[i[n]]=e[i[n]]);return r};function dn(e){return(e||"").split("")}const IS=e=>{const{index:t,prefixCls:r,separator:i}=e,n=typeof i=="function"?i(t):i;return n?O.createElement("span",{className:`${r}-separator`},n):null},PS=O.forwardRef((e,t)=>{const{prefixCls:r,length:i=6,size:n,defaultValue:h,value:f,onChange:s,formatter:o,separator:a,variant:d,disabled:u,status:g,autoFocus:b,mask:S,type:m,onInput:c,inputMode:p}=e,l=MS(e,["prefixCls","length","size","defaultValue","value","onChange","formatter","separator","variant","disabled","status","autoFocus","mask","type","onInput","inputMode"]),{getPrefixCls:v,direction:_}=O.useContext(tt),w=v("otp",r),E=b0(l,{aria:!0,data:!0,attr:!0}),[C,y,x]=AS(w),R=$i(j=>n??j),M=O.useContext(cr),I=Ba(M.status,g),T=O.useMemo(()=>Object.assign(Object.assign({},M),{status:I,hasFeedback:!1,feedbackIcon:null}),[M,I]),B=O.useRef(null),$=O.useRef({});O.useImperativeHandle(t,()=>({focus:()=>{var j;(j=$.current[0])===null||j===void 0||j.focus()},blur:()=>{var j;for(let K=0;K<i;K+=1)(j=$.current[K])===null||j===void 0||j.blur()},nativeElement:B.current}));const F=j=>o?o(j):j,[z,U]=O.useState(()=>dn(F(h||"")));O.useEffect(()=>{f!==void 0&&U(dn(f))},[f]);const A=ar(j=>{U(j),c&&c(j),s&&j.length===i&&j.every(K=>K)&&j.some((K,J)=>z[J]!==K)&&s(j.join(""))}),k=ar((j,K)=>{let J=ue(z);for(let L=0;L<j;L+=1)J[L]||(J[L]="");K.length<=1?J[j]=K:J=J.slice(0,j).concat(dn(K)),J=J.slice(0,i);for(let L=J.length-1;L>=0&&!J[L];L-=1)J.pop();const H=F(J.map(L=>L||" ").join(""));return J=dn(H).map((L,W)=>L===" "&&!J[W]?J[W]:L),J}),P=(j,K)=>{var J;const H=k(j,K),L=Math.min(j+K.length,i-1);L!==j&&H[j]!==void 0&&((J=$.current[L])===null||J===void 0||J.focus()),A(H)},D=j=>{var K;(K=$.current[j])===null||K===void 0||K.focus()},V={variant:d,disabled:u,status:I,mask:S,type:m,inputMode:p};return C(O.createElement("div",Object.assign({},E,{ref:B,className:pe(w,{[`${w}-sm`]:R==="small",[`${w}-lg`]:R==="large",[`${w}-rtl`]:_==="rtl"},x,y),role:"group"}),O.createElement(cr.Provider,{value:T},Array.from({length:i}).map((j,K)=>{const J=`otp-${K}`,H=z[K]||"";return O.createElement(O.Fragment,{key:J},O.createElement(LS,Object.assign({ref:L=>{$.current[K]=L},index:K,size:R,htmlSize:1,className:`${w}-input`,onChange:P,value:H,onActiveChange:D,autoFocus:K===0&&b},V)),K<i-1&&O.createElement(IS,{separator:a,index:K,prefixCls:w}))}))))});var kS={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M942.2 486.2Q889.47 375.11 816.7 305l-50.88 50.88C807.31 395.53 843.45 447.4 874.7 512 791.5 684.2 673.4 766 512 766q-72.67 0-133.87-22.38L323 798.75Q408 838 512 838q288.3 0 430.2-300.3a60.29 60.29 0 000-51.5zm-63.57-320.64L836 122.88a8 8 0 00-11.32 0L715.31 232.2Q624.86 186 512 186q-288.3 0-430.2 300.3a60.3 60.3 0 000 51.5q56.69 119.4 136.5 191.41L112.48 835a8 8 0 000 11.31L155.17 889a8 8 0 0011.31 0l712.15-712.12a8 8 0 000-11.32zM149.3 512C232.6 339.8 350.7 258 512 258c54.54 0 104.13 9.36 149.12 28.39l-70.3 70.3a176 176 0 00-238.13 238.13l-83.42 83.42C223.1 637.49 183.3 582.28 149.3 512zm246.7 0a112.11 112.11 0 01146.2-106.69L401.31 546.2A112 112 0 01396 512z"}},{tag:"path",attrs:{d:"M508 624c-3.46 0-6.87-.16-10.25-.47l-52.82 52.82a176.09 176.09 0 00227.42-227.42l-52.82 52.82c.31 3.38.47 6.79.47 10.25a111.94 111.94 0 01-112 112z"}}]},name:"eye-invisible",theme:"outlined"},BS=function(t,r){return O.createElement(dr,et({},t,{ref:r,icon:kS}))},DS=O.forwardRef(BS),$S=function(e,t){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(r[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,i=Object.getOwnPropertySymbols(e);n<i.length;n++)t.indexOf(i[n])<0&&Object.prototype.propertyIsEnumerable.call(e,i[n])&&(r[i[n]]=e[i[n]]);return r};const FS=e=>e?O.createElement(xS,null):O.createElement(DS,null),HS={click:"onClick",hover:"onMouseOver"},jS=O.forwardRef((e,t)=>{const{disabled:r,action:i="click",visibilityToggle:n=!0,iconRender:h=FS}=e,f=O.useContext(wr),s=r??f,o=typeof n=="object"&&n.visible!==void 0,[a,d]=O.useState(()=>o?n.visible:!1),u=O.useRef(null);O.useEffect(()=>{o&&d(n.visible)},[o,n]);const g=vd(u),b=()=>{var R;if(s)return;a&&g();const M=!a;d(M),typeof n=="object"&&((R=n.onVisibleChange)===null||R===void 0||R.call(n,M))},S=R=>{const M=HS[i]||"",I=h(a),T={[M]:b,className:`${R}-icon`,key:"passwordIcon",onMouseDown:B=>{B.preventDefault()},onMouseUp:B=>{B.preventDefault()}};return O.cloneElement(O.isValidElement(I)?I:O.createElement("span",null,I),T)},{className:m,prefixCls:c,inputPrefixCls:p,size:l}=e,v=$S(e,["className","prefixCls","inputPrefixCls","size"]),{getPrefixCls:_}=O.useContext(tt),w=_("input",p),E=_("input-password",c),C=n&&S(E),y=pe(E,m,{[`${E}-${l}`]:!!l}),x=Object.assign(Object.assign({},Ma(v,["suffix","iconRender","visibilityToggle"])),{type:a?"text":"password",className:y,prefixCls:w,suffix:C});return l&&(x.size=l),O.createElement(is,Object.assign({ref:Yr(t,u)},x))});var zS=function(e,t){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(r[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,i=Object.getOwnPropertySymbols(e);n<i.length;n++)t.indexOf(i[n])<0&&Object.prototype.propertyIsEnumerable.call(e,i[n])&&(r[i[n]]=e[i[n]]);return r};const NS=O.forwardRef((e,t)=>{const{prefixCls:r,inputPrefixCls:i,className:n,size:h,suffix:f,enterButton:s=!1,addonAfter:o,loading:a,disabled:d,onSearch:u,onChange:g,onCompositionStart:b,onCompositionEnd:S,variant:m,onPressEnter:c}=e,p=zS(e,["prefixCls","inputPrefixCls","className","size","suffix","enterButton","addonAfter","loading","disabled","onSearch","onChange","onCompositionStart","onCompositionEnd","variant","onPressEnter"]),{getPrefixCls:l,direction:v}=O.useContext(tt),_=O.useRef(!1),w=l("input-search",r),E=l("input",i),{compactSize:C}=Kn(w,v),y=$i(V=>{var j;return(j=h??C)!==null&&j!==void 0?j:V}),x=O.useRef(null),R=V=>{V?.target&&V.type==="click"&&u&&u(V.target.value,V,{source:"clear"}),g?.(V)},M=V=>{var j;document.activeElement===((j=x.current)===null||j===void 0?void 0:j.input)&&V.preventDefault()},I=V=>{var j,K;u&&u((K=(j=x.current)===null||j===void 0?void 0:j.input)===null||K===void 0?void 0:K.value,V,{source:"input"})},T=V=>{_.current||a||(c?.(V),I(V))},B=typeof s=="boolean"?O.createElement(Vy,null):null,$=`${w}-button`;let F;const z=s||{},U=z.type&&z.type.__ANT_BUTTON===!0;U||z.type==="button"?F=Pn(z,Object.assign({onMouseDown:M,onClick:V=>{var j,K;(K=(j=z?.props)===null||j===void 0?void 0:j.onClick)===null||K===void 0||K.call(j,V),I(V)},key:"enterButton"},U?{className:$,size:y}:{})):F=O.createElement(Pa,{className:$,color:s?"primary":"default",size:y,disabled:d,key:"enterButton",onMouseDown:M,onClick:I,loading:a,icon:B,variant:m==="borderless"||m==="filled"||m==="underlined"?"text":s?"solid":void 0},s),o&&(F=[F,Pn(o,{key:"addonAfter"})]);const A=pe(w,{[`${w}-rtl`]:v==="rtl",[`${w}-${y}`]:!!y,[`${w}-with-button`]:!!s},n),k=V=>{_.current=!0,b?.(V)},P=V=>{_.current=!1,S?.(V)},D=Object.assign(Object.assign({},p),{className:A,prefixCls:E,type:"search",size:y,variant:m,onPressEnter:T,onCompositionStart:k,onCompositionEnd:P,addonAfter:F,suffix:f,onChange:R,disabled:d});return O.createElement(is,Object.assign({ref:Yr(x,t)},D))});var VS=`
  min-height:0 !important;
  max-height:none !important;
  height:0 !important;
  visibility:hidden !important;
  overflow:hidden !important;
  position:absolute !important;
  z-index:-1000 !important;
  top:0 !important;
  right:0 !important;
  pointer-events: none !important;
`,WS=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","font-variant","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing","word-break","white-space"],Ys={},mt;function US(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r=e.getAttribute("id")||e.getAttribute("data-reactid")||e.getAttribute("name");if(t&&Ys[r])return Ys[r];var i=window.getComputedStyle(e),n=i.getPropertyValue("box-sizing")||i.getPropertyValue("-moz-box-sizing")||i.getPropertyValue("-webkit-box-sizing"),h=parseFloat(i.getPropertyValue("padding-bottom"))+parseFloat(i.getPropertyValue("padding-top")),f=parseFloat(i.getPropertyValue("border-bottom-width"))+parseFloat(i.getPropertyValue("border-top-width")),s=WS.map(function(a){return"".concat(a,":").concat(i.getPropertyValue(a))}).join(";"),o={sizingStyle:s,paddingSize:h,borderSize:f,boxSizing:n};return t&&r&&(Ys[r]=o),o}function qS(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null;mt||(mt=document.createElement("textarea"),mt.setAttribute("tab-index","-1"),mt.setAttribute("aria-hidden","true"),mt.setAttribute("name","hiddenTextarea"),document.body.appendChild(mt)),e.getAttribute("wrap")?mt.setAttribute("wrap",e.getAttribute("wrap")):mt.removeAttribute("wrap");var n=US(e,t),h=n.paddingSize,f=n.borderSize,s=n.boxSizing,o=n.sizingStyle;mt.setAttribute("style","".concat(o,";").concat(VS)),mt.value=e.value||e.placeholder||"";var a=void 0,d=void 0,u,g=mt.scrollHeight;if(s==="border-box"?g+=f:s==="content-box"&&(g-=h),r!==null||i!==null){mt.value=" ";var b=mt.scrollHeight-h;r!==null&&(a=b*r,s==="border-box"&&(a=a+h+f),g=Math.max(a,g)),i!==null&&(d=b*i,s==="border-box"&&(d=d+h+f),u=g>d?"":"hidden",g=Math.min(d,g))}var S={height:g,overflowY:u,resize:"none"};return a&&(S.minHeight=a),d&&(S.maxHeight=d),S}var GS=["prefixCls","defaultValue","value","autoSize","onResize","className","style","disabled","onChange","onInternalAutoSize"],Js=0,Zs=1,Qs=2,KS=O.forwardRef(function(e,t){var r=e,i=r.prefixCls,n=r.defaultValue,h=r.value,f=r.autoSize,s=r.onResize,o=r.className,a=r.style,d=r.disabled,u=r.onChange;r.onInternalAutoSize;var g=ht(r,GS),b=Ra(n,{value:h,postState:function(j){return j??""}}),S=ce(b,2),m=S[0],c=S[1],p=function(j){c(j.target.value),u?.(j)},l=O.useRef();O.useImperativeHandle(t,function(){return{textArea:l.current}});var v=O.useMemo(function(){return f&&he(f)==="object"?[f.minRows,f.maxRows]:[]},[f]),_=ce(v,2),w=_[0],E=_[1],C=!!f,y=function(){try{if(document.activeElement===l.current){var j=l.current,K=j.selectionStart,J=j.selectionEnd,H=j.scrollTop;l.current.setSelectionRange(K,J),l.current.scrollTop=H}}catch{}},x=O.useState(Qs),R=ce(x,2),M=R[0],I=R[1],T=O.useState(),B=ce(T,2),$=B[0],F=B[1],z=function(){I(Js)};wi(function(){C&&z()},[h,w,E,C]),wi(function(){if(M===Js)I(Zs);else if(M===Zs){var V=qS(l.current,!1,w,E);I(Qs),F(V)}else y()},[M]);var U=O.useRef(),A=function(){Wt.cancel(U.current)},k=function(j){M===Qs&&(s?.(j),f&&(A(),U.current=Wt(function(){z()})))};O.useEffect(function(){return A},[]);var P=C?$:null,D=Y(Y({},a),P);return(M===Js||M===Zs)&&(D.overflowY="hidden",D.overflowX="hidden"),O.createElement($u,{onResize:k,disabled:!(f||s)},O.createElement("textarea",et({},g,{ref:l,style:D,className:pe(i,o,q({},"".concat(i,"-disabled"),d)),disabled:d,value:m,onChange:p})))}),XS=["defaultValue","value","onFocus","onBlur","onChange","allowClear","maxLength","onCompositionStart","onCompositionEnd","suffix","prefixCls","showCount","count","className","style","disabled","hidden","classNames","styles","onResize","onClear","onPressEnter","readOnly","autoSize","onKeyDown"],YS=ee.forwardRef(function(e,t){var r,i=e.defaultValue,n=e.value,h=e.onFocus,f=e.onBlur,s=e.onChange,o=e.allowClear,a=e.maxLength,d=e.onCompositionStart,u=e.onCompositionEnd,g=e.suffix,b=e.prefixCls,S=b===void 0?"rc-textarea":b,m=e.showCount,c=e.count,p=e.className,l=e.style,v=e.disabled,_=e.hidden,w=e.classNames,E=e.styles,C=e.onResize,y=e.onClear,x=e.onPressEnter,R=e.readOnly,M=e.autoSize,I=e.onKeyDown,T=ht(e,XS),B=Ra(i,{value:n,defaultValue:i}),$=ce(B,2),F=$[0],z=$[1],U=F==null?"":String(F),A=ee.useState(!1),k=ce(A,2),P=k[0],D=k[1],V=ee.useRef(!1),j=ee.useState(null),K=ce(j,2),J=K[0],H=K[1],L=O.useRef(null),W=O.useRef(null),G=function(){var ge;return(ge=W.current)===null||ge===void 0?void 0:ge.textArea},Z=function(){G().focus()};O.useImperativeHandle(t,function(){var Oe;return{resizableTextArea:W.current,focus:Z,blur:function(){G().blur()},nativeElement:((Oe=L.current)===null||Oe===void 0?void 0:Oe.nativeElement)||G()}}),O.useEffect(function(){D(function(Oe){return!v&&Oe})},[v]);var Q=ee.useState(null),se=ce(Q,2),fe=se[0],de=se[1];ee.useEffect(function(){if(fe){var Oe;(Oe=G()).setSelectionRange.apply(Oe,ue(fe))}},[fe]);var oe=fd(c,m),re=(r=oe.max)!==null&&r!==void 0?r:a,_e=Number(re)>0,xe=oe.strategy(U),Ge=!!re&&xe>re,Ee=function(ge,$e){var Re=$e;!V.current&&oe.exceedFormatter&&oe.max&&oe.strategy($e)>oe.max&&(Re=oe.exceedFormatter($e,{max:oe.max}),$e!==Re&&de([G().selectionStart||0,G().selectionEnd||0])),z(Re),$n(ge.currentTarget,ge,s,Re)},Se=function(ge){V.current=!0,d?.(ge)},ae=function(ge){V.current=!1,Ee(ge,ge.currentTarget.value),u?.(ge)},le=function(ge){Ee(ge,ge.target.value)},ve=function(ge){ge.key==="Enter"&&x&&x(ge),I?.(ge)},De=function(ge){D(!0),h?.(ge)},Ze=function(ge){D(!1),f?.(ge)},Pe=function(ge){z(""),Z(),$n(G(),ge,s)},Ke=g,ze;oe.show&&(oe.showFormatter?ze=oe.showFormatter({value:U,count:xe,maxLength:re}):ze="".concat(xe).concat(_e?" / ".concat(re):""),Ke=ee.createElement(ee.Fragment,null,Ke,ee.createElement("span",{className:pe("".concat(S,"-data-count"),w?.count),style:E?.count},ze)));var lt=function(ge){var $e;C?.(ge),($e=G())!==null&&$e!==void 0&&$e.style.height&&H(!0)},we=!M&&!m&&!o;return ee.createElement(dd,{ref:L,value:U,allowClear:o,handleReset:Pe,suffix:Ke,prefixCls:S,classNames:Y(Y({},w),{},{affixWrapper:pe(w?.affixWrapper,q(q({},"".concat(S,"-show-count"),m),"".concat(S,"-textarea-allow-clear"),o))}),disabled:v,focused:P,className:pe(p,Ge&&"".concat(S,"-out-of-range")),style:Y(Y({},l),J&&!we?{height:"auto"}:{}),dataAttrs:{affixWrapper:{"data-count":typeof ze=="string"?ze:void 0}},hidden:_,readOnly:R,onClear:y},ee.createElement(KS,et({},T,{autoSize:M,maxLength:a,onKeyDown:ve,onChange:le,onFocus:De,onBlur:Ze,onCompositionStart:Se,onCompositionEnd:ae,className:pe(w?.textarea),style:Y(Y({},E?.textarea),{},{resize:l?.resize}),disabled:v,prefixCls:S,onResize:lt,ref:W,readOnly:R})))});const JS=e=>{const{componentCls:t,paddingLG:r}=e,i=`${t}-textarea`;return{[`textarea${t}`]:{maxWidth:"100%",height:"auto",minHeight:e.controlHeight,lineHeight:e.lineHeight,verticalAlign:"bottom",transition:`all ${e.motionDurationSlow}`,resize:"vertical",[`&${t}-mouse-active`]:{transition:`all ${e.motionDurationSlow}, height 0s, width 0s`}},[`${t}-textarea-affix-wrapper-resize-dirty`]:{width:"auto"},[i]:{position:"relative","&-show-count":{[`${t}-data-count`]:{position:"absolute",bottom:e.calc(e.fontSize).mul(e.lineHeight).mul(-1).equal(),insetInlineEnd:0,color:e.colorTextDescription,whiteSpace:"nowrap",pointerEvents:"none"}},[`
        &-allow-clear > ${t},
        &-affix-wrapper${i}-has-feedback ${t}
      `]:{paddingInlineEnd:r},[`&-affix-wrapper${t}-affix-wrapper`]:{padding:0,[`> textarea${t}`]:{fontSize:"inherit",border:"none",outline:"none",background:"transparent",minHeight:e.calc(e.controlHeight).sub(e.calc(e.lineWidth).mul(2)).equal(),"&:focus":{boxShadow:"none !important"}},[`${t}-suffix`]:{margin:0,"> *:not(:last-child)":{marginInline:0},[`${t}-clear-icon`]:{position:"absolute",insetInlineEnd:e.paddingInline,insetBlockStart:e.paddingXS},[`${i}-suffix`]:{position:"absolute",top:0,insetInlineEnd:e.paddingInline,bottom:0,zIndex:1,display:"inline-flex",alignItems:"center",margin:"auto",pointerEvents:"none"}}},[`&-affix-wrapper${t}-affix-wrapper-rtl`]:{[`${t}-suffix`]:{[`${t}-data-count`]:{direction:"ltr",insetInlineStart:0}}},[`&-affix-wrapper${t}-affix-wrapper-sm`]:{[`${t}-suffix`]:{[`${t}-clear-icon`]:{insetInlineEnd:e.paddingInlineSM}}}}}},ZS=Rr(["Input","TextArea"],e=>{const t=Ct(e,ts(e));return[JS(t)]},rs,{resetFont:!1});var QS=function(e,t){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(r[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,i=Object.getOwnPropertySymbols(e);n<i.length;n++)t.indexOf(i[n])<0&&Object.prototype.propertyIsEnumerable.call(e,i[n])&&(r[i[n]]=e[i[n]]);return r};const e1=O.forwardRef((e,t)=>{var r;const{prefixCls:i,bordered:n=!0,size:h,disabled:f,status:s,allowClear:o,classNames:a,rootClassName:d,className:u,style:g,styles:b,variant:S,showCount:m,onMouseDown:c,onResize:p}=e,l=QS(e,["prefixCls","bordered","size","disabled","status","allowClear","classNames","rootClassName","className","style","styles","variant","showCount","onMouseDown","onResize"]),{getPrefixCls:v,direction:_,allowClear:w,autoComplete:E,className:C,style:y,classNames:x,styles:R}=xa("textArea"),M=O.useContext(wr),I=f??M,{status:T,hasFeedback:B,feedbackIcon:$}=O.useContext(cr),F=Ba(T,s),z=O.useRef(null);O.useImperativeHandle(t,()=>{var oe;return{resizableTextArea:(oe=z.current)===null||oe===void 0?void 0:oe.resizableTextArea,focus:re=>{var _e,xe;hd((xe=(_e=z.current)===null||_e===void 0?void 0:_e.resizableTextArea)===null||xe===void 0?void 0:xe.textArea,re)},blur:()=>{var re;return(re=z.current)===null||re===void 0?void 0:re.blur()}}});const U=v("input",i),A=jh(U),[k,P,D]=ld(U,d),[V]=ZS(U,A),{compactSize:j,compactItemClassnames:K}=Kn(U,_),J=$i(oe=>{var re;return(re=h??j)!==null&&re!==void 0?re:oe}),[H,L]=rd("textArea",S,n),W=pd(o??w),[G,Z]=O.useState(!1),[Q,se]=O.useState(!1),fe=oe=>{Z(!0),c?.(oe);const re=()=>{Z(!1),document.removeEventListener("mouseup",re)};document.addEventListener("mouseup",re)},de=oe=>{var re,_e;if(p?.(oe),G&&typeof getComputedStyle=="function"){const xe=(_e=(re=z.current)===null||re===void 0?void 0:re.nativeElement)===null||_e===void 0?void 0:_e.querySelector("textarea");xe&&getComputedStyle(xe).resize==="both"&&se(!0)}};return k(V(O.createElement(YS,Object.assign({autoComplete:E},l,{style:Object.assign(Object.assign({},y),g),styles:Object.assign(Object.assign({},R),b),disabled:I,allowClear:W,className:pe(D,A,u,d,K,C,Q&&`${U}-textarea-affix-wrapper-resize-dirty`),classNames:Object.assign(Object.assign(Object.assign({},a),x),{textarea:pe({[`${U}-sm`]:J==="small",[`${U}-lg`]:J==="large"},P,a?.textarea,x.textarea,G&&`${U}-mouse-active`),variant:pe({[`${U}-${H}`]:L},ra(U,F)),affixWrapper:pe(`${U}-textarea-affix-wrapper`,{[`${U}-affix-wrapper-rtl`]:_==="rtl",[`${U}-affix-wrapper-sm`]:J==="small",[`${U}-affix-wrapper-lg`]:J==="large",[`${U}-textarea-show-count`]:m||((r=e.count)===null||r===void 0?void 0:r.show)},P)}),prefixCls:U,suffix:B&&O.createElement("span",{className:`${U}-textarea-suffix`},$),showCount:m,ref:z,onResize:de,onMouseDown:fe}))))}),Qr=is;Qr.Group=RS;Qr.Search=NS;Qr.TextArea=e1;Qr.Password=jS;Qr.OTP=PS;function t1(){const e=O.useRef(null),t=O.useRef(null);let r=4e3;const{projectId:i}=zl(),{editorSocket:n}=lr(),{terminalSocket:h}=ha(),{port:f}=_u(),o=`${"http://mycodebox.live:3000".replace(/:\d+/,"")}:${f}`,a=()=>{if(!f){n?.emit("getPort",{containerName:i});return}e.current&&(e.current.src=o)},d=async()=>{try{(await Ed.get(o,{timeout:2e3})).status===200&&e.current&&(e.current.src=o),clearTimeout(t.current)}catch{t.current=setTimeout(d,r),r=Math.min(r*2,6e4)}};return O.useEffect(()=>(e.current&&f&&d(),()=>{clearTimeout(t.current)}),[f]),O.useEffect(()=>{h&&n?.emit("getPort",{containerName:i})},[h]),te.jsxs(vS,{style:{height:"100%",width:"100%",backgroundColor:"#22212b"},children:[te.jsx(Qr,{style:{width:"100%",height:"40px",color:"white",fontFamily:"Fira Code",backgroundColor:"#343747ff",borderRadius:"0px",border:"none"},value:o,prefix:te.jsx(ov,{onClick:a,size:20,style:{cursor:"pointer"}}),spellCheck:"false"}),te.jsx("iframe",{ref:e,title:"Browser",style:{width:"100%",height:"100%",border:"none",backgroundColor:"white"}})]})}function c1(){const{projectId:e}=zl(),{setProjectId:t,projectId:r}=Ii(),{setEditorSocket:i}=lr(),{setTerminalSocket:n}=ha(),{openFileTabs:h}=zn(),f=O.useRef(null),s=O.useRef(0),o=()=>{const a=Date.now();a-s.current>50&&(f.current?.fit(),s.current=a,console.log("fitted"))};return O.useEffect(()=>{t(e);const a=gn("http://mycodebox.live:3000/editor",{query:{projectId:e}}),d=new WebSocket(`ws://mycodebox.live:4000/terminal?projectId=${e}`);return i(a),n(d),()=>{a.disconnect(),d.close(),i(null),n(null)}},[t,e,i,n]),te.jsx("div",{className:"project-playground-container",children:te.jsxs(_r,{children:[te.jsx(_r.Pane,{preferredSize:"15%",snap:!0,children:te.jsx("div",{className:"tree-structure-wrapper",children:r&&te.jsx(bv,{})})}),te.jsx(_r.Pane,{preferredSize:"65%",minSize:200,children:te.jsx("div",{className:"right-pane-wrapper",children:te.jsxs(_r,{vertical:!0,onChange:o,children:[te.jsx(_r.Pane,{preferredSize:"70%",children:te.jsxs("div",{className:"editor-section",children:[te.jsx("div",{className:"editor-buttons",style:{height:h.length>0?"2.1em":"0"},children:h?.map(a=>te.jsx(fv,{isActive:a.isActive,path:a.path,name:a.name},a.path))}),te.jsx(nv,{})]})}),te.jsx(_r.Pane,{preferredSize:"30%",minSize:40,snap:!0,visible:!0,children:te.jsxs("div",{className:"terminal-wrapper",children:[te.jsxs("h2",{className:"terminal-header",children:[te.jsx(Sf,{style:{cursor:"pointer"}}),te.jsx("span",{children:"Terminal"})]}),te.jsx(xv,{fitAddonRef:f})]})})]})})}),te.jsx(_r.Pane,{preferredSize:"30%",snap:!0,children:te.jsx("div",{className:"browser-wrapper",children:te.jsx(t1,{})})})]})})}export{c1 as default};
